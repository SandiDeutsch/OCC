<html><head><meta charset="utf-8"/><meta content="CCSP UI Help - Agent - Part 1" name="description"/></head><body><article><section><p>CCSP Security Guide - 7.3 and 7.4 
21 
g. 
Give the alsUser the following user mappings and permissions on the configuration 
database: 
 
5. 
Activate the alsUser profile in SQL: 
a. 
 Log on to SQL Server with the alsUser and then start SQL Server Management Studio 
(SSMS). 
b. 
After SSMS starts, connect to the database using the Windows Authentication option, 
which is now under the alsUser. 
6. 
Configure each Agent List service to log on as the alsUser user and restart the service. See 
Configure CCSP services to log on with reduced users.</p><p>CCSP Security Guide - 7.3 and 7.4 
22 
Configure the ccspAdminUser 
After installing CCSP Admin, manually add the ccspAdminUser. 
To configure the ccspAdminUser: 
1. 
In CCSP Admin, add the CCSPAdminUser to the System Resources &gt; Personnel list. 
2. 
In Active Directory, open Active Directory Users and Computers. Expand your domain and 
then click Users. Find the ccspAdminUser and give it domain membership of Account 
Operators. 
3. 
On each CCSP server: 
a. 
Log in with the existing administrator account.   
b. 
In the Control Panel, click User Accounts and then click Manage User Accounts.  
c. 
In the User Accounts dialog, add the ccspAdminUser and give it local administrator 
rights. 
4. 
Add the ccspAdminUser and grant it full permission on CCSPRoot OU and its child objects, as 
follows: 
a. 
Open ADSI Edit. 
b. 
Connect to the Default naming context. 
c. 
Right-click the CCSPRoot node and then click Properties. 
d. 
In the OU=CCSPRoot Properties dialog box, click the Security tab. Add the 
ccspAdminUser, select Full control, and then click Advanced. 
e. 
In the Advanced Security Settings for CCSPRoot dialog box, select the ccspAdminUser 
and then click Edit.</p><p>CCSP Security Guide - 7.3 and 7.4 
23 
f. 
In the Permission Entry for CCSPRoot dialog box, in the Applies to list, select This object 
and all descendant objects. Keep all the permissions selected and click OK to apply the 
changes. 
 
5. 
On your domain controller, open Group Policy Management by running the command 
gpmc.msc. 
a. 
Under your domain, right-click Default Domain Policy and then click Edit. 
b. 
Expand Policies &gt; Windows Settings &gt; Security Settings &gt; Local Policies, and then click 
User Rights Assignment. 
c. 
Double-click Log on as a batch job. Click Add User or Group and add the 
ccspAdminUser to the list. 
d. 
Double-click Log on as a service. Click Add User or Group and add the ccspAdminUser 
to the list. 
e. 
Run the command gpupdate /force on the domain controller and any server that will use 
this user. 
6. 
Launch SQL Server Management Studio. 
a. 
Under Object Browser, expand Security, right-click Logins, and create a new login 
named &lt;domain&gt;\ccspAdminUser. 
b. 
Give the ccspAdminUser a database account with the following Server roles enabled:</p><p>CCSP Security Guide - 7.3 and 7.4 
24 
 
c. 
Give the ccspAdminUser the following user mappings on the configuration database 
(CosmoCall): 
 
7. 
Activate the ccspAdminUser profile in SQL: 
a. 
 Log on to SQL Server with the ccspAdminUser and then start SQL Server Management 
Studio (SSMS). 
b. 
After SSMS starts, connect to the database using the Windows Authentication option, 
which is now under the ccspAdminUser. 
8. 
Configure Admin Application Pool (on IIS Management) to run under the ccspAdminUser user 
(by setting the Application Pool Identity) and restart the Application Pool.</p><p>CCSP Security Guide - 7.3 and 7.4 
25 
 
9. 
Run the following query against the configuration database to set CCSPAdminUser as 
internal: 
UPDATE [CosmoCall].[dbo].[crPersonnel] 
SET [Internal] = 1 
WHERE Name LIKE 'CCSPAdminUser'</p><p>CCSP Security Guide - 7.3 and 7.4 
26 
Configure the ccspUIUser 
After installing the CCSP UI and CCSP UI Admin web services, manually add the ccspUIUser. 
To configure the ccspUIUser: 
1. 
In Active Directory, open Active Directory Users and Computers. Expand your domain and 
then click Users. Create the ccspUIUser and give it domain membership of Domain Users. 
2. 
On your domain controller, open Group Policy Management by running the command 
gpmc.msc. 
a. 
Under your domain, right-click Default Domain Policy and then click Edit. 
b. 
Expand Policies &gt; Windows Settings &gt; Security Settings &gt; Local Policies, and then click 
User Rights Assignment. 
c. 
Double-click Log on as a batch job. Click Add User or Group and add the ccspUIUser to 
the list. 
d. 
Run the command gpupdate /force on the domain controller and any server that will use 
this user. 
3. 
On each CCSP UI or CCSP UI Admin server: 
a. 
Log in with the existing administrator account.   
b. 
In the Control Panel, click User Accounts and then click Manage User Accounts.  
c. 
In the User Accounts dialog, add the ccspUIUser and give it local administrator rights.</p><p>CCSP Security Guide - 7.3 and 7.4 
27 
4. 
Launch SQL Server Management Studio. 
a. 
Under Object Browser, expand Databases, expand the configuration database followed 
by Security and then Roles.   
b. 
Right-click Database Roles, and select New Database Role to create a new named 
db_executor. 
i. 
Select Securables, then search for objects of the type Databases. 
ii. 
Click Grant on the Execute permission for the Configuration Database:</p><p>CCSP Security Guide - 7.3 and 7.4 
28 
c. 
Under Object Browser, expand Security, right-click Logins, and create a new login 
named &lt;domain&gt;\ccspUIUser. 
d. 
The ccspUIUser should only be a member of the public SQL Server fixed server role: 
 
e. 
Map the ccspUIUser user to the Configuration Database, and give the user 
db_datareader, db_executor, and public database role membership: 
  
5. 
Configure each AdminPoint and TouchPoint Application Pool (on IIS Management) to run 
under ccspUIUser user, by selecting Advanced Settings… 
a. 
Set the Identity to &lt;domain&gt;\ccspUIUser. 
b. 
Set Load User Profile to True. 
c. 
Restart the Application Pool. See Configure CCSP web services to log on with reduced 
users.</p><p>CCSP Security Guide - 7.3 and 7.4 
29 
Configure the ccspWebUser 
After installing the Auth, ADP, and WebAdminAPI web services, manually add the ccspWebUser. 
To configure the ccspWebUser: 
1. 
In Active Directory, open Active Directory Users and Computers. Expand your domain and 
then click Users. Create the ccspWebUser and give it domain membership of Domain Users. 
2. 
On your domain controller, open Group Policy Management by running the command 
gpmc.msc. 
a. 
Under your domain, right-click Default Domain Policy and then click Edit. 
b. 
Expand Policies &gt; Windows Settings &gt; Security Settings &gt; Local Policies, and then click 
User Rights Assignment. 
c. 
Double-click Log on as a batch job. Click Add User or Group and add the ccspWebUser 
to the list. 
d. 
Run the command gpupdate /force on the domain controller and any server that will use 
this user. 
3. 
On each Auth, CCSP Admin, ADP, or WebAdminAPI server: 
a. 
Log in with the existing administrator account.   
b. 
In the Control Panel, click User Accounts and then click Manage User Accounts.  
c. 
In the User Accounts dialog, add the ccspWebUser and give it local administrator rights. 
4. 
Launch SQL Server Management Studio. 
a. 
Under Object Browser, expand Security, right-click Logins, and create a new login 
named &lt;domain&gt;\ccspWebUser. 
b. 
Give the ccspWebUser a database account with the following Server roles enabled:</p><p>CCSP Security Guide - 7.3 and 7.4 
30 
c. 
Give the ccspWebUser the following user mappings and permissions on the 
Configuration database: 
 
5. 
Activate the ccspWebUser profile in SQL: 
a. 
 Log on to SQL Server with the ccspWebUser and then start SQL Server Management 
Studio (SSMS). 
b. 
After SSMS starts, connect to the database using the Windows Authentication option, 
which is now under the ccspWebUser. 
6. 
Configure each Auth, ADP, or WebAdminAPI Application Pool (on IIS Management) to run 
under ccspWebUser user (by setting the Application Pool Identity) and restart the Application 
Pool. See Configure CCSP web services to log on with reduced users.</p><p>CCSP Security Guide - 7.3 and 7.4 
31 
Configure the cfmUser 
After installing the Configuration Manager, use CCSP Admin to enable Root CCSP OU mode in the 
CCU Universe parameters. Then verify that the CCSPRoot OU was created in Active Directory. For 
details, see the CCSP Operation Guide.  
Next manually add the cfmUser. 
To configure the cfmUser: 
1. 
In Active Directory, open Active Directory Users and Computers. Expand your domain and 
then click Users. Create the cfmUser and give it domain membership of Domain Users and 
Account Operators. 
2. 
On your domain controller, open Group Policy Management by running the command 
gpmc.msc. 
a. 
Under your domain, right-click Default Domain Policy and then click Edit. 
b. 
Expand Policies &gt; Windows Settings &gt; Security Settings &gt; Local Policies, and then click 
User Rights Assignment. 
c. 
Double-click Log on as a batch job. Click Add User or Group and add the cfmUser to the 
list. 
d. 
Double-click Log on as a service. Click Add User or Group and add the cfmUser to the 
list. 
e. 
Run the command gpupdate /force on the domain controller and any server that will use 
this user. 
3. 
On each CFM server: 
a. 
Log in with the existing administrator account.   
b. 
In the Control Panel, click User Accounts and then click Manage User Accounts.  
c. 
In the User Accounts dialog, add the cfmUser and give it local administrator rights. 
4. 
Add the cfmUser and grant it full permission on CCSPRoot OU and its child objects, as follows: 
a. 
Open ADSI Edit. 
b. 
Connect to the Default naming context. 
c. 
Right-click the CCSPRoot node and then click Properties. 
d. 
In the OU=CCSPRoot Properties dialog box, click the Security tab. Add the cfmUser , 
select Full control, and then click Advanced.</p><p>CCSP Security Guide - 7.3 and 7.4 
32 
 
e. 
In the Advanced Security Settings for CCSPRoot dialog box, select the cfmUser and 
then click Edit.</p><p>CCSP Security Guide - 7.3 and 7.4 
33 
f. 
In the Permission Entry for CCSPRoot dialog box, in the Applies to list, select This object 
and all descendant objects. Keep all the permissions selected and click OK to apply the 
changes. 
 
5. 
Launch SQL Server Management Studio. 
a. 
Under Object Browser, expand Security, right-click Logins, and create a new login 
named &lt;domain&gt;\cfmUser. 
b. 
The cfmUser should only be a member of the public SQL Server fixed server role. 
 
For RSS, also enable the sysadmin Server role.</p><p>CCSP Security Guide - 7.3 and 7.4 
34 
c. 
Give the cfmUser the following user mappings on: 
▪ 
Configuration database (CosmoCall): 
 
▪ 
System Database - master: 
 
Note 
As an alternative to assigning db_owner against the master database, you can 
further reduce the user permissions by granting execute permission on the stored 
procedure xp_logevent in the master database instead. 
To do this, run the following SQL: 
USE [master]; 
GRANT EXECUTE ON [master].dbo.xp_logevent TO [&lt;domain&gt;\cfmUser]; 
 
6. 
Activate the cfmUser profile in SQL: 
a. 
 Log on to SQL Server with the cfmUser and then start SQL Server Management Studio 
(SSMS). 
b. 
After SSMS starts, connect to the database using the Windows Authentication option, 
which is now under the cfmUser.</p><p>CCSP Security Guide - 7.3 and 7.4 
35 
Configure the dtrUser 
After installing the Data Transport Server, manually add the dtrUser. 
To configure the dtrUser: 
1. 
In Active Directory, open Active Directory Users and Computers. Expand your domain and 
then click Users. Create the dtrUser and give it domain membership of Domain Users. 
2. 
On your domain controller, open Group Policy Management by running the command 
gpmc.msc. 
a. 
Under your domain, right-click Default Domain Policy and then click Edit. 
b. 
Expand Policies &gt; Windows Settings &gt; Security Settings &gt; Local Policies, and then click 
User Rights Assignment. 
c. 
Double-click Log on as a batch job. Click Add User or Group and add the dtrUser to the 
list. 
d. 
Double-click Log on as a service. Click Add User or Group and add the dtrUser to the 
list. 
e. 
Run the command gpupdate /force on the domain controller and any server that will use 
this user. 
3. 
On each DTR server: 
a. 
Log in with the existing administrator account.   
b. 
In the Control Panel, click User Accounts and then click Manage User Accounts.  
c. 
In the User Accounts dialog, add the dtrUser and give it local administrator rights. 
4. 
Launch SQL Server Management Studio. 
a. 
Under Object Browser, expand Security, right-click Logins, and create a new login 
named &lt;domain&gt;\dtrUser. 
b. 
The dtrUser should only be a member of the public SQL Server fixed server role:</p><p>CCSP Security Guide - 7.3 and 7.4 
36 
c. 
Give the dtrUser the following user mappings on the media database (CosmoMedia): 
 
5. 
Activate the dtrUser profile in SQL: 
a. 
 Log on to SQL Server with the dtrUser and then start SQL Server Management Studio 
(SSMS). 
b. 
After SSMS starts, connect to the database using the Windows Authentication option, 
which is now under the dtrUser. 
6. 
Ensure that the dtrUser has access to C:\Users\dtrUser\AppData\Local\Temp and set the folder 
rights to Full Control for the dtrUser. See System web virtual directories. 
7. 
Configure each Data Transport Server service to log on as the dtrUser user and restart the 
service. See Configure CCSP services to log on with reduced users.</p><p>CCSP Security Guide - 7.3 and 7.4 
37 
Configure the ecsUser 
After installing the Configuration Manager, use CCSP Admin to enable Root CCSP OU mode in the 
CCU Universe parameters. Then verify that the CCSPRoot OU was created in Active Directory. For 
details, see the CCSP Operation Guide.  
Next manually add the ecsUser. 
To configure the ecsUser: 
1. 
In Active Directory, open Active Directory Users and Computers. Expand your domain and 
then click Users. Create the ecsUser and give it domain membership of Domain Users and 
Account Operators. 
2. 
Add the ecsUser and grant it full permission on CCSPRoot OU and its child objects, as follows: 
a. 
Open ADSI Edit. 
b. 
Connect to the Default naming context. 
c. 
Right-click the CCSPRoot node and then click Properties. 
d. 
In the OU=CCSPRoot Properties dialog box, click the Security tab. Add the ecsUser, 
select Full control, and then click Advanced.</p><p>CCSP Security Guide - 7.3 and 7.4 
38 
e. 
In the Advanced Security Settings for CCSPRoot dialog box, select the ecsUser and then 
click Edit. 
 
f. 
In the Permission Entry for CCSPRoot dialog box, in the Applies to list, select This object 
and all descendant objects. Keep all the permissions selected and click OK to apply the 
changes.</p><p>CCSP Security Guide - 7.3 and 7.4 
39 
 
3. 
On your domain controller, open Group Policy Management by running the command 
gpmc.msc. 
a. 
Under your domain, right-click Default Domain Policy and then click Edit. 
b. 
Expand Policies &gt; Windows Settings &gt; Security Settings &gt; Local Policies, and then click 
User Rights Assignment. 
c. 
Double-click Log on as a batch job. Click Add User or Group and add the ecsUser to the 
list. 
d. 
Double-click Log on as a service. Click Add User or Group and add the ecsUser to the 
list. 
e. 
Run the command gpupdate /force on the domain controller and any server that will use 
this user. 
4. 
Launch SQL Server Management Studio. 
a. 
Under Object Browser, expand Security, right-click Logins, and create a new login 
named &lt;domain&gt;\ecsUser. 
b. 
Give the ecsUser a database account with the following Server roles enabled:</p><p>CCSP Security Guide - 7.3 and 7.4 
40 
c. 
Give the ecsUser the following user mappings on the configuration database 
(CosmoCall): 
 
5. 
Activate the ecsUser profile in SQL: 
a. 
 Log on to SQL Server with the ecsUser and then start SQL Server Management Studio 
(SSMS). 
b. 
After SSMS starts, connect to the database using the Windows Authentication option, 
which is now under the ecsUser.</p><p>CCSP Security Guide - 7.3 and 7.4 
41 
Configure the lsUser 
After installing the Logging Server, manually add the lsUser. 
To configure the lsUser: 
1. 
In Active Directory, open Active Directory Users and Computers. Expand your domain and 
then click Users. Create the lsUser and give it domain membership of Domain Users. 
2. 
On your domain controller, open Group Policy Management by running the command 
gpmc.msc. 
a. 
Under your domain, right-click Default Domain Policy and then click Edit. 
b. 
Expand Policies &gt; Windows Settings &gt; Security Settings &gt; Local Policies, and then click 
User Rights Assignment. 
c. 
Double-click Log on as a batch job. Click Add User or Group and add the lsUser to the 
list. 
d. 
Double-click Log on as a service. Click Add User or Group and add the lsUser to the list. 
e. 
Run the command gpupdate /force on the domain controller and any server that will use 
this user. 
3. 
On each LS server: 
a. 
Log in with the existing administrator account.   
b. 
In the Control Panel, click User Accounts and then click Manage User Accounts.  
c. 
In the User Accounts dialog, add the lsUser and give it local administrator rights. 
4. 
Launch SQL Server Management Studio. 
a. 
Under Object Browser, expand Security, right-click Logins, and create a new login 
named &lt;domain&gt;\lsUser. 
b. 
The lsUser should only be a member of the public SQL Server fixed server role:</p><p>CCSP Security Guide - 7.3 and 7.4 
42 
c. 
Give the lsUser the following user mappings on the system administrator and tenant 
historical databases: 
 
5. 
Activate the lsUser profile in SQL: 
a. 
 Log on to SQL Server with the lsUser and then start SQL Server Management Studio 
(SSMS). 
b. 
After SSMS starts, connect to the database using the Windows Authentication option, 
which is now under the lsUser. 
6. 
Ensure that the lsUser has access to C:\Users\lsUser\AppData\Local\Temp and set the folder 
rights to Full Control for the lsUser. See System web virtual directories. 
7. 
Configure each Logging Server service to log on as the lsUser user and restart the service. See 
Configure CCSP services to log on with reduced users.</p><p>CCSP Security Guide - 7.3 and 7.4 
43 
Configure the msUser 
After installing the MS, manually add the msUser user. 
This user is similar to the reducedSVC but is also configured for Exchange accessibility. 
To configure the msUser user: 
1. 
In Active Directory, open Active Directory Users and Computers. Expand your domain and 
then click Users. Create the msUser and give it domain membership of Domain Users. 
2. 
On your domain controller, open Group Policy Management by running the command 
gpmc.msc. 
a. 
Under your domain, right-click Default Domain Policy and then click Edit. 
b. 
Expand Policies &gt; Windows Settings &gt; Security Settings &gt; Local Policies, and then click 
User Rights Assignment. 
c. 
Double-click Log on as a batch job. Click Add User or Group and add the msUser to the 
list. 
d. 
Double-click Log on as a service. Click Add User or Group and add the msUser to the 
list. 
e. 
Run the command gpupdate /force on the domain controller and any server that will use 
this user. 
3. 
On each MS server: 
a. 
Log in with the existing administrator account.   
b. 
In the Control Panel, click User Accounts and then click Manage User Accounts.  
c. 
In the User Accounts dialog, add the msUser and give it local administrator rights. 
4. 
On each MS server, open an elevated PowerShell console and set the Service Principal Name 
as follows: 
setspn -U -S EngCCSPMS/&lt;FQDN&gt; msUser 
5. 
Replace &lt;FQDN&gt; with the MS Network address defined in the MS Profile. 
6. 
Follow the appropriate step below according to the MSR type used for storing and managing 
CCSP Messaging: 
a. 
For Exchange-MSR: Configure the msUser to work with Exchange as MSR 
b. 
For MSR-DB: Configure the msUser to work with MSR DB 
Configure the msUser to work with Exchange as MSR 
1. 
Create a mailbox for that user and access that mailbox, as explained in Appendix F: Install 
Microsoft Exchange Server 2010 SP3 of the CCSP Prerequisites Guide.  
2. 
In Active Directory, open Active Directory Users and Computers. Expand your domain and 
then click Microsoft Exchange Security Groups. Make the msUser user a member of the 
following exchange domain groups: 
o 
Public Folder Management  
o 
Server Management  
o 
Organization Management</p><p>CCSP Security Guide - 7.3 and 7.4 
44 
3. 
Make sure Exchange EWS certification is installed in Explorer on each machine where MS is 
installed, by accessing https://&lt;Exchange Address&gt;/EWS/Exchange.asmx and installing the 
certifications for it, as follows: 
a. 
In the Certificate dialog box, click Install Certificate. 
b. 
On the Certificate Import Wizard – Welcome page, under Store Location, click Local 
Machine. 
 
Note 
We recommend that you install the certificate on Local Machine rather than Current User 
to ease user replacement and future support in multiple MSR access. 
 
c. 
On the Certificate Import Wizard – Certificate Store page, click Place all certificates in 
the following store, and then click Browse.</p><p>CCSP Security Guide - 7.3 and 7.4 
45 
d. 
In the Select Certificate Store dialog box, click Trusted Root Certificate Authorities 
and then click OK. 
 
4. 
Make this user owner in the root of CCSP PublicFolder.  
Note 
Perform this step only in the following cases: 
• 
If CCSP Root folder already exists, for example, after installing and running MS with 
svccosmocall assigned to DefaultTenant. 
• 
After creating the CCSP Root folder with the msUser user. 
5. 
Ensure that each msUser user can access the MSR PublicFolder. On the Exchange machine, 
open Exchange Management Shell and execute the following: 
Get-PublicFolder -Identity "\CCSP 7.1" -Recurse | Add-
PublicFolderClientPermission -User "msUser" -AccessRights Owner 
6. 
Assign the CCSP Throttling policy for the msUser: 
a. 
Perform the steps described in CCSP Exchange MSR throttling configuration in the CCSP 
Operation Guide.  
b. 
On the Exchange machine, open Exchange Management Shell and execute the following: 
Set-ThrottlingPolicyAssociation -Identity msUser -ThrottlingPolicy 
CCSPThrottlingPolicy</p><p>CCSP Security Guide - 7.3 and 7.4 
46 
7. 
Grant the msUser user Send as permission for Exchange Public folders, as follows: 
a. 
Open AD Users and Computers Console. On the View menu, verify that Advanced 
Features is selected.  
 
b. 
Right-click Microsoft Exchange System Objects and then click Properties. 
c. 
In the Microsoft Exchange System Objects Properties dialog box, click the Security tab 
and then click Advanced.</p><p>CCSP Security Guide - 7.3 and 7.4 
47 
d. 
In the Advanced Security Settings for Microsoft Exchange System Objects dialog box, 
click Add. 
 
e. 
In the Permission Entry for Microsoft Exchange System Objects dialog box: 
i. 
In Principal, select the msUser user. 
ii. 
In Applies to, select Descendant publicFolder objects. 
iii. 
Clear all the checkboxes except Send as.</p><p>CCSP Security Guide - 7.3 and 7.4 
48 
f. 
Ignore the Permission Warning and click Yes. 
 
8. 
Configure the MS service’s properties to log on as the msUser user and restart the service. 
See Configure CCSP services to log on with reduced users.</p><p>CCSP Security Guide - 7.3 and 7.4 
49 
Configure the msUser to work with MSR DB 
1. 
Launch SQL Server Management Studio. 
a. 
Under Object Browser, expand Security, right-click Logins, and create a new login 
named &lt;domain&gt;\msUser. 
b. 
Give the msUser a database account with the following Server roles enabled: 
 
c. 
Give the msUser the following user mappings and permissions on the appropriate tenant 
messaging database (MSR DB): 
 
2. 
Activate the msUser profile in SQL: 
a. 
Log on to SQL Server with the msUser and then start SQL Server Management Studio 
(SSMS). 
b. 
After SSMS starts, connect to the database using the Windows Authentication option, 
which is now under the msUser. 
3. 
Configure the MS service’s properties to log on as the msUser user and restart the service. 
See Configure CCSP services to log on with reduced users.</p><p>CCSP Security Guide - 7.3 and 7.4 
50 
Configure the pdsUser 
After installing the Predictive Dialing Server, manually add the pdsUser. 
To configure the pdsUser: 
1. 
In Active Directory, open Active Directory Users and Computers. Expand your domain and 
then click Users. Create the pdsUser and give it domain membership of Domain Users. 
2. 
On your domain controller, open Group Policy Management by running the command 
gpmc.msc. 
a. 
Under your domain, right-click Default Domain Policy and then click Edit. 
b. 
Expand Policies &gt; Windows Settings &gt; Security Settings &gt; Local Policies, and then click 
User Rights Assignment. 
c. 
Double-click Log on as a batch job. Click Add User or Group and add the pdsUser to the 
list. 
d. 
Double-click Log on as a service. Click Add User or Group and add the pdsUser to the 
list. 
e. 
Run the command gpupdate /force on the domain controller and any server that will use 
this user. 
3. 
On each PDS server: 
a. 
Log in with the existing administrator account.   
b. 
In the Control Panel, click User Accounts and then click Manage User Accounts.  
c. 
In the User Accounts dialog, add the pdsUser and give it local administrator rights. 
4. 
Launch SQL Server Management Studio. 
a. 
Under Object Browser, expand Security, right-click Logins, and create a new login 
named &lt;domain&gt;\pdsUser. 
b. 
Give the pdsUser a database account with the following Server roles enabled:</p><p>CCSP Security Guide - 7.3 and 7.4 
51 
c. 
Give the pdsUser the following user mappings on the sytel Database: 
 
5. 
Activate the pdsUser profile in SQL: 
a. 
 Log on to SQL Server with the pdsUser and then start SQL Server Management Studio 
(SSMS). 
b. 
After SSMS starts, connect to the database using the Windows Authentication option, 
which is now under the pdsUser. 
6. 
Configure the PDS service’s properties to log on as the pdsUser user and restart the service. 
See Configure CCSP services to log on with reduced users.</p><p>CCSP Security Guide - 7.3 and 7.4 
52 
Configure the privateVMUser 
After installing the voicemail web service, manually add the privateVMUser. 
To configure the privateVMUser: 
1. 
In Active Directory, open Active Directory Users and Computers. Expand your domain and 
then click Users. Create the privateVMUser and give it domain membership of Domain 
Users. 
2. 
On your domain controller, open Group Policy Management by running the command 
gpmc.msc. 
a. 
Under your domain, right-click Default Domain Policy and then click Edit. 
b. 
Expand Policies &gt; Windows Settings &gt; Security Settings &gt; Local Policies, and then click 
User Rights Assignment. 
c. 
Double-click Log on as a batch job. Click Add User or Group and add the 
privateVMUser to the list. 
d. 
Double-click Log on as a service. Click Add User or Group and add the privateVMUser 
to the list. 
e. 
Run the command gpupdate /force on the domain controller and any server that will use 
this user. 
3. 
On each VoiceMail WS server: 
a. 
Log in with the existing administrator account.   
b. 
In the Control Panel, click User Accounts and then click Manage User Accounts.  
c. 
In the User Accounts dialog, add the privateVMUser and give it local administrator 
rights. 
4. 
Launch SQL Server Management Studio. 
a. 
Under Object Browser, expand Security, right-click Logins, and create a new login 
named &lt;domain&gt;\privateVMUser. 
b. 
The privateVMUser should only be a member of the public SQL Server fixed server role:</p><p>CCSP Security Guide - 7.3 and 7.4 
53 
c. 
Give the privateVMUser the following user mappings and permissions on the media 
database (CosmoMedia): 
 
5. 
Activate the privateVMUser profile in SQL: 
a. 
 Log on to SQL Server with the privateVMUser and then start SQL Server Management 
Studio (SSMS). 
b. 
After SSMS starts, connect to the database using the Windows Authentication option, 
which is now under the privateVMUser.# 
6. 
Configure each Voicemail Web service to log on as the privateVMUser user and restart the 
service. See Configure CCSP web services to log on with reduced users.</p><p>CCSP Security Guide - 7.3 and 7.4 
54 
Configure the reducedSVC user  
After installing the AIS, LCS, VCS, MCS, DPS, PerformanceCountersRelayCollector, 
PerformanceCountersRelayTransmitter, Syslog, and VMS, manually add the reducedSVC user. 
To configure the reducedSVC user: 
1. 
In Active Directory, open Active Directory Users and Computers. Expand your domain and 
then click Users. Create the reducedSVC and give it domain membership of Domain Users. 
2. 
On your domain controller, open Group Policy Management by running the command 
gpmc.msc. 
a. 
Under your domain, right-click Default Domain Policy and then click Edit. 
b. 
Expand Policies &gt; Windows Settings &gt; Security Settings &gt; Local Policies, and then click 
User Rights Assignment. 
c. 
Double-click Log on as a batch job. Click Add User or Group and add the reducedSVC 
user to the list. 
d. 
Double-click Log on as a service. Click Add User or Group and add the reducedSVC user 
to the list. 
e. 
Run the command gpupdate /force on the domain controller and any server that will use 
this user. 
3. 
On each AIS, LCS, VCS, MCS, DPS, PerformanceCountersRelayCollector, 
PerformanceCountersRelayTransmitter, Syslog, and VMS server: 
a. 
Log in with the existing administrator account.   
b. 
In the Control Panel, click User Accounts and then click Manage User Accounts.  
c. 
In the User Accounts dialog, add the reducedSVC and give it local administrator rights. 
4. 
Configure each service’s properties to log on as the reducedSVC user and restart the service. 
See Configure CCSP services to log on with reduced users.</p><p>CCSP Security Guide - 7.3 and 7.4 
55 
Configure the replayUser 
After installing Replay, manually add the replayUser. 
To configure the replayUser: 
1. 
In Active Directory, open Active Directory Users and Computers. Expand your domain and 
then click Users. Create the replayUser and give it domain membership of Domain Users. 
2. 
On your domain controller, open Group Policy Management by running the command 
gpmc.msc. 
a. 
Under your domain, right-click Default Domain Policy and then click Edit. 
b. 
Expand Policies &gt; Windows Settings &gt; Security Settings &gt; Local Policies, and then click 
User Rights Assignment. 
c. 
Double-click Log on as a batch job. Click Add User or Group and add the replayUser to 
the list. 
d. 
Run the command gpupdate /force on the domain controller and any server that will use 
this user. 
3. 
On each Replay server: 
a. 
Log in with the existing administrator account.   
b. 
In the Control Panel, click User Accounts and then click Manage User Accounts.  
c. 
In the User Accounts dialog, add the replayUser and give it local administrator rights. 
4. 
Launch SQL Server Management Studio. 
a. 
Under Object Browser, expand Security, right-click Logins, and create a new login 
named &lt;domain&gt;\replayUser. 
b. 
Give the replayUser a database account with the following Server roles enabled</p><p>CCSP Security Guide - 7.3 and 7.4 
56 
c. 
Give the replayUser the following user mappings and permissions on the configuration 
database and the media database: 
▪ 
Media database (CosmoMedia): 
 
▪ 
Configuration database (CosmoCall): 
 
5. 
Activate the replayUser profile in SQL: 
a. 
 Log on to SQL Server with the replayUser and then start SQL Server Management Studio 
(SSMS). 
b. 
After SSMS starts, connect to the database using the Windows Authentication option, 
which is now under the replayUser. 
6. 
Configure each Replay Application Pool (on IIS Management) to run under replayUser user 
(by setting Application Pool Identity) and restart the Application Pool. See Configure CCSP web 
services to log on with reduced users.</p><p>CCSP Security Guide - 7.3 and 7.4 
57 
Configure CCSP services to log on with reduced users 
After adding and configuring the reduced users, you need to change each CCSP service to 
automatically log on with the appropriate reduced user. For the list of services and their reduced 
users, see System services security change mapping. 
To change a service to log on with a reduced user: 
1. 
In Windows Services, right-click the service and then click Properties. 
2. 
Click the Log On tab.  
 
3. 
For localSystem, click Local System account.</p><p>CCSP Security Guide - 7.3 and 7.4 
58 
4. 
For the other reduced users: 
a. 
Click This account and then click Browse. 
b. 
In the Select User dialog, click Advanced. 
 
c. 
Click Find Now. 
d. 
Select the appropriate reduced user. 
5. 
Restart the service.</p><p>CCSP Security Guide - 7.3 and 7.4 
59 
Configure CCSP web services to log on with reduced users 
After adding and configuring the reduced users, you need to change each CCSP web service in IIS 
to automatically log on with the appropriate reduced user. For the list of web services and their 
reduced users, see System web services security change mapping. 
To change a CCSP web service to log on with a reduced user: 
1. 
In IIS Manager, click Application Pools. 
2. 
Right-click the web service and then click Advanced Settings. 
 
3. 
Select Identity and then click 
. 
4. 
In the Application Pool Identity dialog box: 
o 
For localSystem or localService, click Built-in account and select the user from the list. 
o 
For the other reduced users, click Custom account and then click Set. In the Set 
Credentials dialog box, type the reduced user name and password. 
5. 
Restart the application pool.</p><p>CCSP Security Guide - 7.3 and 7.4 
60 
Configure SMTP server to relay outbound emails 
The following CCSP applications need to send emails and require the SMTP relay service to be 
available on their local host: 
• 
Chat Server (ICS) 
• 
Dashboard 
• 
License Control Server (LCS) 
• 
Message Connection Server (MCS) 
• 
Voice Connection Server (VCS) 
 
You must configure the SMTP server to allow inbound communication coming from the above 
applications (or anonymous) and to authenticate to the mail server in use to allow emails to be 
relayed to that mail server. 
The user account or service account used to run the above applications is different from the user 
account used by the SMTP server to authenticate to the mail server. 
The user account used by the SMTP server to authenticate to the mail server must have sufficient 
permissions to send emails as required by the applications. These permissions include: 
• 
“Send As” permission 
• 
“Send on Behalf” permission 
• 
Any other configuration or rule on the mail server that allows the user to send email using 
another email address in the FROM field 
 
Do not configure these applications to directly communicate with the mail server. Instead, 
configure them to communicate with the SMTP server running on localhost, port 25. 
 
To change the SMTP server to authenticate to the mail server using a dedicated user: 
1. 
In IIS Manager, in the navigation pane, expand the local computer name. 
 
2. 
Right-click [SMTP Virtual Server #], and then click Properties.</p><p>CCSP Security Guide - 7.3 and 7.4 
61 
3. 
In the [SMTP Virtual Server #] Properties dialog box, click the Delivery tab, and then click 
Outbound Security. 
 
4. 
Select Integrated Windows Authentication. 
5. 
In Account and Password, enter the username and password for an account configured to 
authenticate against the mail server. 
6. 
Click OK.  
 
For example: 
1. The CCSP LCS application runs with reducedSVC user account and needs to send email using 
lcs@enghouse.loc as the FROM email address. 
2. The SMTP relay server is configured to user Integrated Windows Authentication, using the user 
named an_email_user (see the above screenshot). 
3. The an_email_user has permissions to send emails as lcs@enghouse.loc. 
4. When the LCS applications sends the email to localhost, port 25, the SMTP relay server 
authenticates to the mail server as an_email_user and relays the email there. 
5. The mail server accepts and processes the email because an_email_user is permitted to 
perform that operation.</p><p>CCSP Security Guide - 7.3 and 7.4 
62 
4: CCSP recording encryption 
deployment 
This chapter outlines the procedures and actions required to deploy recording encryption on CCSP. 
It contains the following information: 
• 
Overview 
• 
Key Server installation and configuration 
• 
Certificate generation 
• 
Client configuration 
• 
Admin settings 
• 
Verification 
Overview 
The encryption system uses two types of certificate pairs: 
• 
Encryption/Decryption 
• 
Signing/Verification 
 
An Encryption/Decryption certificate pair is used for each tenant. The public key is used by the DTR 
and performs the encryption. The private key is used by the Key Server and handles the decryption. 
There is a single Signing/Verification certificate pair on a system. The private key is used by the 
Replay server to digitally sign recordings that are passed to the client. The public key is used by the 
KeyServer to validate that the user details in the recording are correct and have not been tampered 
with. 
A Key Server can be hosted and used by multiple tenants or a tenant may host their own private 
Key Server. With a private Key Server, the platform provider never has access to the decryption 
private keys, which makes it impossible for the provider to decrypt the tenant’s recordings after 
they have been processed by the DTR.</p><p>CCSP Security Guide - 7.3 and 7.4 
63 
 
Key Server installation and configuration 
The Key Server consists of two parts: the Key Server service and the Key Server web application. 
This design provides a layer of security that keeps the tenant’s private keys secure. Even if the web 
server is hacked, the keys are stored in a separate user account, which is not accessible from the 
account that the web server runs as. 
Prerequisites 
The prerequisites for installing the Key Server are: 
• 
Windows Server 2012 R2 
• 
User with Logon as a service right. 
• 
IIS with ASP.NET 
• 
Application pool defaults set to Enable 32-Bit Applications = False 
• 
HTTPS enabled 
Creating the user 
When creating a user we recommend using SvcKeyServer as the username, but you may choose 
any username. To assign the Logon as a service right, see: 
https://technet.microsoft.com/en-us/library/dn221981.aspx</p><p>CCSP Security Guide - 7.3 and 7.4 
64 
Install IIS and ASP.NET 
Note 
If you want to cut and paste commands from this PDF, you must download it and open it in 
Adobe Acrobat. 
 
To install the IIS and ASP.NET use the following PowerShell commands:- 
Import-Module Servermanager 
Add-WindowsFeature Web-Server, Web-Asp-Net45, Net-Framework-45-ASPNET,  
Web-Mgmt-Console 
Configure Application Pool Defaults 
After installing IIS: 
1. 
In IIS Manager, in the Connections pane, click Application Pools. 
2. 
In the Actions pane, click Set Application Pool Defaults. 
3. 
Ensure that Enable 32-Bit Applications = False. 
Enabling HTTPS 
The Key Server rejects any requests that do not come over a secure connection. You must enable 
HTTPS for IIS. The HTTPS connection from the clients must have a full certificate chain from the 
client to the server so that the browser on the clients does not display any certificate warnings. 
The following steps demonstrate how to set up a self-signed certificate, but this method is not 
recommended for production environments. 
To enable HTTPS: 
1. 
Using IIS Manager, select the root node (the server name), then select Server Certificates. 
2. 
On the Actions pane, select Create Self-Signed Certificate. 
3. 
Type a friendly name of your choice, for example, KeyServerHttps. 
4. 
Leave the Personal certificate store selected and click OK. 
5. 
Select the Default Web Site node. 
6. 
On the Actions pane, select Bindings. 
7. 
Add a binding with the following values: 
o 
Type: https 
o 
IP address: All Unassigned 
o 
Port: 443 
o 
Host name: The name that the clients will be using to resolve this server. 
o 
SSL Certificate: Select KeyServerHttp (or the name entered in step 3).</p><p>CCSP Security Guide - 7.3 and 7.4 
65 
Install the CCSP Key Server 
To install the CCSP Key Server: 
1. 
Copy the CCSPKeyServer.msi from the 7.3.0 hotfix folder to the server on which it is to be 
installed. 
2. 
Run the CCSPKeyServer.msi. 
3. 
Accept all the defaults. 
4. 
Enter the SvcKeyServer user credentials when prompted. 
Configure the CCSP Key Server 
To configure the CCSP Key Server: 
1. 
Navigate to C:\Program Files (x86)\Enghouse\KeyServer\Web\ and open Web.config in a text 
editor. 
2. 
Edit the settings as required. 
Setting 
Description 
Default value 
MaxContentLength 
The maximum size of the post 
data that is accepted. 
The default does not typically 
need changing.  
1048576 
LogName 
 
The name of the Windows event 
log that events are written to. 
CCSP Key Server 
SignatureAge 
For files that have been 
downloaded for playback, this 
specifies the maximum age (in 
seconds) that a signature is 
considered valid.  
3600 (1 hour) 
SignatureAgeSaved 
For files that have been 
downloaded for saving to disk, 
this specifies the maximum age 
(in seconds) that a signature is 
considered valid.  
7776000 (90 days) 
RateLimitSeconds 
The rate limiter prevents a client 
from attempting brute force 
operations against the server or 
causing a denial of service attack. 
This is the period (in seconds) that 
the RateLimitCount is relative to. 
1</p><p>CCSP Security Guide - 7.3 and 7.4 
66 
Setting 
Description 
Default value 
RateLimitCount 
The maximum number of client 
requests allowed in the period 
defined by 'RateLimitSeconds'. 
20 
VerifyExemptKeyHash 
For testing purposes only, this 
allows a particular hash key to 
bypass verification. 
 
Is empty 
VerifyUsers 
Specifies which requests require 
verification: 
• 
0 — bypass all verification 
(only to be used for testing 
purposes) 
• 
1 — allow bypass of 
verification for authenticated 
requests (not recommended) 
• 
4 — all requests must be 
signed (default option) 
4 
CsvAuditFolder 
The directory to write decryption 
audit logs to. 
If the folder does not exist the key 
server attempts to create it.  
%ProgramData%\CCSP Key 
Server 
This typically expands to 
C:\ProgramData\CCSP Key 
Server. 
CsvAuditFilePattern 
The pattern to use for the CSV 
decryption audit log files. 
A new file is created each day at 
the time of the first request of the 
day. 
'Audit' yyyy'-'MM'-'dd'T'HH'-
'mm'-'ss'.csv' 
This expands to a file name 
such as: Audit 2016-08-01T15-
45-49.csv 
AuditPlugins 
A list of audit plugins to enable.  
Built in plugins available are: 
• 
KeyServer.CsvFileAudit 
• 
KeyServer.EventLogAudit 
 
Manually install the codec 
The codec required for decrypting the encrypted recordings is automatically installed by the client 
installer of CCSP UI. If CCSP UI is not installed on the client machine, you need to manually install 
the codec. 
To manually install the codec: 
1. 
On a client machine with CCSP UI installed, navigate to C:\Program Files 
(x86)\Enghouse\7\TouchPoint\Client Services and find AudioCryptTransform.dll.</p><p>CCSP Security Guide - 7.3 and 7.4 
67 
2. 
Copy the file to the new client machine. 
3. 
On the new client machine, open a command window as administrator and change to the 
directory that contains the file.  
4. 
Run the following command: 
regsvr32.exe AudioCryptTransform.dll 
5. 
Restart the machine.  
Certificate generation 
Caution 
• 
You should keep the keys safe. Whoever has access to the signing key has the potential 
ability to decrypt recordings if they also have access to the Key Server web service and 
recording database.  
• 
Losing the signing key is not a problem because a new key pair can be created and installed 
on all servers. 
Generate the signing certificate 
To generate the signing certificate: 
1. 
Run KeyManagement.exe from the install location. The default is C:\Program Files 
(x86)\Enghouse\KeyServer. 
2. 
Click the Signing Certificate tab. 
3. 
Enter a suitable country code and the name of the platform provider. These can be any value 
and are only used for human identification of the certificates. 
4. 
Optionally enter a password for the certificate. This step adds a small amount of additional 
security. 
5. 
Optionally select when the certificate should expire. The default is 10 years. 
6. 
Click Generate. You are prompted for where to save the .pfx file. 
Install the signing certificate on CosmoCorder servers 
You need to install the signing certificate in the Personal certificate store of the svccosmocall user 
on each CosmoCorder web server. You then need to enter the certificate thumbprint in CCSP 
Admin. 
On each CosmoCorder web server, to install the signing certificate: 
1. 
Log on to the CosmoCorder web server as the CCSP system user, typically svccosmocall. 
2. 
Double-click the signing certificate .pfx file to open the Certificate Import Wizard. 
3. 
Continue through the wizard. When prompted, enter the password for the certificate. 
4. 
When prompted where to install the certificate, choose to place the certificate in the Personal 
certificate store.</p><p>CCSP Security Guide - 7.3 and 7.4 
68 
On any CosmoCorder server, to install the signing certificate: 
1. 
Run certmgr.msc. 
2. 
Expand Personal and then click Certificates. 
3. 
Double-click the CosmoCorder signing key. 
4. 
Click the Details tab. 
5. 
Scroll to the bottom of the list and select the thumbprint. 
6. 
Copy the thumbprint value from the frame at the bottom of the window. 
7. 
Log on to CCSP Admin, right-click the root CC Universe node and then click Properties. 
8. 
Paste the value into the Signing Key Thumbprint parameter. 
9. 
If the value starts with a question mark, you must remove the question mark. An example 
value is d4 e0 b9 2a 12 5f fe 3f 52 02 51 bf 25 c4 e2 bd 6b 48 47 57 
Export the verification certificate 
After the signing certificate has been imported to a server, you can export the public key from this 
certificate. You need the public key so it can be imported to the Key Servers. We call this key the 
verification certificate. 
To export the verification certificate: 
1. 
Run certmgr.msc. 
2. 
Expand Personal and then click Certificates. 
3. 
Right-click the CosmoCorder signing key, click All Tasks, and then click Export. 
4. 
In the Certificate Export Wizard, leave the following defaults selected: 
a. 
No, do not export the private key 
b. 
DER encoded binary X.509 (.CER) 
5. 
Select a filename and complete the wizard. 
Import the verification certificate to the Key Server 
To import the verification certificate to the Key Server: 
1. 
Copy the public key (.cer) to each Key Server. 
2. 
Log on to the Key Server as SvcKeyServer. 
3. 
Double-click the .cer verification certificate file. 
4. 
Click Install Certificate. 
5. 
When prompted, select to install the certificate in the Personal certificate store.</p><p>CCSP Security Guide - 7.3 and 7.4 
69 
Generate a tenant’s encryption certificate 
Note 
It is important to keep the encryption certificate safe. After recordings have been encrypted, it is 
impossible to play them back without this certificate. Anyone who has access to the private key 
has the potential to decrypt all recordings in the tenant database. 
 
To generate a tenant’s encryption certificate: 
1. 
Run KeyManagement.exe. 
2. 
Click the Encryption Certificate tab. 
3. 
Enter a suitable country code and the name of the platform provider. These can be any value 
and are only used for human identification of the certificates. 
4. 
Enter the tenant’s name. 
5. 
Optionally enter a password for the certificate. This step adds a small amount of additional 
security. 
6. 
Optionally select when the certificate should expire. The default is 10 years. 
7. 
Click Generate. You are prompted for where to save the .pfx file. 
Install a tenant’s encryption certificate 
To install a tenant’s encryption certificate: 
1. 
On the Key Server, install the certificate in the Personal certificate store of the SvcKeyServer 
user. 
2. 
Export the public key (.cer file). 
3. 
On each DTR server, import the public key to the Personal certificate store of the svccosmocall 
user. 
Client configuration 
Note 
To listen to encrypted recordings, the client requires at least Windows 10 with IE 11. 
Set up access to the Key Server via HTTPS 
For security, the Key Server rejects any decryption requests that come on an unencrypted 
connection such as http. You must therefore only use https. 
Test the connection from the client to the Key Server using the following URL: 
https://server/KeyServer/getkeys.aspx 
If you use a self-signed certificate as described earlier in the document, the following instructions 
show how to install the self-signed certificate on each client. We recommend that you use a proper 
certificate chain, rather than installing the self-signed certificate on every client.</p><p>CCSP Security Guide - 7.3 and 7.4 
70 
You will receive a security certificate warning. For security reasons, the encryption codec will refuse 
to work with a certificate that the machine does not trust, so the certificate must be installed.  
The following instructions show how to install the certificate using IE 11. 
To install the certificate: 
1. 
Click Continue to this website (Not recommended). 
2. 
In the address bar, click the red shield and then click View Certificates. 
3. 
Click Install Certificate, and then click Next. 
4. 
Click Place all certificates in the following store. 
5. 
Click Trusted Root Certification Authorities. 
6. 
Click Next, and then click Finish. 
7. 
When asked Do you want to install this certificate, click Yes. 
8. 
Close the browser, re-open IE, and navigate back to the KeyServer URL. 
 
The page should now load without any security warning, and show the following message: 
Secure connection from: xx.xx.xx.xx 
Admin settings 
For each tenant set the following values in the Tenant Properties. 
Parameter 
Description 
Example 
Recording Encryption 
Public Key 
The thumbprint of the 
tenant’s public encryption 
key, the value will accept 
spaces or dashes 
included in the value 
98 61 d1 49 21 6d 87 c3 f8 97 b5 55 96 97 
9a 72 87 e9 e0 ce 
Recording Encryption key 
server URL 
The HTTPS URL of the Key 
Server web service 
https://de-
keyserv/keyserver/getkeys.aspx 
Encryption enabled 
Toggle to enable or 
disable encryption of 
recordings by the DTR 
servers 
Enabled 
Encrypted recording 
restrictions 
Restrictions that apply to 
supervisors when playing 
back encrypted 
recordings 
Playback and save</p><p>CCSP Security Guide - 7.3 and 7.4 
71 
Verification  
Encryption 
After making the changes in CCSP Admin, wait for a couple of minutes for the changes to 
propagate to all servers. When the DTR server has received the new configuration, a message such 
as the following will be logged: 
TenantDB::loadConfiguration() TenantId 1013 recordingFormat="2" 
recordingStorage="E:\StereoRecordings" encryptionPublicKey="98 61 d1 49 21 6d 
87 c3 f8 97 b5 55 96 97 9a 72 87 e9 e0 ce" encryptionEnabled_="true" 
 
When a recording has been processed, a successful encryption includes just two log messages: 
FileEncryptor::Encrypt()src="C:\Users\SVCCOS~1\AppData\Local\Temp\DTR.14\rcd_2
056d3040013000d_2e82e18f.tmp.wav",dst="C:\Users\SVCCOS~1\AppData\Local\Temp\DT
R.14\rcd_2056d3040013000d_2e82e18f.tmp.wav.enc", key="98 61 d1 49 21 6d 87 c3 
f8 97 b5 55 96 97 9a 72 87 e9 e0 ce"  
FileEncryptor::Encrypt() - AudioCrypt_FileEncrypt success. 
Playback 
After testing if the file is encrypted and calling SetRoles, and before streaming the file to the 
browser, the following success message appears in the log: 
"Writing encrypted file to response" 
 
When the client codec accesses the Key Server to decrypt the wave header, the Key Server event log 
shows a message such as: 
10.116.101.224: Decryption success for call ID 0x21977edf0018000d 
File downloaded by user 3051 from tenant 3008 at 8/11/2016 2:23:19 PM 
Download for: Playback 
 
The information logged includes: 
• 
Call ID of the recording. 
• 
Tenant ID and Supervisor ID of the user that downloaded the file. 
• 
Time that the file was downloaded. 
• 
Time that the playback operation occurred. A downloaded file can be played back multiple 
times. 
• 
The IP address of the machine that attempted to play back the file. 
• 
Whether the decryption was successful along with any failure reason.</p><p>CCSP Security Guide - 7.3 and 7.4 
72 
5: Authentication process 
From CCSP 7.4 onwards, most of the client applications (CCSP Admin, Dashboard, Designer, Replay, 
CCSP UI and CCSP UI Admin) use tokens to authenticate users. Tokens are created by the 
Authentication server, and signed using a secret key.  
For details of how to generate and apply the secret key, see the CCSP SSO Secret Key Guide.</p><p>CCSP Security Guide - 7.3 and 7.4 
73 
6: CCSP HTTPS configuration 
This chapter describes the procedure to install and configure a CCSP 7.3 system on a Windows 
Server 2012 or 2016 system as HTTPS. It contains the following information: 
• 
Prerequisites 
• 
Configuration and installation 
• 
CCSP components installation 
Prerequisites 
To configure CCSP for HTTPS, you need Publisher installed on a remote server. The latest version of 
Publisher is available from the FTP server. 
You also need a system installed with CCSP 7.3, with the following minimum configuration: 
• 
Windows Server 2012 R2 or 2016 with Domain Controller installed 
• 
Windows Server 2012 R2 or 2016 with Exchange Server installed 
• 
Windows Server 2012 or 2016 CCSP Server hosting Back End components, for example, 
Configuration Database, CFM, AIS, MCS, and MS 
• 
Windows Server 2012 or 2016 machine to be installed with Front End components (for 
example, CCSP UI and Agent Proxy Server) 
o 
IIS web server role – Certificate Mapping Authentication – to be able to create Domain 
certificates on the front-end server IIS 
Configuration and installation 
This section contains the following information: 
• 
Summary 
• 
Before starting 
• 
Configure DC as Root Certification Authority 
• 
Configure the front-end server 
• 
Configure the clients 
Summary 
The configuration steps are as follows: 
1. 
Add Active Directory Certificate Services to DC. 
2. 
Configure Certificate Services on DC for it to act as a Root Certification Authority. 
3. 
In the front-end server IIS, create a Domain certificate with the Root CA on the DC as the 
issuing authority.</p><p>CCSP Security Guide - 7.3 and 7.4 
74 
4. 
Create https binding with the above certificate and remove the http binding from Default 
Website. 
5. 
Install the required Front End services from the CCSP 7.1.2.111 installation package. 
6. 
Upgrade the services to CCSP 7.2 using Publisher. 
7. 
Upgrade the services to CCSP 7.3 using Publisher. 
8. 
Install CCSP UI Client Services on the agent machine. 
Before starting 
Ensure that all servers have the latest Windows updates applied. 
If using a Virtual Machine system, take snapshots of the existing DC and back-end server before 
starting the configuration. 
Configure DC as Root Certification Authority 
Adding Active Directory Certificate Services to the DC 
Note 
Development/QA Note: Root Certificates are used instead of just creating a self-signed certificate 
from the server as this is believed to be more representative of customer systems. 
 
To add Active Directory Certificate Services to the DC: 
1. 
Log on to the DC as a domain administrator, typically the svccosmocall user. 
2. 
Open Server Manager, on the Manage menu, click Add Roles and Features. 
 
3. 
If the Before you begin page appears, click Next. 
4. 
On the Select installation type page, ensure that Role-based or feature-based installation 
is selected and click Next. 
5. 
On the Select destination server page, to use this server, click Next.</p><p>CCSP Security Guide - 7.3 and 7.4 
75 
6. 
On the Select Server roles page, under Roles, select Active Directory Certificate Services. 
 
7. 
When the Add Roles and Features Wizard appears, click Add Features. 
8. 
On the Select Server roles page, click Next. 
9. 
On the Select Features page, click Next to accept the selected features. 
10. On the Active Directory Certificate Services page, click Next. 
11. On the Select role services page: 
a. 
Ensure that Certification Authority is selected. 
b. 
Select Certificate Authority Web Enrollment.</p><p>CCSP Security Guide - 7.3 and 7.4 
76 
12. When the Add Roles and Features Wizard appears, click Add Features. 
13. On the Select role services page, click Next. 
14. On the Web Server (IIS) page, click Next. 
15. On the Select role services page, click Next. 
16. On the Confirm installation selections page: 
17. Ensure that the Restart the destination server automatically if required check box is not 
selected. 
18. Check that the installation parameters are correct. 
 
19. Click Install to start the installation process. 
20. The Installation progress page appears. At the end of the installation, click Configure Active 
Directory Certificate Services on the destination server.</p><p>CCSP Security Guide - 7.3 and 7.4 
77 
Configure DC as a Root Certification Authority 
To configure the DC as a Root Certification Authority: 
1. 
In the AD CS Configuration wizard, on the Credentials page, click Next to use the selected 
credentials. 
2. 
On the Role Services page, ensure that Certification Authority and Certification Authority 
Web Enrollment are selected.</p><p>CCSP Security Guide - 7.3 and 7.4 
78 
3. 
On the Setup Type page, click Enterprise CA. 
 
4. 
On the CA Type page, click Root CA.</p><p>CCSP Security Guide - 7.3 and 7.4 
79 
5. 
On the Private Key page, ensure that Create a new private key is selected. 
 
6. 
On the Cryptography for CA page: 
a. 
Keep the default selection for cryptographic provider. 
b. 
In the Key length list, click 4096. 
c. 
In the Select the hash algorithm for signing certificates issues by this CA list, click 
SHA256.</p><p>CCSP Security Guide - 7.3 and 7.4 
80 
7. 
On the CA Name page, ensure that the name of the DC is selected as the Common name. 
 
8. 
On the Validity Period page, change the validity period if required (default is 5 years).</p><p>CCSP Security Guide - 7.3 and 7.4 
81 
9. 
On the CA Database page, click Next to use the default locations. 
 
10. On the Confirmation page, check the values are correct, and then click Configure to start the 
configuration. 
 
11. On the Results page, verify that the configuration succeeded, and then click Close.</p><p>CCSP Security Guide - 7.3 and 7.4 
82 
Configure the Certificate Revocation List 
To configure the Certificate Revocation List: 
1. 
Open File Explorer and navigate to the folder C:\inetpub\wwwroot.  
2. 
Create a new folder and rename it CertData. 
 
3. 
In Server Manager, on the Tools menu, click Certification Authority. Alternatively, select 
Certification Authority in Administrative tools using the Start Menu or Control Panel.</p><p>CCSP Security Guide - 7.3 and 7.4 
83 
4. 
In the certsrv window, right-click the CA name, and then click Properties. 
 
5. 
Click the Extensions tab. Ensure that CRL Distribution Point is the selected extension and 
then click Add.</p><p>CCSP Security Guide - 7.3 and 7.4 
84 
6. 
In the Add Location dialog box: 
a. 
In Location, type the following (substitute the FQDN of the DC for &lt;dcname&gt;): 
http://&lt;dcname&gt;/CertData/&lt;CaName&gt;&lt;CRLNameSuffix&gt;&lt;DeltaCRLAllowed&gt;.crl 
b. 
Click OK. 
 
7. 
On the Extensions tab, select the following check boxes: 
o 
Include in CRLs. Clients use this to find Delta CRL locations 
o 
Include in the CDP extensions of issued certificates</p><p>CCSP Security Guide - 7.3 and 7.4 
85 
8. 
Click Apply. In the Certification Authority pop-up dialog restart service request, click No. 
9. 
On the Extensions tab, in the Selected extension list, click Authority Information Access 
(AIA), then click Add. 
 
10. In the Add Location dialog box: 
a. 
In Location, type the following (substitute the FQDN of the DC for &lt;dcname&gt;): 
http://&lt;dcname&gt;/CertData/&lt;ServerDNSName&gt;_&lt;CaName&gt;&lt;CertificateName&gt;.crl 
b. 
Click OK.</p><p>CCSP Security Guide - 7.3 and 7.4 
86 
11. On the Extensions tab, select the Include in the AIA extension of issued certificates check 
box. 
 
12. Click Apply. In Certification Authority pop-up dialog restart service request, click Yes. In the 
Properties dialog box, click OK.</p><p>CCSP Security Guide - 7.3 and 7.4 
87 
13. In the certsrv window, expand the current server and right-click Revoked Certificates, click 
All Tasks, and then click Publish. 
 
14. In the Publish CRL dialog box, ensure that New CRL is selected and then click OK.</p><p>CCSP Security Guide - 7.3 and 7.4 
88 
Exporting the root certificate 
To export the root certificate: 
1. 
In the certsrv window, right-click the CA name and then click Properties. 
2. 
On the General tab, click View Certificate. 
 
3. 
Click the Details tab and then click Copy to File.</p><p>CCSP Security Guide - 7.3 and 7.4 
89 
4. 
In the Certificate Export Wizard, click Next. 
5. 
On the Export File Format page, ensure that the DER format is selected. 
 
6. 
On the File to Export page, select an appropriate location on the server and filename.</p><p>CCSP Security Guide - 7.3 and 7.4 
90 
7. 
Click Finish to complete the export.</p><p>CCSP Security Guide - 7.3 and 7.4 
91 
Configure the front-end server 
Caution 
Certificates for front end servers that host Web Services such as CCSP UI and AgentWS should no 
longer be generated using the IIS facility to request a Domain Certificate. Certificates generated 
in this manner do not contain a Subject Alternative Name field and are therefore not accepted by 
the latest versions of the Chrome and Firefox web browsers. 
Prerequisites 
Before continuing, ensure that the Client Certificate Mapping Authentication role is installed on 
the front-end server. 
 
Also ensure that you have permissions to request certificates from the front-end server: 
1. 
On the CA computer, open an administrator Command Prompt and type the command 
certtmpl.msc. 
2. 
In the Certificate Templates Console dialog box, double click the Web Server template to 
view its properties.</p><p>CCSP Security Guide - 7.3 and 7.4 
92 
 
3. 
In the Web Server Properties dialog box, click the Security tab. If Permissions for 
Authenticated Users does not have Allow Enroll ticked, select the check box. 
 
 
4. 
Click OK.</p><p>CCSP Security Guide - 7.3 and 7.4 
93 
Requesting a domain certificate 
To request a new certificate for the front-end server from the CA: 
1. 
Log on to the front-end server using a domain administrator, typically the svccosmocall user. 
2. 
Run the Microsoft Management Console from an administrator Command Prompt using the 
command mmc. 
3. 
On the File menu, click Add/Remove Snap-in. 
 
4. 
In the Add or Remove Snap-ins dialog box, click Certificates and then click Add.</p><p>CCSP Security Guide - 7.3 and 7.4 
94 
5. 
In the Certificates snap-in dialog box, click Computer account and then click Next. 
 
6. 
In the Select Computer dialog box, ensure that Local computer is selected and then click 
Finish. Click OK in the main dialog box.</p><p>CCSP Security Guide - 7.3 and 7.4 
95 
7. 
Expand the Certificates tree, right-click Personal, click All Tasks, and then click Request New 
Certificate. 
 
8. 
In the Certificate Enrollment Wizard, click Next.</p><p>CCSP Security Guide - 7.3 and 7.4 
96 
9. 
Ensure that the Active Directory Enrolment Policy is available and selected, and then click 
Next. 
 
10. Select the Web Server template and then click More information is required to enroll for 
this certificate. Click here to configure these settings.  
If the Web Server template is not displayed, select the Show all templates check box. If the 
template is still listed as Unavailable return to the Prerequisites section and enable the Enroll 
permission for your current user.</p><p>CCSP Security Guide - 7.3 and 7.4 
97 
 
11. In the Certificate Properties dialog box, under Subject name, select Common name. 
 
12. In Value, type the fully qualified domain name of the server and click Add.</p><p>CCSP Security Guide - 7.3 and 7.4 
98 
 
13. Under Alternative name, select DNS in the list. 
 
14. In Value, type the fully qualified domain name of the server and click Add.</p><p>CCSP Security Guide - 7.3 and 7.4 
99 
 
15. If further alternative names are required, repeat the previous step. 
16. It is optional and advisable to also add a Friendly name and Description for the certificate. To 
do this, select the General tab and enter the appropriate values.</p><p>CCSP Security Guide - 7.3 and 7.4 
100 
17. Click OK. 
18. In the Certificate Enrollment dialog box, click Enroll. 
 
19.  Click Finish.</p><p>CCSP Security Guide - 7.3 and 7.4 
101 
Enabling HTTPS 
To enable the HTTPS protocol: 
1. 
In Internet Information Services (IIS) Manager, expand the server entry in the tree and 
expand Sites.  
2. 
Right-click Default Web Site and then click Edit Bindings. 
3. 
In Site Bindings, click Add. 
4. 
In the Add Site Binding dialog box: 
a. 
In the Type list, click https. 
b. 
For SSL Certificate, click Select and select the certificate just created. Click OK to close 
the selection dialog. 
c. 
Click OK. 
 
5. 
Restart the IIS server. 
 
Note 
• 
Development/QA note: On a machine cloned from an integration template, open Windows 
Services and find the SQL services. Ensure that the SQL Server Reporting Services is stopped 
and disabled as this uses port 80. 
• 
The root certificate for the CA is automatically distributed to the Trusted Root Certification 
Authority store of the front-end server, so there is no need to import it manually on that 
server.</p><p>CCSP Security Guide - 7.3 and 7.4 
102 
Configure the clients 
Install the certificates 
To access services on the front-end server after it has been configured for HTTPS, clients need only 
install the root certificate from the CA server. This is essential when using Remote Desktop 
Connection applications to access the front-end server as it may not be accessible without the 
installed certificate.   
To install the certificates: 
1. 
Copy the certificate file created in Exporting the root certificate to a location on the client 
machine. 
2. 
Run the Microsoft Management Console from an administrator Command Prompt using the 
command mmc. 
3. 
In the File menu, click Add/Remove Snap-in. 
 
4. 
In the Add or Remove Snap-ins dialog box, click Certificates and then click Add.</p><p>CCSP Security Guide - 7.3 and 7.4 
103 
5. 
In the Certificates snap-in dialog box, click Computer account and then click Next. 
 
6. 
In the Select Computer dialog box, ensure that Local computer is selected and then click 
Finish. Click OK in the main dialog.</p><p>CCSP Security Guide - 7.3 and 7.4 
104 
7. 
Expand the Certificates tree, right-click Trusted Root Certification Authorities, click All 
Tasks, and then click Import. 
 
8. 
In the Certificate Import Wizard, click Next and then browse to the root certificate location on 
the machine.</p><p>CCSP Security Guide - 7.3 and 7.4 
105 
9. 
Select the certificate and click Next. 
10. Click Next again to place the certificate in the default location. 
 
11. Click Finish to perform the import.</p><p>CCSP Security Guide - 7.3 and 7.4 
106 
CCSP components installation 
This section contains the following information: 
• 
Install server components 
• 
Upgrade to CCSP 7.2 and then CCSP 7.3 
• 
Post-installation configuration 
• 
Configure Campaign Manager to run as HTTPS 
• 
Install CCSP UI (7.3) on agent  
Install server components 
To install the required CCSP 7.1.2 components on the front-end server, follow the relevant section 
for each component in the CCSP Installation Guide -712 to 72x with the following important 
additional instructions. 
Note 
When performing the installation, all URLs that are entered must specify https as the protocol 
unless they refer to components hosted on the back-end server. 
Standalone install components 
HTTPS is currently supported for the following standalone install components: 
• 
ADP – install using the Advanced Dial Plan.msi and select the https binding 
• 
Agent List Server - install using the Agent List Server.msi and select the https binding 
• 
Auth Server – install using the Auth Server.msi and select the https binding 
• 
CCSP Admin – install using the Admin.msi and select the https binding 
• 
CCSP UI – install using TouchPoint.msi 
• 
Replay – install using the Replay.msi and select the https binding 
 
The installation procedure for these components is described in the CCSP Standalone Component 
Installation Guide.  
HTTPS is currently also supported for the following components: 
• 
Agent Proxy Server 
• 
Dashboard 
• 
Historical Reports 
• 
Recording Web Playback 
• 
Screen Recording  
 
The installation procedure for these components is as described in the CCSP Installation Guide -712 
to 72x.</p><p>CCSP Security Guide - 7.3 and 7.4 
107 
Install Agent List Server as HTTPS 
Before installing the Agent List Server, you must bind the port that will be used in its Connector URL 
parameter to the certificate for the server. You can do this by running the netsh http add sslcert 
command from an administrator command prompt. Specify the binding as: 
netsh http add sslcert ipport=0.0.0.0:&lt;Connector port number&gt; 
certhash=&lt;certificate hash&gt; appid=&lt;GUID&gt; 
 
The certificate hash is the thumbprint of the certificate in hash form. The appid parameter can be 
any valid GUID that you generate online (for example, using www.guidgenerator.com) because it is 
only used to identify the binding.  
For example, when using the default port of 59071 and a certificate whose thumbprint is 1a f9 8d 89 
9a 22 12 80 90 7c e3 8e 1c 2b 7d 63 43 3b 58 b3, the command is : 
netsh http add sslcert ipport=0.0.0.0:59071 
certhash=1af98d899a221280907ce38e1c2b7d63433b58b3 appid={777CD7A2-2E24-4F98-
A2D0-AD304FAB0D3E} 
 
When the binding is set, you can install the Agent List Server.msi according to the procedure in the 
CCSP Standalone Component Installation Guide. 
Install CCSP UI 
Install CCSP UI from the TouchPoint.msi. For details, refer to the CCSP Standalone Component 
Installation Guide. 
 
Note 
An error may occur that causes IIS to create the CCSP UI application under a new site called 
Default Web Site_2 (this may not be visible until the server has been restarted). This website must 
be deleted and the CCSP UI application created in the Default Web Site using 
TouchPointAppPool.</p><p>CCSP Security Guide - 7.3 and 7.4 
108 
Upgrade to CCSP 7.2 and then CCSP 7.3 
After completing installation of the required components, follow the instructions for applying the 
CCSP 7.2 Upgrade and then the CCSP 7.3 Upgrade. 
Post-installation configuration 
If an existing CCSP installation is being reconfigured for HTTPS, only the front-end components 
previously listed should be modified.  
CCUniverse URLs 
All the URLS on the CCUniverse tab need to be updated to https.</p><p>CCSP Security Guide - 7.3 and 7.4 
109 
Tenant properties URLs 
The following URLs in the Tenant properties need to be updated to https: 
• 
Historical Reports URL 
• 
RTR URL 
• 
CCSP Designer URL 
• 
Replay URL 
• 
Voicemail URL 
CCSP Admin configuration 
To edit the configuration for CCSP Admin to use https: 
1. 
Edit the file Server Components\Admin\configuration.js as administrator. 
1. 
Change the prefix on all URLs from http to https. 
2. 
Save the file. 
APS configuration 
To configure the Agent Proxy Service to use the correct protocol for its ping file: 
1. 
Do one of the following to open the registry editor: 
o 
In an administrator Command Prompt, type regedit 
o 
Right-click the Start Menu and click Run. 
2. 
Navigate to the key 
HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\CCUAgentProxyServer\Parameters. 
3. 
Edit the APSWebPath value and change the prefix to https. If the server name is currently 
localhost, change this to the FQDN of the server to match the name on its certificate. 
4. 
Restart the Agent Proxy Service. 
 
To configure the Agent Proxy Service Event Mechanism to use https: 
1. 
Precede the connector url with https, for example: 
&lt;add key="AgentWS Connector Url" value="https://aps1.pj12.loc:54632" /&gt; 
2. 
Specify this port as an https binding in the site bindings configured with the site certificate.</p><p>CCSP Security Guide - 7.3 and 7.4 
110 
 
Dashboard configuration 
To configure the Dashboard to use https: 
1. 
Edit the file Server Components\DashboardService\DashboardWS\appsettings.json as 
administrator. 
2. 
Change the prefix on all URLs from http to https. 
3. 
Save the file. 
4. 
Edit the file Server Components\DashboardService\Dashboard\assets\config\app-settings.json as 
administrator. 
5. 
Change the prefix on all URLs from http to https. 
6. 
Save the file. 
 
To configure CosmoDashboard (legacy) to use https: 
1. 
Edit the file Server Components\CosmoDashboard\Source\DashboardEmailService \web.config as 
administrator. 
2. 
Navigate to the section &lt;basicHttpBinding&gt;, and change the security mode to 
"Transport", as follows: 
  &lt;basicHttpBinding&gt; 
    &lt;binding name="bindingMode"&gt; 
       &lt;security mode="Transport"&gt; 
        &lt;transport clientCredentialType="None"/&gt; 
      &lt;/security&gt; 
    &lt;/binding&gt; 
  &lt;/basicHttpBinding&gt; 
3. 
Edit the file \Server Components\CosmoDashboard\Source\Dashboard.exe.config as administrator. 
4. 
Navigate to the section &lt;basicHttpBinding&gt;, and change the security mode to 
"Transport", as follows: 
  &lt;basicHttpBinding&gt;</p><p>CCSP Security Guide - 7.3 and 7.4 
111 
    &lt;binding name="BasicHttpBinding_IEmail" ... &gt; 
      &lt;readerQuotas maxDepth="32" .../&gt; 
      &lt;security mode="Transport"&gt; 
        ... 
      &lt;/security&gt; 
    &lt;/binding&gt; 
4. 
Edit the file \Server Components\CosmoDashboard\Source\Web.config as administrator. 
5. 
Search for and uncomment the following line: 
&lt;rule name="Add Secure"&gt; 
5. 
Republish Dashboard by running \Server Components\CosmoDashboard\ 
PublishCosmoDashboard.bat as administrator. 
Historical Reports configuration 
To configure Historical Reports to use https: 
1. 
Open Reporting Services Configuration Manager and connect to your server. 
2. 
On Web Service URL, select your HTTPS Certificate and HTTPS Port. 
 
3. 
Apply the change.</p><p>CCSP Security Guide - 7.3 and 7.4 
112 
4. 
On Web Portal URL , click Advanced.  
 
5. 
In Multiple HTTPS identities, click Add. 
 
6. 
Select your HTTPS Port and HTTPS Certificate and save the changes.</p><p>CCSP Security Guide - 7.3 and 7.4 
113 
Phone Agent configuration 
To edit the configuration for Phone Agent to use https: 
1. 
Edit the file Server Components\PhoneAgent\web.config as administrator. 
2. 
Change the prefix on all URLs from http to https. 
3. 
Save the file. 
Replay configuration 
To edit the configuration for Replay to use https: 
1. 
Edit the file Server Components\Replay\configuration.js as administrator. 
2. 
Change the prefix on all URLs from http to https. 
3. 
Save the file. 
CCSP UI configuration 
If an existing installation of CCSP UI is present on the front-end server before the server is 
reconfigured for https, the configuration files must be edited for CCSP UI to function. 
To edit the configuration for CCSP UI to use https: 
1. 
Edit the file Server Components\TouchPoint\Ajax\Config.js as administrator. 
2. 
Change the prefix on all URLs from http to https. 
3. 
Save the file. 
4. 
Edit the file Server Components\TouchPoint\ClientServices\ClientServicesConfig.js as administrator. 
5. 
Change the prefix on all URLs from http to https. 
6. 
Save the file. 
7. 
Edit the file Server Components\TouchPoint\ClientServices\ClientServices.xml as administrator. 
8. 
Change the prefix on all URLs from http to https. 
9. 
Save the file. 
10. Edit the file  
Server Components\TouchPoint\ClientServices\ClientInstallationService\ 
ClientInstallationService.xml as administrator. 
11. Change the value of the usingHttps element from "False" to "True". 
12. If required due to another application on the target client machines already using port 8001, 
change the value of the wcfHttpsPort element to a new port number. 
13. Change the prefix on the URL from http to https. 
14. Save the file.</p><p>CCSP Security Guide - 7.3 and 7.4 
114 
Configure Campaign Manager to run as HTTPS 
To configure Campaign Manager web to run using the secure HTTPS protocol: 
1. 
Obtain a valid SSL certificate. You can create one in IIS 7 by following the steps 1 to 5 described 
at http://www.sslshopper.com/article-how-to-create-a-self-signed-certificate-in-iis-7.html. 
2. 
Export the certificate and the private key into files with names server.crt and server.key. You 
can use any third-party utility, for example, the DigiCert utility from 
https://www.digicert.com/util/. 
3. 
Put the server certificate into WebServer\usr\local\apache2\conf\ssl.crt\server.crt on the CM 
computer. 
4. 
Put the server key into WebServer\usr\local\apache2\conf\ssl.key\server.key on the CM computer. 
5. 
Navigate to WebServer\usr\local\apache2\conf\. 
6. 
In a text editor, open ssl.conf. 
7. 
Find the line 34, and then change DocumentRoot to "C:/Softdial/WebServer/www". 
For Softdial 10.6.936, do the following: 
a. 
Find the line 22, and then change SSLMutex default to Mutex default. 
b. 
Find the line 46, and then change SSLProtocol -all +TLSv1 +SSLv3 to  
SSLProtocol all -SSLv3. 
If you have IIS on the same server that is configured to run using HTTPS, change the listening 
port 443 to another port, for example, 1443. 
8. 
Save the file. 
9. 
Navigate to WebServer\usr\local\apache2\conf\. 
10. In a text editor, open httpd.conf. 
11. Find and uncomment (remove "#" character from) the following line: 
#LoadModule ssl_module modules/mod_ssl.so 
For Softdial 10.6.936, in line 202, add the following line: 
LoadModule socache_shmcb_module modules/mod_socache_shmcb.so 
12. Save the file. 
13. Restart the Apache web server. The Softdial URL is now https://Server:1443/softdial.</p><p>CCSP Security Guide - 7.3 and 7.4 
115 
Install CCSP UI (7.3) on agent computers 
This section describes the procedure to follow when using Client Services with CCSP UI (required 
for SIP and Screen Recording) on the agent computer. 
If CCSP UI can only be accessed via HTTPS, the Client Services must also operate under HTTPS 
otherwise the browser will either generate mixed-content warnings or prevent CCSP UI from 
interacting with Client Services altogether. 
 
Note 
You cannot automatically upgrade an HTTP installation of the Client Services to an HTTPS one. If 
Client Services has already been installed on the agent computer as HTTP, it must all be manually 
uninstalled first. This can be done by running the following commands as administrator: 
wmic service where "PathName like '%%Enghouse.CCSP%%'" call StopService 
wmic product where "caption like 'CCSP%%'" call uninstall 
You must also clear the browser cache before attempting to use CCSP UI (see Clearing your 
Browser's Cache in CCSP UI Help). 
 
To install CCSP UI on agent computers: 
1. 
Navigate to the CCSP UI URL. 
2. 
Wait until CCSP UI downloads the CCSPClientInstallationService.msi file and prompts for first 
time installation. 
 
3. 
Open an administrator Command Prompt and navigate to the location of the downloaded file.</p><p>CCSP Security Guide - 7.3 and 7.4 
116 
4. 
Run the command as given in the CCSP Client Services installer window but add /l*v 
ccspinst.log to provide a log file. 
5. 
In the installation wizard, click Next, accept the Licence Agreement and then click Next. 
6. 
On the WCF and Connector URLs page: 
a. 
Ensure that the Use https for WCF and Connector URLs check box is selected. 
b. 
Ensure that the Installation Service WCF Port matches the wcfHttpsPort value in the 
ClientInstallationService.xml file on the server. 
 
7. 
Click Next and then click Install. The Client Services are installed on the agent computer and 
the CCSP UI login screen appears. 
 
Note 
CCSP UI may jump to the login screen without fully installing all the Client Services. If this 
happens, close the browser without logging on, and then restart the 
CCSPClientInstallationService using the following commands from an administrator Command 
Prompt: 
net stop CCSPClientInstallationService 
net start CCSPClientInstallationService 
Open a new browser and navigate to the CCSP UI URL. The Client Services should now be fully 
installed before the login screen appears.</p><p>CCSP Security Guide - 7.3 and 7.4 
117 
Appendix A: TLS 1.2 and TLS1.3 
configuration 
This appendix contains the following information: 
• 
Overview 
• 
Access the front-end server after TLS configuration 
• 
Configure servers and clients for TLS 
• 
Enable inheritance of TLS settings for .NET 4.x 
 
Caution 
• 
Exchange 2010 does not support TLS 1.2 or TLS 1.3 for POP/IMAP. This is a limitation of 
Exchange 2010 and is in line with Microsoft’s recommendations at Exchange Server TLS 
guidance Part 3: Turning Off TLS 1.0/1.1. 
• 
If the usage of TLS 1.2 or TLS 1.3 is mandatory, customers may need to add servers 
specifically configured to support TLS 1.0 only for POP/IMAP in their environment. 
Overview 
This appendix describes the procedure to disable the SSL1/2/3 protocols on the front-end server. 
These protocols must be explicitly disabled for the front-end server to be accessible using only the 
TLS 1.2 or TLS 1.3 protocol. 
For increased security, we recommend also disabling older and weaker protocols and cyphers on 
client computers. CCSP Client services are supported when using TLS 1.2 or TLS 1.3 as the only 
enabled protocol.  
For the proper functioning of various client services features (for example, screen recording and 
client tray) additional configuration might be required on client computers to ensure that .NET 
Framework 4.x uses the system wide settings for TLS. See Enable inheritance of TLS settings for 
.NET 4.x. 
However other applications installed on client computers might not work properly when using only 
TLS 1.2 or TLS 1.3. Consult with your security provider and fully test before any system-wide 
changes. 
Access the front-end server after TLS configuration 
This section applies to earlier versions of Windows. Remote Desktop Protocol (RDP) 8.1 was 
introduced in Windows Server 2012 R2 and Windows 8.1 and was later made available to Windows 
Server 2008 R2 and Windows 7 via updates.  
If you’re running RDP versions older than 8.1 you will need to keep TLS 1.0 enabled.</p><p>CCSP Security Guide - 7.3 and 7.4 
118 
 
Use Remote Desktop Connection 
If TLS 1.0 is disabled, connection to the server will not be possible from a Windows 7 client using 
RDP unless the RDP Client uses RDP Protocol 8.1 or above. Earlier versions require TLS 1.0 to be 
enabled on the server to connect. Information regarding the installation of this update is available 
at https://support.microsoft.com/en-us/kb/2830477.  
If TLS 1.0 is not disabled, then any version of RDP can be used. 
Use VNC 
If for any reason, you cannot use the latest RDP Protocol on a connecting client, before configuring 
the front-end server for TLS 1.2 or TLS 1.3, we highly recommended that you install a VNC server on 
the server such as RealVNC (https://www.realvnc.com/) or TightVNC (http://www.tightvnc.com/). 
For TightVNC, the Server component is installed on the front-end server and the Viewer component 
is installed on the connecting client. 
Configure servers and clients for TLS 
Configuring a server or client for TLS can be done by changing the registry settings and restarting 
the machine. However, there is a freely available tool that can perform this task called IIS Crypto, 
which is available at https://www.nartac.com/Products/IISCrypto. It does not require installation. 
There is also a CLI version of the tool for reconfiguring multiple computers. 
To configure the servers and clients for TLS: 
1. 
Download the .GUI version of the IIS Crypto Tool to a location on the computer you want to 
reconfigure.. 
2. 
Open the IIS Crypto Tool and click Yes at the UAC prompt if requested. 
3. 
Accept the licensing conditions. 
4. 
When IIS Crypto appears, it shows the default settings, as shown below.</p><p>CCSP Security Guide - 7.3 and 7.4 
119 
 
5. 
Click Best Practices and clear the TLS 1.0 and TLS 1.1 check boxes from both the Server 
Protocols and Client Protocols sections, as shown below. 
 
6. 
Click OK to acknowledge the restart required warning, and close IIS Crypto. 
7. 
To complete the configuration, restart the server.</p><p>CCSP Security Guide - 7.3 and 7.4 
120 
Enable inheritance of TLS settings for .NET 4.x 
For the proper functioning of various client services features (for example, screen recording and 
client tray),  it’s necessary to ensure that .NET Framework 4.x uses the system wide settings for TLS. 
This can be achieved by modifying the registry. 
Details about these settings and other security and cryptography related information can be found 
in the following articles: How to enable Transport Layer Security (TLS) 1.2 on clients - Configuration 
Manager | Microsoft Learn and Transport Layer Security (TLS) best practices with the .NET 
Framework - .NET Framework | Microsoft Learn. 
The SystemDefaultTlsVersions registry value defines which security protocol version defaults are 
used by .NET Framework 4.x. If the value is set to 1, then .NET Framework 4.x inherits its defaults 
from the Windows channel. The SchUseStrongCrypto registry setting disables the RC4 stream 
cipher and requires a restart. 
To create a .reg file that can be inserted in Windows Registry: 
1. 
In Notepad, create a text file named NET4X-UseSchannelDefaults.reg. 
2. 
Copy, and then paste the following text into the file: 
Windows Registry Editor Version 5.00 
[HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\.NETFramework\v4.0.30319] 
"SystemDefaultTlsVersions"=dword:00000001 
"SchUseStrongCrypto" = dword:00000001 
[HKEY_LOCAL_MACHINE\SOFTWARE\Wow6432Node\Microsoft\.NETFramework\v4.0.3031
9] 
"SystemDefaultTlsVersions"=dword:00000001 
"SchUseStrongCrypto" = dword:00000001 
3. 
Save the NET4X-UseSchannelDefaults.reg file. 
4. 
Double-click the NET4X-UseSchannelDefaults.reg file. 
5. 
Click Yes to update your Windows Registry with these changes. 
6. 
Restart your computer for the change to take effect.</p><p>CCSP Security Guide - 7.3 and 7.4 
121 
Appendix B: Use self-signed certificates 
We recommend the use of certificates issued by a Certification Authority as only the root certificate 
then needs to be installed on client machines.  
If this is not possible, you can use self-signed certificates for the front-end servers instead.  
Caution 
Do not use the Internet Information Service manager to generate the self-signed certificates as 
they are not accepted by the latest versions of Chrome and Firefox. 
Generate self-signed certificates 
To generate self-signed certificates: 
1. 
On the font-end server, open an admin PowerShell and enter the following command: 
New-SelfSignedCertificate -DnsName &lt;FQDN of server&gt; -CertStoreLocation 
"Cert:\LocalMachine\My" 
Note 
You can specify more than one value for DnsName. Use commas to separate the list, for 
example, DnsName serverID1.com,serverID2.com 
 
2. 
Run the Microsoft Management Console from an administrator Command Prompt using the 
command mmc. 
3. 
On the File menu, click Add/Remove Snap-in and load the snap-in for Local Computer. 
4. 
Go to the Personal store, Certificates folder, right-click on the new certificate and then click 
Export. 
5. 
In the Certificate Export Wizard, click Next.  
6. 
Ensure that No, do not export the private key is selected then click Next. Click Next again to 
use the default encryption. 
7. 
Enter or select a suitable location for the file, click Next, and then click Finish to export the 
certificate. 
8. 
The certificate also needs to be imported to the Trusted Root Certification Authorities Store on 
the front-end server. To do this, copy the certificate from the Personal Certificates folder and 
paste it into the Certificates folder under Trusted Root Certification Authorities.</p><p>CCSP Security Guide - 7.3 and 7.4 
122 
Import certificates to the client 
To import certificates to the client: 
1. 
Copy the exported certificate from the front-end server to the client machine. 
2. 
Do one of the following: 
o 
Import the certificate into the Local Computer Trusted Root Certification Authorities store, 
following the procedure for Install the certificates. 
o 
Double-click the certificate in File Explorer and then click Install Certificate. Ensure that 
the Local Machine option is selected on the first screen of the Certificate Import Wizard.</p><p>CCSP Security Guide - 7.3 and 7.4 
123 
Appendix C: Use HTTPS in Firefox 
This appendix contains the following information: 
• 
Configure Firefox to use the Windows certificate store 
• 
Add exceptions in Firefox for localhost on the ports used by CCSP UI 
 
Firefox has an issue with the self-signed certificates used in CCSP UI. To get round this, you need to 
configure Firefox to use the Windows certificate store (recommended) or add exceptions in Firefox 
for localhost on the ports used by CCSP UI. 
Configure Firefox to use the Windows certificate store 
To configure Firefox to use the Windows certificate store: 
1. 
Open Firefox. 
2. 
Go to the URL about:config. 
3. 
Acknowledge the warning. 
4. 
Search for the setting security.enterprise_roots.enabled. 
5. 
Set it to true. 
Add exceptions in Firefox for localhost on the ports used 
by CCSP UI 
Note 
These instructions assume that the customer is using the default port numbers that CCSP UI is 
installed with. If not, please change accordingly. Although you could add a single exception for 
localhost, we recommend that you use the specific port numbers. 
 
To add exceptions in Firefox for localhost on the ports used by CCSP UI: 
1. 
On the Firefox menu, click Options.</p><p>CCSP Security Guide - 7.3 and 7.4 
124 
2. 
Click the Advanced tab and then click Certificates. 
 
3. 
Click View Certificates and then click the Servers tab.</p><p>CCSP Security Guide - 7.3 and 7.4 
125 
4. 
On the Servers tab: 
a. 
Click Add Exception. 
b. 
In Location, type https://localhost:8001   
 
 
c. 
Click Get Certificate. 
d. 
Click Confirm Security Exception. 
5. 
Repeat step 4 to add the other three localhost ports: 
o 
https://localhost:49071 
o 
https://localhost:49073 
o 
https://localhost:49074 
6. 
In the Certificate Manager dialog box, click OK. 
7. 
Restart Firefox and navigate to the CCSP UI URL.  
8. 
If you get a message prompting you to confirm the use of ClientApplicationStarter, select the 
check box to remember the action and then start the system tray application.  
9. 
If you see a long running script error when attempting to log on to CCSP UI, close the browser 
window and try again. If CCSP UI says that you are already logged on, click OK to re-logon. It 
should work the second time round.</p></section><section><meta content="CCSP UI Help - Agent Part 1 - Section 2: Contact Center:
Service Provider
Replay Help
Version 7.4" name="description"/><h2>Contact Center:
Service Provider
Replay Help
Version 7.4</h2><p>Contents
1: Intro
4
What's new
4
Legal disclaimer
4
Support
4
2: Overview
5
Configure your browser
5
Log in
6
Password expired message
6
Additional login messages
7
Replay page
8
Matching segments logic
9
Matching segments
9
Matching segments and permissions
10
Screen recording playback expected result
11
One screen playback segment
11
Two screen playback segments
14
Three screen playback segments
16
Log out
17
Additional logout messages
17
Session expiry
17
3: Recordings
18
Permissions
18
Call list
18
Download location
19
Search for calls
20
Filter calls by agent name and/or call type
20
Filter calls by date and time
21
Filter calls by ANI, DNIS, and/or message content
21
View only agents with calls in the specified time range
21
Media player fields
22
Play audio recordings
24
Play encrypted audio recordings
25
Display chat transcripts
27
Display email previews
28
Play video recordings
29
Play voicemail recordings
30
4: Call scenarios
31
Call scenarios overview
32
Recorded with screen
34
CCSP Replay Help - 7.4
2</p><p>Inbound voice call recorded with screen
34
Inbound voice call recorded with screen with 2 call holds
35
Inbound voice call recorded with screen manually recorded by agent
36
Direct consultation with 2nd agent (A2A)
37
Inbound voice call, direct consultation with 2nd agent, return to caller
37
Inbound voice call, direct consultation with 2nd agent, transfer to 2nd agent
39
Inbound voice call, direct consultation with 2nd agent (A2A), conference with 2nd agent and caller,
one agent drops from conference
41
Consultation via entry point (TTS)
44
Inbound voice call, consultation with agent via entry point (TTS), return to caller
44
Inbound voice call, consultation with 2nd agent via entry point (TTS), transfer to 2nd agent
46
Direct consultation and conference
48
Inbound voice call, direct consultation with 2nd agent (A2A), conference with 2nd agent and caller,
one agent drops from conference
49
Transfer to a non-attendable entry point
52
Inbound voice call, transfer to non-attendable entry point, 2nd agent picks up
52
5: Archiver Playback
54
Off mode
54
Online mode
55
Offline mode
56
On-premise mode
58
CCSP Replay Help - 7.4
3</p><p>1: Intro
This Help is for CCSP supervisors who view call details and play back media and screen recordings of agent-
caller interactions.
What's new
Version 7.4
Log in and Log out — added process for CCSP single sign-on. Requires HF-61362.
Recordings — added process to select where to download recordings.
Legal disclaimer
This document is governed by the terms of the software license agreement and applicable contract (including
addendums) entered into with Enghouse.
Support
To submit comments or questions about the information in this guide, please open a case with Enghouse
Support.
CCSP Replay Help - 7.4
4</p><p>2: Overview
This section contains the following topics:
l
Configure your browser
l
Log in
l
Replay page
l
Matching segments logic
l
Screen recording playback expected result
l
Log out
Replay is a standalone product that works in conjunction with the CCSP system. It provides a complete record
of all agent-caller interactions.
You need a browser to access the call detail record. The call detail record includes the recording, chat history
for chat call, email, voice mail, agent, caller information, and CCSP UI (previously called TouchPoint) screens.
A media player is embedded in the web page to play the recording. The HTML5 player starts playing the video
immediately while downloading in the background.
Replay enables contact center supervisors to view call details and play back media and screen recordings of
agent-caller interactions. The calls can be telephone, web chat, VoIP, email, or voice messages and responses.
Recorded information includes audio, chat, email, and agent screens. Replay stores all sessions automatically in
a centrally located database.
The information available for particular calls depends on the media used during the call.
Agent screens are available only if the system administrator enabled this feature for the contact center and if
the agents are licensed to use that feature. Even if individual agents are enabled to activate recording, agents
may not be aware that their screen selections are included. If this feature is enabled, screen captures are
included together with all other session data in agent recordings. Screen captures are also included in any
sessions recorded automatically by scripts.
Configure your browser
Before running Replay from your browser, some initial preparation is required:
l
For Microsoft Edge, the tenant administrator must enable localhost access on your computer.
l
For Ubuntu client, you need to install a codec for MP4.
l
For Chrome and Firefox, no specific settings are required.
CCSP Replay Help - 7.4
5</p><p>Log in
The log in process is slightly different depending on the identity provider configured by your administrator.
Note
l
To log in to Replay, you need the Supervisor permission.
l
Before starting Replay, see Configure your browser.
l
If your administrator has enabled single sign-on and you are logged in to CCSP UI (previously called
TouchPoint), to start Replay, click
Replay in the gadgetory. You do not need to type your user ID
and password again.
l
If you log in again after your CCSP application session becomes invalid, and while your ADFS or EIS
provider's session is still valid, you do not need to type your password.
1.
In your browser, in the Address bar, type the URL supplied by your supervisor or administrator.
2.
Click Go or press Enter. The Welcome to Replay page appears.
3.
Click Log in. If you are already logged in, the main Replay page appears.
4.
If you are not already logged in, the Auth Server Login Selector page appears.
5.
Type your User name in User Principal Name (UPN) format, for example, someone@domainname.com,
and click Continue.
6.
The next step depends on the identity provider configured by your administrator:
o
For Auth Server, the AuthServer login page appears. Type your Password and click Log in.
Alternatively, to change the username, click Back to return to the previous page. The main Replay page
appears. If necessary, see Password expired message below.
o
For ADFS, you are redirected to the ADFS login page to authenticate. Please consult your local
procedures for how to proceed from this point.
o
For Enghouse Identity Server (EIS), you are redirected to the EIS login page. Type your Password and
click Login. The main Replay page appears.
7.
If necessary, see Additional login messages below.
Password expired message
For Auth Server, if your password has expired or your administrator has set your account to require a password
change at the next login, the next time you enter your password on the Auth Server login page, the Password
expired notification appears.
1.
In the notification, click Change Password. The Change password dialog box appears.
2.
In Old Password, type your current password.
3.
In New Password, type your new password. Do not use the double quote (") character or spaces.
4.
In Confirm Password, type your new password again.
5.
Click OK.
CCSP Replay Help - 7.4
6</p><p>Additional login messages
The following messages may appear when you try to log in:
l
Failed to get authorization for Replay use. Your user profile is not permitted to use the Replay application. Only
supervisors are permitted to use the Replay application.
l
You are not authorized to view this page. This can occur because:
o
You are logged in to an external identity provider with a different username than the one you entered
on the Auth Server Login Selector page to log in to the CCSP client application.
o
You entered a username on the Auth Server Login Selector page and were redirected to an external
identity provider, where you log on with a different username.
l
Auth Server is not available or there is a misconfiguration. You must contact your administrator. You will not be
able to log in to Replay until the issue is resolved.
CCSP Replay Help - 7.4
7</p><p>Replay page
On the Replay page, you can search for calls and play or display their recordings.
The buttons that appear on the right of the call list indicate the recording types that you can view.
Button
Action
Description
Play video recording
A video of the agent screens during the call is available.
Play audio recording or
play voicemail recording
A recording of the voice call or voicemail is available.
Display email preview or
display chat transcript
A recording of the email preview or chat transcript is
available.
CCSP Replay Help - 7.4
8</p><p>Matching segments logic
Matching segments
Matching segments and permissions
Screens and media are recorded separately because screens are recorded by the agent machines and media
are recorded by the servers. The length of their individual segments is arbitrary, depending on scripts and
when agents start and stop the recordings.
Matching segments
To find screen recording segments and their corresponding audio recording segments, Replay uses an
algorithm that takes the timestamps of the screen recording and searches for the corresponding audio
timestamps with the following condition:
Screen.Start &lt;= Audio.End AND Screen.End &gt;= Audio.Start
Note
Screen recordings made from version 7.3 onwards include the time difference between the agent machine
and the TouchPoint server at the time that the recording was started. This is known as the client time offset
and is the difference of the client time relative to the server time. For example, if the client machine is
running 20 seconds behind the TouchPoint server, the client time offset is -20. If it is ahead by 14 seconds, it
is 14. This is applied to the Screen.Start time and Screen.End time in the calculation above, to account for
the machine clocks not being synchronized.
In the following example, the audio segments that correspond with Screen1 are Audio1 and Audio2.
CCSP Replay Help - 7.4
9</p><p>In the following example, the audio segments that correspond with Screen2 are Audio2 and Audio3.
Matching segments and permissions
You can view recordings only for the agents in the groups and teams that you have permission to see.
However, when an agent transfers a call to another agent or conferences a call with another agent, you may
not have permission to view recordings for the other agents.
Transferred and conferenced calls
For transferred and conferenced calls, if you have permission for Group 1 but not Group 2, and an agent (Agent
1) in Group 1 transfers or conferences a call to an agent (Agent 2) in Group 2, you can only see the segments
that the agent in Group 1 participated in.
CCSP Replay Help - 7.4
10</p><p>Screen recording playback expected result
One screen playback segment
Two screen playback segments
Three screen playback segments
Merging takes the start of the screen segment and the end of the last corresponding audio segment, even if
the screen segment has already finished.
The following examples show the expected result when displaying a screen recording merged with the
corresponding audio segments.
One screen playback segment
In the following example, the screen recording starts before the audio recording.
CCSP Replay Help - 7.4
11</p><p>In the following example, the recording starts after the call start.
CCSP Replay Help - 7.4
12</p><p>In the following example, the audio recording starts before the screen recording.
In the following example, there is one screen recording with two audio recordings.
CCSP Replay Help - 7.4
13</p><p>Two screen playback segments
In the following example, there are two screen recordings with one audio recording.
The Playback Segment line shows the two segments to expect when watching the screen recording.
CCSP Replay Help - 7.4
14</p><p>In the Media Player, Playback Segment 1 and 2 appear individually as indicated below.
In the following example, there are two screen recordings with two audio recordings.
CCSP Replay Help - 7.4
15</p><p>Three screen playback segments
In the following example, there are three screen recordings with one audio recording.
The Playback Segment line shows the three segments to expect when watching the screen recording.
CCSP Replay Help - 7.4
16</p><p>Log out
Note
If you are using an external identity provider such as ADFS or EIS, when you click Log out of your CCSP
session, you are also logged out of your external identity provider.
1.
At the top right of main Replay page, click Logout.
2.
Do one of the following:
o
If you want to return to Replay, click Return to Login page.
o
If you have finished working with CCSP, click Log out of your CCSP session.
Additional logout messages
When you click Log out of your CCSP session, the following message may appear:
l
Logout was not completed successfully due to the Authentication Server being unavailable. Please contact your
system administrator.
1.
Tell your system administrator about the issue and wait for it to be resolved.
2.
When it is resolved, click OK to close the message dialog.
3.
Click Log out of your CCSP session again.
The application will return to the login page. Depending on the problem resolution, this may take slightly
longer than normal.
Session expiry
Your CCSP application session will become invalid when:
l
The login session time exceeds the maximum CCSP login session lifetime specified by your administrator.
l
You log out of your CCSP session using another application.
l
You clear all cookies in the browser.
When your CCSP application session becomes invalid, you must log in again. See Log in.
If you are logged in with an external identity provider (ADFS or EIS) and that provider’s login session lifetime
exceeds the CCSP login session lifetime, you only have to enter your username on the Auth Server Login
Selector page. You will then automatically be authenticated against your external identity provider.
CCSP Replay Help - 7.4
17</p><p>3: Recordings
This section contains the following topics:
l
Search for calls
l
Media player fields
l
Play audio recordings
l
Play encrypted audio recordings
l
Display chat transcripts
l
Display email previews
l
Play video recordings
l
Play voicemail recordings
Permissions
You can view recordings for agents that you have permission to see. For example, if you have permission to see
recordings of the agents from only Group 1, you cannot view recordings of calls after they are transferred to
agents in Group 2. See Matching segments and permissions.
Likewise, you can copy the URL of a recording from your browser and send it to another supervisor to check,
but to view the recording, the other supervisor must have the permission to view it when logged on.
Call list
The call list is a list of media recordings by call type and agent.
When you click on a media recording in the row, Replay plays the first media segment for that agent and call
type for that specific call ID.
In the media player, the segment numbers correspond to the row in the call list, unless there are extra
segments created either by call hold/unhold or the agent manually stopping and starting recording of the call
and/or the screen.
Each media row may have zero, one or more screen segments associated with it. When you click on a screen
recording in the row, Replay plays the first screen segment for the agent that is associated with that media for
that specific call ID.
For preview/predictive campaigns, n/a appears in the Queue column.
The times are presented in local time.
CCSP Replay Help - 7.4
18</p><p>Download location
To select where to download recordings, you need to configure your browser as follows:
l
Chrome — on the top right, click the three dots, click Settings, click Downloads, and turn on Ask where to
save each file before downloading.
l
Edge — on the top right, click the three dots, click Settings, click Downloads, and turn on Ask me what to
do with each download.
l
Firefox — on the top right, click the three lines, click Settings, and search for Always ask you where to save
files. In the Search Results, select the Always ask you where to save files check box.
CCSP Replay Help - 7.4
19</p><p>Search for calls
Filter calls by agent name and/or call type
Filter calls by date and time
Filter calls by ANI, DNIS, and/or message content
View only agents with calls in the specified time range
On the Replay page, you can filter calls by agent name, call type, date, and time. You can also expand the
search pane and filter calls by ANI, DNIS, or message content.
In the call list, you can click a column heading to resort the list. Each time you sort by a column heading, you
update the list of calls.
The call list shows 50 agent names per page, sorted by call start date and time. It shows all agents that are
visible to the logged on supervisor, even if they have no recordings.
Tenant-wide supervisors can select to view only agents with calls in the specified time range.
Filter calls by agent name and/or call type
To filter calls by agent name and/or call type:
l
In Agent Name and/or Call Type, click the down arrow and do one of the following:
o
Type letters contained in the item. The list shows items that start with the letters and contain them.
o
Click one or more items in the list. The number of selected items appears in the filter.
CCSP Replay Help - 7.4
20</p><p>Filter calls by date and time
Note
l
The times are presented in local time.
l
The recording may start slightly after the call start time, for example, when an agent clicks record after
starting the call.
To filter calls by date and time:
l
In Start Date and/or End Date, click in the field and do one or more of the following:
o
Click the date.
o
To add the time, click
Select Time.
To leave the date filter blank, click in the field and then click
Clear Selection.
Filter calls by ANI, DNIS, and/or message content
To filter calls by ANI, DNIS, or message content:
1.
Click
to expand the search pane.
2.
In ANI and/or DNIS, type numbers contained in the item. The list shows items that start with the numbers
and contain them.
3.
In Message Contains, type letters contained in the item. The list shows items that start with the letters and
contain them.
View only agents with calls in the specified time range
Tenant-wide supervisors only.
To select to view only agents with calls in the specified time range:
1.
Click
to expand the search pane.
2.
Select the Only Agents With Calls in specified time range check box. The list shows only agents that
made calls in the date range, even if they have since been deleted from the system.
CCSP Replay Help - 7.4
21</p><p>Media player fields
To open the appropriate media player, click on either the screen or media icon of a row in the list.
Note
If the message The media playback was stopped due to a corruption issue or unsupported features appears,
please contact your administrator.
All media players show the same fields. The recording and call types determine which fields have a value.
Field
Description
Call ID
Present for all calls. Serial number of the recording segment’s owning call in hexadecimal
format.
Agent Name
Present for all calls. Full name of the agent to which the recording segment belongs.
Agent ID
Present for all calls. Login ID of the agent to which the recording segment belongs.
ANI
Depending upon the call type, this can be:
l
Blank for chat calls
l
The number or email address of the external caller for inbound voice, and message calls
l
The name of the tenant for outbound or agent to agent voice
DNIS
Depending upon the call type, this can be:
l
Blank for chat and outbound voice
l
The call center number for inbound voice
l
The call center folder address for message
l
The destination agent for agent to agent
l
"Transfer to system" for the inbound (receiving agent) voice leg
Caller Name
Always defined for chat calls.
Defined for other types of call according to the scripts.
Call Type
Type of call recording. One of the following:
l
Agent to agent
l
Campaign
l
Chat
l
Conference
l
Inbound
l
IVR recording
l
Message
CCSP Replay Help - 7.4
22</p><p>Field
Description
l
Outbound
l
Voicemail
l
Transfer from script
l
Screen only
Queue
ACD queue of the inbound call. Not defined for agent to agent transferred or conferenced
calls.
Skill
Skill attached to the inbound call. Not defined for agent to agent transferred or conferenced
calls.
Message
The caller message field of the call if defined.
Call Start
Start time of the recording segment. If multiple segments have been merged, this is the
start time of the first segment in that sequence.
Call End
End time of the recording segment. If multiple segments have been merged, this is the end
time of the last segment in that sequence.
Note
l
The call start and end times are the start and end times of the recording segments, not the call itself. For
recordings made with version 7.3+ components, the offset between the agent machine and the server is
considered when presenting this time and performing the merge. However, on the agent machine itself,
there may be a delay between CCSP UI receiving the call and instructing the local Screen Recording
Service to start the recording and the recording being started. This may be especially true for the first
recording after logging into CCSP UI.
l
CCSP UI was previously called TouchPoint.
CCSP Replay Help - 7.4
23</p><p>Play audio recordings
Note
Encrypted recordings can only be downloaded and then viewed. See Play encrypted audio recordings.
1.
In the search result list, click
. The audio recording starts playing in the Media Player.
2.
Use the Media Player controls to pause and replay the audio recording and control the associated audio.
3.
If the call was transferred, was part of a conference, included wave playback during the agent-customer
conversation, or if recording was stopped or started by the agent or a script, multiple segments appear.
Replay goes directly to the appropriate one. You can click the other segments .To play all the segments,
select the Play All check box.
Note
The order of segments is dependent upon several factors, including the versions of the services that
made and inserted the recordings, and the timing of the recordings. The segments may therefore not
appear in ascending numerical sequence.
4.
If required, to download the mp3 file, click
Download.
CCSP Replay Help - 7.4
24</p><p>Play encrypted audio recordings
Note
l
Encrypted recordings can only be downloaded and then viewed. If the downloaded file is encrypted,
you can only view it in the Windows Media Player with the appropriate codec.
l
The available save options depend on your permissions.
l
The downloaded files may be available for more or less than the default time period if your system
administrator has changed the default values.
1.
In the search result list, click
. The encrypted audio recording appears in the Media Player.
2.
Do one of the following:
o
To download and save the encrypted recording:
n
For immediate playback, select Save Encryption For Playback. The downloaded file is encrypted. It is
available for one hour (by default).
n
For later playback, select Save As Encrypted. The saved file is encrypted and must be played back in
the Windows Media Player. It is available for 90 days (by default).
CCSP Replay Help - 7.4
25</p><p>o
To download and save the unencrypted recording, select Save As Unencrypted. The saved file is
unencrypted and can be played back in the Windows Media Player or another media player. It is
available for 90 days (by default).
3.
If the call was transferred, part of a conference, or if recording was stopped or started by the agent or a
script, multiple segments appear. To download all the segments, select the Prepare All check box.
4.
Click Prepare.
5.
When the download icon appears, click it to download and save the wave file.
CCSP Replay Help - 7.4
26</p><p>Display chat transcripts
1.
In the search result list, click
. The chat recording appears in the Media Player.
2.
To view the other segments, click the links.
3.
If required, to download the text file, click
Download.
CCSP Replay Help - 7.4
27</p><p>Display email previews
1.
In the search result list, click
. The email recording appears in the Media Player.
2.
To view the other segments, click the links.
3.
To view the email parts, such as Reply and Forward, click the appropriate tab.
4.
If required, to download the email file, click
Download.
CCSP Replay Help - 7.4
28</p><p>Play video recordings
Note
The call type Screen does not have associated audio.
1.
In the search result list, click
. The screen recording starts playing in the Media Player.
2.
Use the Media Player controls to pause and replay the video recording and control the associated audio.
3.
If required, to download the mp4 file, click
Download.
CCSP Replay Help - 7.4
29</p><p>Play voicemail recordings
1.
In the search result list, click
. The voicemail recording starts playing in the Media Player.
2.
Use the Media Player controls to pause and replay the video recording and control the associated audio.
3.
If required, to download the mp4 file, click
Download.
CCSP Replay Help - 7.4
30</p><p>4: Call scenarios
This section contains the following topics:
l
Overview
l
Recorded with screen
l
Direct consultation with 2nd agent (A2A)
l
Consultation via entry point (TTS)
l
Direct consultation and conference
l
Transfer to a non-attendable entry point
CCSP Replay Help - 7.4
31</p><p>Call scenarios overview
The following basic call scenarios show the segments and rows displayed in Replay. You can use these scenarios to extrapolate the expected output for different
combinations of call holds, transfers, and so on.
The basic scenarios presented here show:
l
The expected display in Replay
l
The timeline of the recording segments against the call timeline
l
The rows that are inserted to the recording database
In all scenarios the following is assumed, unless stated otherwise:
l
Media and screen recording is enabled in the IVR Recording block
l
Default Screen Recording Implementation rules are being used by the Screen Recording gadget
CCSP Replay Help - 7.4
32</p><p>Note
l
Each Replay row contains audio and/or screen segments that have matching:
l
Call ID
l
Agent Name
l
Call Type
l
The table line numbers are for illustrative purposes only. In practice, the ordering of the lines may be different, especially when transfers and conferences have been
performed.
l
In the Video and Media segments columns of the tables:
l
A1 indicates a segment associated with Agent 1
l
A2 indicates a segment associated with Agent 2
l
The segment call type is the call type that appears in the Media Player.
CCSP Replay Help - 7.4
33</p><p>Recorded with screen
The following scenarios show an inbound voice call:
l
Recorded with screen
l
Recorded with screen with 2 call holds
l
Recorded with screen manually recorded by agent
Inbound voice call recorded with screen
Segments
Replay rows
Line
Call ID
Agent Name
ANI
DNIS
Queue
Call Type
Screen
Media
Video Player segments
Media Player segments
1
1
Agent 1
Caller No.
Call Center No.
Q1
INBOUND
Y
Y
1 segment:
l
A1—Inbound
1 segment:
l
A1—Inbound
CCSP Replay Help - 7.4
34</p><p>Inbound voice call recorded with screen with 2 call holds
Segments
Replay rows
Line
Call ID
Agent Name
ANI
DNIS
Queue
Call Type
Screen
Media
Video Player segments
Media Player segments
1
1
Agent 1
Customer No.
Call Center No.
Q1
INBOUND
Y
Y
3 segments:
l
A1—Inbound
l
A1—Inbound
l
A1—Inbound
3 segments:
l
A1—Inbound
l
A1—Inbound
l
A1—Inbound
CCSP Replay Help - 7.4
35</p><p>Inbound voice call recorded with screen manually recorded by agent
IVR Recording has Screen Recording set to false
Agent starts screen recording after call start
Segments
Replay rows
Line
Call ID
Agent Name
ANI
DNIS
Queue
Call Type
Screen
Media
Video Player segments
Media Player segments
1
1
Agent 1
Customer No.
Call Center No.
Q1
INBOUND
Y
Y
1 segment:
l
A1—Inbound
1 segment:
l
A1—Inbound
CCSP Replay Help - 7.4
36</p><p>Direct consultation with 2nd agent (A2A)
The following scenarios show an inbound voice call with:
l
Direct consultation with 2nd agent, return to caller
l
Direct consultation with 2nd agent, transfer to 2nd agent
l
Direct consultation with 2nd agent, conference with 2nd agent and caller, one agent drops from conference
Inbound voice call, direct consultation with 2nd agent, return to caller
Segments
CCSP Replay Help - 7.4
37</p><p>Replay rows
Line
Call ID
Agent Name
ANI
DNIS
Queue
Call Type
Screen
Media
Video Player segments
Media Player segments
1
1
Agent 1
Caller No.
Call Center No.
Q1
INBOUND
Y
Y
3 segments:
l
A1—Inbound
l
A2—Agent to Agent
l
A1—Inbound
4 segments:
l
A1—Inbound
l
A1—Agent to Agent
l
A2—Agent to Agent
l
A1—Inbound
2
1
Agent 1
Caller No.
N/A
AGENT TO AGENT
Y
Y
As for Line 1
As for Line 1
2
1
Agent 2
Caller No.
N/A
AGENT TO AGENT
Y
Y
As for Line 1
As for Line 1
CCSP Replay Help - 7.4
38</p><p>Inbound voice call, direct consultation with 2nd agent, transfer to 2nd agent
Segments
CCSP Replay Help - 7.4
39</p><p>Replay rows
Line
Call ID
Agent Name
ANI
DNIS
Queue
Call Type
Screen
Media
Video Player segments
Media Player segments
1
1
Agent 1
Caller No.
Call Center No.
Q1
INBOUND
Y
Y
3 segments:
l
A1—Inbound
l
A2—Agent to Agent
l
A2—Inbound
4 segments:
l
A1—Inbound
l
A1—Agent to Agent
l
A2—Agent to Agent
l
A2—Inbound
2
1
Agent 1
Caller No.
N/A
AGENT TO AGENT
Y
Y
As for Line 1
As for Line 1
3
1
Agent 2
Caller No.
N/A
AGENT TO AGENT
Y
Y
As for Line 1
As for Line 1
4
1
Agent 2
Caller No.
Call Center No.
Q1
INBOUND
Y
Y
As for Line 1
As for Line 1
CCSP Replay Help - 7.4
40</p><p>Inbound voice call, direct consultation with 2nd agent (A2A), conference with 2nd agent and caller,
one agent drops from conference
Segments
CCSP Replay Help - 7.4
41</p><p>CCSP Replay Help - 7.4
42</p><p>Replay rows
Line
Call ID
Agent Name
ANI
DNIS
Queue
Call Type
Screen
Media
Video Player segments
Media Player segments
1
1
Agent 1
Caller No.
Call Center No.
Q1
INBOUND
Y
Y
4 segments:
l
A1—Inbound
l
A2—Agent to Agent
l
A1—Conference
l
A2—Conference
5 segments:
l
A1—Inbound
l
A1—Agent to Agent
l
A2—Agent to Agent
l
A1—Conference
l
A2—Conference
2
1
Agent 1
Caller No.
N/A
AGENT TO AGENT
Y
Y
As for Line 1
As for Line 1
3
1
Agent 2
Caller No.
N/A
AGENT TO AGENT
Y
Y
As for Line 1
As for Line 1
4
1
Agent 1
Caller No.
Call Center No.
N/A
CONFERENCE
Y
Y
As for Line 1
As for Line 1
5
1
Agent 2
Caller No.
Call Center No.
N/A
CONFERENCE
Y
Y
As for Line 1
As for Line 1
CCSP Replay Help - 7.4
43</p><p>Consultation via entry point (TTS)
The following scenarios show an inbound voice call with:
l
Consultation with agent via entry point (TTS), return to caller
l
Consultation with 2nd agent via entry point (TTS), transfer to 2nd agent
Inbound voice call, consultation with agent via entry point (TTS), return to caller
Segments
CCSP Replay Help - 7.4
44</p><p>Replay rows
Line
Call ID
Agent
Name
ANI
DNIS
Queue
Call Type
Screen
Media
Video Player
segments
Media Player
segments
1
1
Agent 1
Caller No.
Call Center No.
Q1
INBOUND
Y
Y
2 segments:
l
A1—Inbound
l
A1—Inbound
2 segments:
l
A1—Inbound
l
A1—Inbound
2
2
Agent 1
Tenant
name
n/a
OUTBOUND
N*
Y**
N/A
1 segment:
l
A1—Outbound
3
3
Agent 2
Caller No.
Transfer to
System
Q2
INBOUND
Y
Y
1 segment:
l
A2—Inbound
1 segment:
l
A2—Inbound
* Not present because Outbound TTS screen recording is not enabled in CCSP UI (previously called TouchPoint) Screen Recording gadget.
** If Agent 1 presses the Transfer or Conference button when dialing to an attendable entry point, before the call is answered by an agent, there will still be a voice recording
of the Outbound leg, albeit only a few seconds long.
CCSP Replay Help - 7.4
45</p><p>Inbound voice call, consultation with 2nd agent via entry point (TTS), transfer to 2nd agent
Segments
CCSP Replay Help - 7.4
46</p><p>Replay rows
Line
Call ID
Agent
Name
ANI
DNIS
Queue
Call Type
Screen
Media
Video Player
segments
Media Player
segments
1
1
Agent 1
Caller No.
Call Center No.
Q1
INBOUND
Y
Y
2 segments:
l
A1—Inbound
l
A2—Inbound
2 segments:
l
A1—Inbound
l
A2—Inbound
2
2
Agent 1
Tenant name
n/a
OUTBOUND
Y*
Y**
1 segment:
l
A1—Outbound
1 segment:
l
A1—Outbound
3
3
Agent 2
Caller No.
Transfer to
System
Q2
INBOUND
Y
Y
1 segment:
l
A2—Inbound
1 segment:
l
A2—Inbound
4
1
Agent 2
Customer
No.
Call Center No.
Q2
INBOUND
Y
Y
As for Line 1
As for Line 1
* Only present if Outbound TTS screen recording is enabled in CCSP UI (previously called TouchPoint) Screen Recording gadget.
** If Agent 1 presses the Transfer button when dialing to an attendable entry point, before the call is answered by an agent, there will still be a voice recording of the
Outbound leg, albeit only a few seconds long.
CCSP Replay Help - 7.4
47</p><p>Direct consultation and conference
The following scenario shows a call with a direct consultation and conference.
CCSP Replay Help - 7.4
48</p><p>Inbound voice call, direct consultation with 2nd agent (A2A), conference with 2nd agent and caller,
one agent drops from conference
Segments
CCSP Replay Help - 7.4
49</p><p>CCSP Replay Help - 7.4
50</p><p>Replay rows
Line
Call ID
Agent
Name
ANI
DNIS
Queue
Call Type
Screen
Media
Video Player
segments
Media Player
segments
1
1
Agent 1
Caller No.
Call Center No.
Q1
INBOUND
Y
Y
3 segments:
l
A1—Inbound
l
A1—Conference
l
A2—Conference
3 segments:
l
A1—Inbound
l
A1—Conference
l
A2—Conference
2
2
Agent 1
Tenant
name
N/A
OUTBOUND
Y*
Y**
1 segment:
l
A1—Outbound
1 segment:
l
A1—Outbound
3
3
Agent 2
Caller No.
Transfer to
System
Q2
INBOUND
Y
Y
1 segment:
l
A2—Inbound
1 segment:
l
A2—Inbound
4
1
Agent 1
Caller No.
Call Center No.
N/A
CONFERENCE
Y
Y
As for Line 1
As for Line 1
5
1
Agent 2
Caller No.
Call Center No.
N/A
CONFERENCE
Y
Y
As for Line 1
As for Line 1
* Only present if Outbound TTS screen recording is enabled in CCSP UI (previously called TouchPoint) Screen Recording gadget.
** If Agent 1 presses the Conference button when dialing to an attendable entry point, before the call is answered by an agent, there will still be a voice recording of the
Outbound leg, albeit only a few seconds long.
CCSP Replay Help - 7.4
51</p><p>Transfer to a non-attendable entry point
The following scenario shows a call with a transfer to a non-attendable entry point.
Inbound voice call, transfer to non-attendable entry point, 2nd agent picks up
Segments
CCSP Replay Help - 7.4
52</p><p>Replay rows
Line
Call ID
Agent Name
ANI
DNIS
Queue
Call Type
Screen
Media
Video Player segments
Media Player segments
1
1
Agent 1
Caller No.
Call Center No.
Q1
INBOUND
Y
Y
2 segments:
l
A1—Inbound
l
A2—Inbound
2 segments:
l
A1—Inbound
l
A2—Inbound
3
1
Agent 2
Caller No.
Call Center No.
Q2
INBOUND
Y
Y
As for Line 1
As for Line 1
CCSP Replay Help - 7.4
53</p><p>5: Archiver Playback
Archiver Playback is a feature that enables you to search and view recordings from archived recording
databases in addition to or instead of the tenant’s live production recording database.
The PS Recording Archiver application creates and manages the archive recording databases. For information
about this application, refer to the Recording Archiver User Guide.
The PS-supplied Config Portal database provides access to the archiver configuration and archived recording
databases. You must set up the Config Portal according to the instructions in the Config Portal Deployment Guide
v.3.0.0.1.
Your system administrator configures Replay to work in the appropriate mode. The modes are:
l
Off mode
l
Online mode
l
Offline mode
l
On-premise mode
Note
When your system administrator changes the Archiver Playback mode, to ensure that the browser picks up
the configuration changes, you must always:
1.
Log out
2.
Refresh your browser
3.
Log in again with the appropriate credentials
Off mode
In off mode, Replay looks and functions exactly as before and you only have access to the single live recording
database.
CCSP Replay Help - 7.4
54</p><p>Online mode
In online mode, you have access to both the live and archive recording databases. The currently selected
database is shown as a button in the heading bar. When logging on to Replay, the live database is initially
selected as shown below.
To see the list of available databases, click the [database name] button. The list of available live and archive
recording databases appears.
To select another database, click the name in the list, and then click OK in the dialog.
You can search, play, and download recordings in the selected database in the same way as in the live
database.
Note
l
When changing databases, the start and end times of the current search are maintained. The other
search parameters and results are cleared.
l
If there are no archive databases available for the tenant, the [database name] button is not displayed.
l
If an archive database is created while you are logged into Replay, you will not see it in the list until you
log out and log back in again.
l
When an archive database is selected, the list of available Agent Names is taken directly from that
database. Therefore, when viewing an archive database, the permission profile of the logged in user is
not applied to the search and recordings from all agents in the archive database are available to view.
CCSP Replay Help - 7.4
55</p><p>Offline mode
In offline mode, you only have access to archive recording databases.
The Replay application is configured by your system administrator to work in offline mode with a specific set of
archive recording databases.
The Replay host is isolated from the rest of the CCSP system and has no access to the domain or the
configuration database.
Because of this, you are typically required to log in to Replay with a user local to the machine that is hosting the
Replay application. For example, if the local machine user is tempReplayUser, you need to log in using this
user's name and password, instead of your usual domain login.
When you log in to Replay, no database is selected and the controls are disabled.
To select a database, click the No database selected button. The list of available archive recording databases
appears.
CCSP Replay Help - 7.4
56</p><p>To select a database, click the name in the list, and then click OK in the dialog.
The controls become active and you can search, play, and download recordings in the selected database in the
same way as in the off and online modes.
CCSP Replay Help - 7.4
57</p><p>On-premise mode
In on-premise mode, you only have access to archive recording databases.
The Replay application is configured by your system administrator to work with an Archiving Master database
that provides the list of archive recording databases to which you have access.
The Replay host is isolated from the rest of the CCSP system and has no access to the domain or the
configuration database.
Because of this, you are typically required to log in to Replay with a user local to the machine that is hosting the
Replay application. For example, if the local machine user is tempReplayUser, you need to log in using this
user's name and password, instead of your usual domain login.
When you log in to Replay, no database is selected and the controls are disabled.
To select a database, click the No database selected button. The list of available archive recording databases
appears.
CCSP Replay Help - 7.4
58</p><p>To select a database, click the name in the list, and then click OK in the dialog.
The controls become active and you can search, play, and download recordings in the selected database in the
same way as in the off and online modes.
CCSP Replay Help - 7.4
59</p></section><section><meta content="CCSP UI Help - Agent Part 1 - Section 3: Contact Center:
Service Provider
Dashboard Help
Version 7.4" name="description"/><h2>Contact Center:
Service Provider
Dashboard Help
Version 7.4</h2><p>Contents
1: Intro
4
What's new
4
Legal disclaimer
4
Support
4
2: Overview
5
Log in
5
Password expired message
6
Additional login messages
6
Dashboard workspace
7
Workspace menus
9
Workspace
9
View
9
Report
10
Window
10
Reports
11
Multichat implications
11
Filters
11
Gadget types
13
Agent and call states
14
Interpret reports
15
Log out
17
Additional logout messages
17
Session expiry
17
3: Design reports
19
Add a view
20
Share a view
20
Add a report
21
Add a gadget
21
Add a bar chart
22
Add a browser window
25
Javascript functions for Web applications
26
Add a clock
27
Add a pie chart
29
Add a filter
32
Configure a filter
32
Add a table
33
Configure table thresholds
35
Free form value field
37
Configure a complex expression
37
Filter a table column
39
CCSP Dashboard Help - 7.4
2</p><p>Basic filtering
39
Detailed filtering
39
Examples
40
Add a trend chart
42
Copy, edit, or delete a gadget
44
Move table columns
44
Export a table
44
4: Report statistics
45
Agent report statistics
45
Call report statistics
49
Campaign report statistics
51
Group report statistics
54
Queue report statistics
56
CCSP Dashboard Help - 7.4
3</p><p>1: Intro
Dashboard provides supervisors and administrators with a variety of real-time statistical reports about the
contact center performance statistics during the most recent 24 hour or shorter period.
This Help is for CCSP supervisors and CCSP tenant administrators who view or create and edit real-time contact
center performance reports
What's new
Version 7.4
Log in and Log out — added process for CCSP single sign-on. Requires HF74-63537.
Legal disclaimer
This document is governed by the terms of the software license agreement and applicable contract (including
addendums) entered into with Enghouse.
Support
To submit comments or questions about the information in this guide, please open a case with Enghouse
Support.
CCSP Dashboard Help - 7.4
4</p><p>2: Overview
This section contains the following topics:
l
Log in
l
Dashboard workspace
l
Workspace menus
l
Reports
l
Gadget types
l
Agent and call states
l
Log out
Dashboard provides supervisors and administrators with a variety of real-time statistical reports about the
contact center performance statistics during the most recent 24 hour or shorter period.
The reports display statistics about these categories of data:
l
Agents
l
Calls
l
Campaigns
l
Groups
l
Queues
You can set thresholds for warnings and alarms in tables you create in your reports. When threshold values are
reached, table cells display the warnings shaded in the color configured in the gadget builder.
You can use Dashboard to create a customized wallboard that your agents can view.
Log in
The log in process is slightly different depending on the identity provider configured by your administrator.
Note
l
To log in to Dashboard, you need the Supervisor permission.
l
If your administrator has enabled single sign-on and you are logged in to CCSP UI (previously called
TouchPoint), to start Dashboard, click
Real Time Reports in the gadgetory. You do not need to
type your user ID and password again.
l
If you log in again after your CCSP application session becomes invalid, and while your ADFS or EIS
provider's session is still valid, you do not need to type your password.
1.
In your browser, in the Address bar, type the URL supplied by your supervisor or administrator.
2.
Click Go or press Enter. The Welcome to Dashboard page appears.
CCSP Dashboard Help - 7.4
5</p><p>3.
Click Log in. If you are already logged in, the Dashboard workspace appears.
4.
If you are not already logged in, the Auth Server Login Selector page appears.
5.
Type your User name in User Principal Name (UPN) format, for example, someone@domainname.com,
and click Continue.
6.
The next step depends on the identity provider configured by your administrator:
o
For Auth Server, the AuthServer login page appears. Type your Password and click Log in.
Alternatively, to change the username, click Back to return to the previous page. The Dashboard
workspace appears. If necessary, see Password expired message below.
o
For ADFS, you are redirected to the ADFS login page to authenticate. Please consult your local
procedures for how to proceed from this point.
o
For Enghouse Identity Server (EIS), you are redirected to the EIS login page. Type your Password and
click Login. The Dashboard workspace appears.
7.
If necessary, see Additional login messages below.
Password expired message
For Auth Server, if your password has expired or your administrator has set your account to require a password
change at the next login, the next time you enter your password on the Auth Server login page, the Password
expired notification appears.
1.
In the notification, click Change Password. The Change password dialog box appears.
2.
In Old Password, type your current password.
3.
In New Password, type your new password. Do not use the double quote (") character or spaces.
4.
In Confirm Password, type your new password again.
5.
Click OK.
Additional login messages
The following messages may appear when you try to log in:
l
Failed to get authorization for Dashboard use. Your user profile is not permitted to use the Dashboard
application. Only supervisors are permitted to use the Dashboard application.
l
You are not authorized to view this page. This can occur because:
o
You are logged in to an external identity provider with a different username than the one you entered
on the Auth Server Login Selector page to log in to the CCSP client application.
o
You entered a username on the Auth Server Login Selector page and were redirected to an external
identity provider, where you log on with a different username.
l
Auth Server is not available or there is a misconfiguration. You must contact your administrator. You will not be
able to log in to Dashboard until the issue is resolved.
CCSP Dashboard Help - 7.4
6</p><p>Dashboard workspace
When you start Dashboard, the Workspace appears.
The workspace presents views of reports. Views are collections of reports that appear together in a single
screen. Each view in the workspace has its own tab.
When you create reports, this workspace is a place where you work using graphical tools. You can edit views
that you created. You cannot edit views that you did not create, but you can load them into your workspace to
display them. Such views are shared views. You can also copy parts of views created by others in your contact
center to your own views, where you can edit and save them.
Dashboard provides a number of tools to create reports. Some of the tools are available from the main menu.
The rest of the tools are available through shortcut menus. See Workspace menus.
See also Reports and Gadget types.
If you minimize the Dashboard, after the configured amount of time, a dialog box appears with the message
Workspace must be reactivated.
CCSP Dashboard Help - 7.4
7</p><p>CCSP Dashboard Help - 7.4
8</p><p>Workspace menus
The Workspace has the following main menus:
l
Workspace
l
View
l
Report
l
Window
To view a menu of additional options for a particular view, right-click its tab. See Additional view options.
To view a menu of additional options for a particular report, right-click its title bar. See Additional report
options.
Workspace
Use the Workspace menu to:
l
Save workspace — save a workspace you are creating.
l
Load workspace — load an existing workspace.
l
Arrange workspace — rename a view, move parts of the views in your current workspace, and resize them.
View
Use the View menu to:
l
Add view — create a new view in your workspace.
l
Add shared view — add a shared view to your workspace. This view can be created by a different user.
l
Delete view — delete the current view. The message Do you want to remove this view and all its reports?
appears. Click OK to continue.
Additional view options
To display additional options for a particular view, right-click its tab. Use the shortcut-menu to:
l
Delete view — delete the current view from the workspace.
l
View shared — share a view that you created.
l
Add report — add a report to the current view.
l
Paste report — add a report that you copied to the Clipboard to the current view.
CCSP Dashboard Help - 7.4
9</p><p>Report
Use the Report menu to:
l
Add report — add a report to the current view. When you add a report, an option to add a gadget appears.
See Gadget types.
l
Paste report — add a report that you copied to the Clipboard to the current view.
Additional report options
To display additional options for a particular report, right-click its title bar. Use the shortcut-menu to:
l
Cut report — delete a report from the current view and add it to the Clipboard.
l
Copy report — copy a report to the Clipboard from the current view. This can be a report from a shared
view from another user.
l
Delete report — delete a selected report from the current view. The message Do you want to remove this
report and all its gadgets? appears. Click Yes to continue.
l
Add gadget — add a gadget to the current report. See Gadget types.
l
Paste gadget — paste a gadget from the Clipboard into the current report. Use to copy gadgets from
another user's report into your reports.
Window
When you save a workspace, the message Workspace saved and a timestamp appear. The message box
disappears automatically after a few seconds.
If there are problems getting statistics from the reporting server, the message Unable to connect to RTR Server
and a timestamp appear. The status icon changes to
. The message box disappears automatically after a
few seconds.
When the connection is re-established, the message Reconnected to server appears for a few seconds and the
status icon changes back to
.
To display all the messages, on the Windows menu, click Show Messages. The messages appear on the right
of your browser.
CCSP Dashboard Help - 7.4
10</p><p>Reports
Reports are grouped together in views.
A report contains one or more gadgets, which are the basic tools in the toolkit. When you create a report, you
select one or more gadgets to include in the report. See Gadget types.
When completely defined for your report, each of these gadgets, except for Report Filter, displays statistics
about one of these categories:
l
Agents
l
Calls
l
Campaigns
l
Groups
l
Queues
Multichat implications
If multichat is enabled, Dashboard shows simultaneous calls handled by an agent, which results in reports
showing more agents in the Agent-In-Call state (comprising Wrapup, Hold, Ringing, and InCall) than are logged
on.
Agent tables and trend charts show current simultaneous calls and current load. Group tables and trend charts
show average simultaneous calls per agent and average load per agent.
Filters
A report filter assigns filters to multiple tables and charts in the same report.
Suppose you have three tables describing campaigns and you want to assign filters to all of them, for example,
campaign selection by name. You can do that with the filter gadget.
You select a category and the columns that are the basis of your filter.
Dashboard applies the filter only to:
CCSP Dashboard Help - 7.4
11</p><p>l
Tables in the report that are of the same category and contain the column used as the filter criterion.
l
Charts in the report that are of the same category and match a category name.
CCSP Dashboard Help - 7.4
12</p><p>Gadget types
Gadgets create commonly used statistical representations of data describing entities belonging to your contact
center.
You can add the following gadgets to a report:
l
Bar chart — creates a chart with rectangular bars with lengths proportional to the values that they
represent.
l
Browser — retrieves and displays Real Time Reports data.
l
Table — presents the data describing your selected contact center entities as text and numbers.
l
Trend chart — creates a line graph that tracks one performance metric over a period of time.
l
Report filter — assigns filters to multiple tables and charts within the same report. See Report filters.
l
Pie chart — creates a pie chart that represents percentages and fractions of a total.
l
Time — creates a time display. You select the time zone suitable for your geographic region.
When completely defined for your report, each of these gadgets, except for report filter, displays statistics
about one of these categories:
l
Agents
l
Queues
l
Groups
l
Campaigns
l
Calls
Note
To copy a report's contents as a .csv file into another document, such as an Excel spreadsheet, use a Table
gadget.
CCSP Dashboard Help - 7.4
13</p><p>Agent and call states
The agent states and corresponding call states are as follows. If an agent is simultaneously handling multiple
calls, there are multiple call states for that agent.
Agent state
Call state
Available
Idle (no call)
Ringing
Available in Call
In Call
On Hold
Wrap Up
Preview
Multiple (more than one call handled)
Released
Idle (no call)
Ringing
Released in Call
In Call
On Hold
Wrap Up
Preview
Multiple (more than one call handled)
CCSP Dashboard Help - 7.4
14</p><p>Interpret reports
In the following example, agent HV is Available In Call. In the report, the same agent is allocated to Busy [1], In
Call [1], and Available In Call [1].
CCSP Dashboard Help - 7.4
15</p><p>In the following example, agent HV is still Available In Call. In the report, the same agent is now allocated to
Busy [1], On Hold [1], and Available In Call [1].
In the following example, agent HV is still Available In Call. In the report, the same agent is now allocated to
Busy [1], In Wrap-up[1], and Available In Call [1].
CCSP Dashboard Help - 7.4
16</p><p>Log out
Note
If you are using an external identity provider such as ADFS or EIS, when you click Log out of your CCSP
session, you are also logged out of your external identity provider.
1.
At the top right of the Dashboard workspace, click the user icon and then click Log out.
2.
Do one of the following:
o
If you want to return to Dashboard, click Return to Login page.
o
If you have finished working with CCSP, click Log out of your CCSP session.
Additional logout messages
When you click Log out of your CCSP session, the following message may appear:
l
Logout was not completed successfully due to the Authentication Server being unavailable. Please contact your
system administrator.
1.
Tell your system administrator about the issue and wait for it to be resolved.
2.
When it is resolved, click OK to close the message dialog.
3.
Click Log out of your CCSP session again.
The application will return to the login page. Depending on the problem resolution, this may take slightly
longer than normal.
Session expiry
Your CCSP application session will become invalid when:
l
The login session time exceeds the maximum CCSP login session lifetime specified by your administrator.
l
You log out of your CCSP session using another application.
l
You clear all cookies in the browser.
When your CCSP application session becomes invalid, you must log in again. See Log in.
CCSP Dashboard Help - 7.4
17</p><p>If you are logged in with an external identity provider (ADFS or EIS) and that provider’s login session lifetime
exceeds the CCSP login session lifetime, you only have to enter your username on the Auth Server Login
Selector page. You will then automatically be authenticated against your external identity provider.
CCSP Dashboard Help - 7.4
18</p><p>3: Design reports
This section contains the following topics:
l
Add a view
l
Share a view
l
Add a report
l
Add a gadget
l
Add a bar chart
l
Add a browser window
l
Javascript functions for Web applications
l
Add a clock
l
Add a pie chart
l
Add a filter
l
Configure a filter
l
Add a table
l
Configure table thresholds
l
Filter a table column
l
Add a trend chart
l
Copy, edit, or delete a gadget
To design reports:
1.
Add a view and optionally share it.
2.
Add up to six reports to the view.
3.
Add up to 10 gadgets to the report.
CCSP Dashboard Help - 7.4
19</p><p>Add a view
You can add a maximum of 10 views per workspace.
To import an existing shared view:
1.
On the View menu, click, Add Shared View.
2.
Select the view to import and click OK.
An
icon appears next to the name of the imported view. You can view the name of the view's owner in a
tooltip.
To add a new view:
1.
On the View menu, click Add View.
2.
Click
Edit next to New View and type the new name.
To rename the view, click
Edit next to the view name and type the new name.
The next step is to add a report.
Share a view
1.
Right-click in the view. A shortcut menu appears.
2.
Click View Shared. An
icon appears next to the view name.
To unshare a view:
1.
Right-click in the view. A shortcut menu appears.
2.
Click View Shared to remove the check mark.
CCSP Dashboard Help - 7.4
20</p><p>Add a report
You can add a maximum of six reports to a view.
1.
Right-click in the view. A shortcut menu appears.
2.
Click Add report.
3.
Click New Report and type the new name.
4.
To rename the report, click its name and type the new name.
The next step is to add a gadget.
Add a gadget
You can add a maximum of 10 gadgets to a report. This number includes the report filter.
Add a bar chart
Add a browser window
Add a clock
Add a pie chart
Add a report filter
Add a table
Add a trend chart
CCSP Dashboard Help - 7.4
21</p><p>Add a bar chart
1.
Right-click in the report window and click Add gadget. The Gadget Builder dialog box appears.
2.
Click Bar chart. The General tab appears.
3.
Under Caption:
a.
To display the caption on the chart, select the Visible check box. To hide the caption, clear the Visible
check box.
b.
Optionally, type a new caption in the text box and click Font to format it.
4.
Under Opacity sliders, set the Gadget opacity and Background opacity. You increase the opacity by
making it less transparent.
5.
Click the Bar Chart tab.
6.
In the Orientation list, click one of the following:
o
To display horizontal bars (default), click Horizontal.
o
To display vertical bars, click Vertical.
CCSP Dashboard Help - 7.4
22</p><p>7.
Under Legend, do one of the following:
o
To hide the legend, clear the Show check box.
o
To display only the numerical values, select the Show and Value check boxes.
o
To display only the percentages, select the Show check box, clear the Value check box, and select the
Percentage check box.
o
To display the value and the percentage, select the Show, Value, and Percentage check boxes.
8.
Optionally, change the legend's Font size.
9.
Click the Data Connection tab.
11.
Under Counter selection, click the category.
12.
To include or exclude counters, select the check boxes and click the right or left arrow. To re-order
counters, use
to move the counter.
For details see:
o
Agent report statistics
o
Call report statistics
o
Campaign report statistics
o
Group report statistics
o
Queue report statistics
13.
Under Filter, do one of the following:
o
To filter using regular expressions, type the criterion in the text box. For examples of regular
expressions, see Filter a table column.
o
To filter the data by one item, click the filter.
o
To select multiple filters, click the filters.
o
To avoid filtering, click All (the default).
Note
The text box has precedence over the list box. The list box is disabled when the text box is used. If the
text box is empty and you select from the list, the text box is disabled.
CCSP Dashboard Help - 7.4
23</p><p>14.
Click Confirm.
The bar chart appears in the report window.
CCSP Dashboard Help - 7.4
24</p><p>Add a browser window
Note
To prevent the browser window from hiding the report, before adding the browser window:
1.
On the Workspace menu, enable Arrange workspace.
2.
Enlarge the report.
1.
Right-click in the report window and click Add gadget. The Gadget Builder dialog box appears.
2.
Click Browser. The General tab appears.
3.
Under Caption:
a.
To display the caption on the browser, select the Visible check box. To hide the caption, clear the
Visible check box.
b.
Optionally, type a new caption in the text box and click Font to format it.
4.
Under Opacity sliders, set the Gadget opacity and Background opacity. You increase the opacity by
making it less transparent.
5.
Click the Browser tab.
CCSP Dashboard Help - 7.4
25</p><p>6.
In the text box, type the URL for the location of Real Time Reports data.
7.
To use RTR data, select the Store RTR Data check box.
8.
To include the ID of the logged-on supervisor in the browser URL, for example,
http://www.enghouse.com?loginid=1, select the Include Metadata in URL check box.
9.
Click Confirm.
The browser window appears in the report window.
The remaining steps depend on the design of your web site or application. For some of the information you
need for creating the web application used by the Browser gadget, see Javascript functions for Web
application.
Caution
Your browser application may show some limitations and issues known to browser applications. For more
information, see the Microsoft Developer Network.
Javascript functions for Web applications
The Browser gadget provides the following JavaScript functions for your hosted web application to retrieve RTR
data:
l
parent.GetStatisticsXml();
This function returns a JavaScript Promise containing agent and queue statistics in XML format.
l
parent.GetConfigurationXml();
This function returns a JavaScript Promise containing group, agent, queue, and campaign configurations in
XML format.
l
parent.GetHistoryXml();
This function returns a JavaScript Promise containing queue history in XML format.
Ask your Enghouse representative for a sample script to access RTR data.
CCSP Dashboard Help - 7.4
26</p><p>Add a clock
1.
Right-click in the report window and click Add gadget. The Gadget Builder dialog box appears.
2.
Click Time. The General tab opens.
3.
Under Caption:
a.
To display the caption on the clock, select the Visible check box. To hide the caption, clear the Visible
check box.
b.
Optionally, type a new caption in the text box and click Font to format it.
4.
Under Opacity sliders, set the Gadget opacity and Background opacity. You increase the opacity by
making it less transparent.
5.
Click the Clock tab.
6.
In the Time zone list, click the time zone.
Note
The only times available are standard time. Adjustments for summer daylight hours are not available.
CCSP Dashboard Help - 7.4
27</p><p>7.
To display seconds, select the Show seconds check box.
8.
Under Clock Format, click Analog Clock or Digital Clock.
9.
If you clicked Digital Clock, click 12-hour format or 24-hour format.
10.
To format the clock, click Font, select the font family, size, and color, and then click OK.
11.
Click Confirm.
The clock appears in the report window.
CCSP Dashboard Help - 7.4
28</p><p>Add a pie chart
1.
Right-click in the report window and click Add gadget. The Gadget Builder dialog box appears.
2.
Click Pie chart. The General tab appears.
3.
Under Caption:
a.
To display the caption on the chart, select the Visible check box. To hide the caption, clear the Visible
check box.
b.
Optionally, type a new caption in the text box and click Font to format it.
4.
Under Opacity sliders, set the Gadget opacity and Background opacity. You increase the opacity by
making it less transparent.
5.
Click the Pie chart tab.
6.
Set the inner radius of the pie chart.
7.
Under Legend, do one of the following:
o
To hide the legend, clear the Show check box.
o
To display only the numerical values, select the Show and Value check boxes.
CCSP Dashboard Help - 7.4
29</p><p>o
To display only the percentages, select the Show check box, clear the Value check box, and select the
Percentage check box.
o
To display the value and the percentage, select the Show, Value, and Percentage check boxes.
8.
Optionally, change the legend's Font size.
9.
Click the Data Connection tab.
10.
Under Counter selection, click the category.
11.
To include or exclude counters, select the check boxes and click the right or left arrow. To re-order
counters, use
to move the counter.
For details see:
o
Agent report statistics
o
Call report statistics
o
Campaign report statistics
o
Group report statistics
o
Queue report statistics
12.
Under Filter, do one of the following:
o
To filter using regular expressions, type the criterion in the text box. For examples of regular
expressions, see Filter a table column.
o
To filter the data by one item, click the filter.
o
To select multiple filters, click the filters.
o
To avoid filtering, click All (the default).
Note
The text box has precedence over the list box. The list box is disabled when the text box is used. If the
text box is empty and you select from the list, the text box is disabled.
13.
Click Confirm.
The pie chart appears in the report window.
CCSP Dashboard Help - 7.4
30</p><p>Note
Percentage on a pie segment = (The value of the segment) /(sum of the values of all the segments) x 100%
CCSP Dashboard Help - 7.4
31</p><p>Add a filter
1.
Right-click in the report window and click Add gadget. The Gadget Builder dialog box appears.
2.
Click Filter. The General tab appears.
3.
Under Caption:
a.
To display the caption on the report filter, select the Visible check box. To hide the caption, clear the
Visible check box.
b.
Optionally, type a new caption in the text box and click Font to format it.
4.
Under Opacity sliders, set the Gadget opacity and Background opacity. You increase the opacity by
making it less transparent.
5.
Click Confirm.
The report filter now appears in the window.
Configure the report filter at report run time. See Configure a report filter.
Configure a filter
For overview information, see Filters.
1.
In the Category list, click the category.
2.
In the Column list, click the table column
3.
In Filter, type the criterion for the filter. The criterion depends on the selected column.
4.
Click Apply.
CCSP Dashboard Help - 7.4
32</p><p>Add a table
1.
Right-click in the report window and click Add Gadget. The Gadget Builder dialog box appears.
2.
Click Table. The General tab appears.
3.
Under Caption:
a.
To display the caption on the table, select the Visible check box. To hide the caption, clear the Visible
check box.
b.
Optionally, type a new caption in the text box and click Font to format it.
4.
Under Opacity sliders, set the Gadget opacity and Background opacity. You increase the opacity by
making it less transparent.
5.
Click the Table tab.
6.
In Rows per page, type the number of rows you want in your table. The default is 20.
7.
If you want to display the number of data rows in the table, select the Footer visible check box. To hide
the number of rows in the table, clear the Footer visible check box.
8.
Optionally, click Font to format the table titles and data.
CCSP Dashboard Help - 7.4
33</p><p>Note
l
Font selection does not affect the table caption.
l
Select a data font color that is different from the colors for thresholds and warnings. The colors
selected for thresholds override colors selected for fonts.
9.
Click the Data Connection tab.
10.
Under Counter selection list, click the category.
11.
To include or exclude counters, select the check boxes and click the right or left arrow. To re-order
columns, use
to move the column.
For details see:
o
Agent report statistics
o
Call report statistics
o
Campaign report statistics
o
Group report statistics
o
Queue report statistics
12.
In the Summary column, for each numerical column, click the summary type. The default is None.
13.
Optionally, for Queues:
o
Under Filter, do one of the following:
n
To display data for a defined number of hours in the past, click Relative and move the slider to the
right to set the number of hours.
n
To display data from a specified time onwards, click Absolute and then click the time in the list.
o
In the Media type list, click the medium to include.
14.
Configure the thresholds and alerts. See Configure table thresholds.
15.
Click Confirm.
The table appears in the report window.
Note
To deselect a row in a table gadget, uncheck the row.
For information on filtering tables by selecting entries in table columns, see Filter a table column.
CCSP Dashboard Help - 7.4
34</p><p>Configure table thresholds
Note
l
To configure a complex expression, insert each condition individually in reverse order. Each new
condition is inserted at the start of the expression. See Configure a complex expression.
l
Thresholds only work in the language you define them in.
l
If you add or update thresholds, you must save the workspace for the changes to be reflected in the
email alerts.
Use equations, inequalities, and boolean conditions to define table threshold.
1.
Click the Threshold Manager tab.
2.
Click New. The Threshold Builder dialog box appears.
3.
Optionally, type a new name in Threshold Name.
4.
To set the threshold:
CCSP Dashboard Help - 7.4
35</p><p>a.
Click a table column in the list.
b.
Click the required symbols.
c.
Select or type a value in the free form field to the right of the symbols. See Free form value field.
d.
Click Insert. The threshold expression appears in the equation field.
e.
Repeat steps a-d to add each additional condition for complex expressions. See Configure a complex
expression.
Alternatively, type the entire expression or complete the rest of your expression in the equation field. Use
only the listed symbols.
5.
To set the threshold alarm:
a.
In the Target Column list, click the column for the threshold alarm.
b.
In the Color list, click the color to indicate the threshold is exceeded.
6.
Optionally, to send email alerts:
a.
Select the Send Email check box.
b.
Type the email addresses. Separate multiple email addresses with a semi-colon (;), for example,
supervisor1@abc_corp.com; supervisor2@abc_corp.com; supervisor3@abc_corp.com
c.
In Send if condition persists for, type the number of seconds for the system to wait before sending
the alert. The default is 60 seconds.
Note
l
The refresh interval for threshold data is 5 seconds.
l
The Dashboard SMTP Server from which to send email alerts is configured by the tenant
administrator in CCSP Admin, in Tenant Properties, under Parameters.
l
To activate the new email alerts, you must save the workspace.
7.
Click OK.
8.
On the Threshold Manager tab:
o
To change the priority of a threshold, use
to move the threshold.
o
To activate or deactivate a threshold, select or clear the check box in front of it.
9.
Click Confirm.
CCSP Dashboard Help - 7.4
36</p><p>Free form value field
The contents of this free form field depend on the selected column.
Column type
Field format
A column containing time values
The format of the available data is D.HH:MM:SS. The
default value is 0.00:00:00
A column containing text
Text enclosed in " "
A column that can contain only a few values,
like Agent State
A list where you select values by clicking
Configure a complex expression
To configure a complex expression, insert each condition individually, in reverse order. Each new condition is
inserted at the start of the expression.
The following example, shows how to add the following complex expression in Threshold Manager:
[Waiting in Queue]&gt;0 And [Name]="Q01" or [Name]="Q02"
1.
Add: [Name] = "Q02"
Result: [Name] = "Q02"
2.
Add: [Name] = "Q01" OR
Result: [Name] = "Q01" OR [Name] = "Q02"
3.
Add: [Waiting in Queue] &gt; 0 AND
Result: [Waiting in Queue] &gt; 0 AND [Name] = "Q01" OR [Name] = "Q02"
CCSP Dashboard Help - 7.4
37</p><p>CCSP Dashboard Help - 7.4
38</p><p>Filter a table column
You can limit the rows that appear in a table by selecting values in one or more columns.
Note
l
Filtering uses regular expressions.
l
The following characters are regular expression operational characters: * ? + $ # ^ [ \ .|
If you want to use them as plain text, add a backslash (\) before the character.
Basic filtering
1.
Click
in the column containing the criterion, for example, First Name in an agent table. The Filter field
appears.
2.
In Filter, type the criterion:
o
For text data, type text.
o
For numeric data, type numbers.
o
To combine filter criteria, type the OR symbol |.
The filter button changes to
to indicate it is activated.
3.
To change your selection, repeat steps 1 and 2. You can delete your previous entry.
Detailed filtering
The following table provides examples of commonly used filter techniques.
Metacharacter
Description
.
Selects any single character, for example, a.c matches abc.
[a.c] selects only a, ., or c when the dot is part of a bracket expression. See bracket
expression below.
[ ]
A bracket expression. Selects a single character contained within the brackets, for
example, [abc] selects a, b, or c.
[a-z] specifies a range which selects any lowercase letter from a to z. These forms can
be mixed, for example, [abcx-z] selects a, b, c, x, y, or z, as does [a-cx-z].
The - character is treated as a literal character if it is the last or the first (after the ^)
character within the brackets, for example, [abc-], [-abc].
^
Matches the starting position within a character string.
[^ ]
Selects a single character not contained within the brackets, for example, [^abc] selects
CCSP Dashboard Help - 7.4
39</p><p>Metacharacter
Description
any character other than a, b, or c. [^a-z] Selects any single character that is not a
lowercase letter from a to z. As in bracket expression, literal characters and ranges can
be mixed.
*
Matches the preceding element zero or more times, for example, ab*c matches ac, abc,
and abbbc. [xyz]* matches , x, ycz, zx, zyx, xyzzy, and so on.
Examples
The following examples show how to use the filter techniques.
Content of a filter
Syntax
Explanation
Select objects containing the
string
Sales
All names containing string Sales are included.
Exclude objects containing
string
^((?!Sales).)*$
All names containing string Sales are excluded.
Exclude objects containing list
of strings
^((?!Sales|Support).)*$
All names containing string Sales or Support are
excluded.
Select objects starting with a
character
^o
All names starting with o are included.
Match objects starting with a
list of characters
^[o,e]
All names starting with o and e are included.
The following example shows an unfiltered table.
CCSP Dashboard Help - 7.4
40</p><p>The following table includes only names that begin with the specified letter.
The following table includes only names that contain the specified string.
The following table includes only names that begin with the specified letters.
CCSP Dashboard Help - 7.4
41</p><p>Add a trend chart
1.
Right-click in the report window and click Add Gadget. The Gadget Builder dialog box appears.
2.
Click Trend chart. The General tab appears.
3.
Under Caption:
a.
To display the caption on the chart, select the Visible check box. To hide the caption, clear the Visible
check box.
b.
Optionally, type a new caption in the text box and click Font to format it.
4.
Under Opacity sliders, set the Gadget opacity and Background opacity. You increase the opacity by
making it less transparent.
5.
Click the Data Connection tab.
6.
Under Counter selection, click the category.
7.
Click the counter to include.
CCSP Dashboard Help - 7.4
42</p><p>For details see:
o
Agent report statistics
o
Call report statistics
o
Campaign report statistics
o
Group report statistics
o
Queue report statistics
8.
Optionally, change the Font size.
9.
Under Filter, do one of the following:
o
To filter using regular expressions, type the criterion in the text box. For examples of regular
expressions, see Filter a table column.
o
To filter the data by one item, click the filter.
o
To select multiple filters, click the filters.
o
To avoid filtering, click All (the default).
Note
The text box has precedence over the list box. The list box is disabled when the text box is used. If the
text box is empty and you select from the list, the text box is disabled.
10.
Click Confirm.
The trend chart appears in the report window.
CCSP Dashboard Help - 7.4
43</p><p>Copy, edit, or delete a gadget
You can copy a gadget from a shared view, created by a different user, into your report. You can edit, cut, and
delete gadgets only in your own views.
1.
Right-click the gadget. A shortcut menu appears.
2.
Do one of the following:
o
To edit the gadget, click Edit gadget, and follow the instructions for adding that type of gadget.
o
To cut and paste the gadget, click Cut gadget, navigate to the new location, right-click, and then click
Paste gadget.
o
To copy and paste the gadget, click Copy gadget, navigate to the new location, right-click, and then
click Paste gadget.
o
To delete the gadget, click Delete gadget.
Move table columns
1.
On the Workspace menu, confirm that Arrange workspace is enabled.
2.
Select the column by its heading and drag it to the new location.
For information on displaying only a subset of the rows in the table, see Filter a table column.
Export a table
You can export the contents of a table into a .csv file.
1.
In the table, click
.
2.
A file named Export.csv is download with the contents of the table.
CCSP Dashboard Help - 7.4
44</p><p>4: Report statistics
This section contains the following topics:
l
Agent report statistics
l
Call report statistics
l
Campaign report statistics
l
Group report statistics
l
Queue report statistics
Note
A value of –1 for a statistic in a gadget indicates a lack of information.
Agent report statistics
You can insert the following statistics into agent report tables.
Table column
Description
% Current Load
((Current simultaneous calls) / (Max number of simultaneous calls allowed per agent))
x 100
Administrator
Whether the user is an administrator
Agent
Whether the user is an agent
Note
CCSP also supports ReadyReps and business users.
Agent State
Agent's current state
Available Time
Available time. How long the agent has been in the Available state. Includes
Available and Available in call.
Average Call Duration
Average duration of all media types
Average Callback Call
Duration
Average duration of callback calls
Average Chat Call
Duration
Average duration of chat calls
Average Email Call
Duration
Average duration of email calls
Average Talk Time
(Total talk time for all calls handled by the agent) / (Number of calls handled by the
agent)
CCSP Dashboard Help - 7.4
45</p><p>Table column
Description
Number of calls handled by the agent = total of inbound, outbound, and agent to
agent calls.
Average VoiceMail Call
Duration
Average duration of acd voicemail calls
Average Voip Call
Duration
Average duration of VoIP calls
Block Codes
If agent is blocked from making outbound calls, the agent’s block codes
separated by commas
Block International Calls
Whether the agent is blocked from making international calls
Block Local Calls
Whether the agent is blocked from making local calls
Block Long Distance Calls
Whether the agent is blocked from making long distance calls
Call Direction
The direction of the call the agent is in: Outbound, Inbound, Agent to Agent,
Bridge Call, Callback Request, or Callback Response. For multichat scenarios,
Multiple appears in this column
Call Queue
Queue of the call that the agent is handling (also known as the current queue).
For multichat scenarios, Multiple appears in this column
Call State
Call state of the call that the agent is handling. When the agent is handling
multiple calls, the call states appear with the number of calls in that state, for
example, Ringing:5,In Call:2,On Hold:1,In Wrap-up:3
Campaign Name
The name of the campaign(s) that the agent is logged in to. For Elsbeth
campaigns, the first campaign in the list is the agent's primary campaign.
If not logged into a campaign, this column is empty.
Current Call
Type of call the agent is handling: Telephone, Internet, message call, or callback
(also known as call type). For multichat scenarios, Multiple appears in this
column
Current Simultaneous
Calls
Number of simultaneous calls agents are handling
Description
Agent’s description
First Name
Agent's first name
Group
Name of agent's group
Id
Internal CCSP agent ID
Interaction Profile Name
Interaction profile name
CCSP Dashboard Help - 7.4
46</p><p>Table column
Description
Last Name
Agent's last name
Longest Duration Call
Duration of the call that is the currently the longest active at the agent. Includes
on hold time.
Release Code
Agent's release code
Skills
Agent's skills
Supervisor
Whether the agent is a supervisor
Teams
Agent’s teams, separated by commas
Time in Agent State
Amount of time the agent has been in the current Agent state
Time in Call State
Amount of time the agent has been in the current Call State. When the agent is
handling multiple calls, this column presents 00:00:00.
Note
Time In Call State works only for a single call, with the following limitations:
l
When an agent reduces the number of calls to a single call, Time In Call State
is reset and may be incorrect.
l
When an agent transfers a call, Time In Call State for the second agent is reset
after the first agent hangs up the call.
Time in Release Code
Time in release code.
Note
This attribute only appears when the agent is in the released state and has
chosen a release code.
Time Logged-in
Total time that the agent has been logged on
User Name
Agent’s logon name
CCSP Dashboard Help - 7.4
47</p><p>You can insert the following statistics into agent report charts.
Chart counter
Chart type
Description
% Current Load
Trend
((Current simultaneous calls) / (Max number of simultaneous calls
allowed per agent)) x 100
Agents
All
Number of agents
Available
All
Number of agents in the available state
Available In Call
All
Number of agents in the available in call state
Busy
All
Number of agents in the busy state
Current Simultaneous
Calls
Trend
Number of simultaneous calls agents are handling
In Call
All
Number of agents in the in call state
In Wrap-up
All
Number of agents in call wrap-up
Not Logged In
All
Number of agents that belong to the contact center and are not
logged on
On Hold
All
Number of agents in the on hold state
Released
All
Number of agents in the released state
Released In Call
All
Number of agents in the released in call state
Ringing
All
Number of agents in the ringing state
CCSP Dashboard Help - 7.4
48</p><p>Call report statistics
You can insert the following statistics into call report tables.
Table column
Description
Agent First Name
Agent's first name
Agent Group Name
Group that this agent is assigned to
Agent Id
Internal CCSP agent ID
Agent Last Name
Agent's last name
Agent User Name
Agent's Windows username
Agent Team Names
Agent's teams. Multiple teams are separated by commas.
Call Direction
Call type. Possible values are:
l
Outbound
l
Inbound
l
Agent to agent
l
Bridged
l
Callback request
l
Callback response
l
PDS
l
Previewing
Call Duration
Call duration. Includes all the possible call states.
Call Id
Internal CCSP call ID
Call Media
Media type. Possible values are:
l
Chat
l
Email
l
Voip
l
CallBack
l
Voice Mail
Call Queue
Call queue
Call State
Call state. Possible values are:
l
Preview
CCSP Dashboard Help - 7.4
49</p><p>Table column
Description
l
Ringing
l
In Call
l
On Hold
l
Wrap Up
Time In Call State
Time in call state. The number of seconds since the call moved to the 'in-call'
state. Includes wrap up and on hold time.
You can insert the following statistics into call report charts.
Chart counter
Description
Call Back
Total number of callback calls being handled
Calls
Total number of calls being handled
Chat
Total number of chat calls being handled
Email
Total number of email calls being handled
Voicemail
Total number of voicemail calls being handled
Voip
Total number of VoIP calls being handled
CCSP Dashboard Help - 7.4
50</p><p>Campaign report statistics
Note
These statistics apply only to Sytel campaigns. To view Elsbeth campaign statistics, use the EPC
Administrator.
You can insert the following statistics into your campaign report gadgets.
Table column
Chart counter
Description
% Calls Disposed by
Agent
-
Percent of calls with outcomes determined by agent
% Calls Disposed by
System
-
Percent of calls with outcomes determined by system
% Campaign Available
Time
-
((Total available time)) / (Total logon time)) x 100
% Campaign Talk Time
-
((Total talk time) / (Total logon time)) x 100
% Campaign Wrap-up
Time
-
((Total wrap-up  time)) / (Total logon time)) x 100
% Conversion
% Conversion
Sales as a percent of live calls
Abandoned
Abandoned
Number of abandoned calls
Agent Calls per Hour
-
Number of calls handled by agents per hour
Agents Logged-in
Time
Agents Logged-in
Time
Total logged on time of the agents in hh:mm:ss
Answering Machine
Agent Detected
Answering Machine
Agent Detected
Number of calls to answering machines detected by
agents
Answering Machine
System Detected
Answering Machine
System Detected
Number of calls to answering machines detected by
system
Answering Machine
Total
Answering Machine
Total
Total number of answering machine calls
Available Agents
Available Agents
Number of agents logged on to campaign and in available
state
Average Refusal
Duration
-
Average duration of calls which have a disposition of
refusal
Average Reschedule
Duration
-
Average duration of calls which have a disposition of
reschedule
CCSP Dashboard Help - 7.4
51</p><p>Table column
Chart counter
Description
Average Sale Duration
-
Average duration of calls which have a disposition of sale
Busy
Busy
Number of busy calls
Calls Dialed
Calls Dialed
Total number of dialed calls
Calls Dialed per Hour
-
Number of dialed calls per hour
Calls Disposed by
Agent
Calls Disposed by
Agent
Number of calls with outcomes determined by agent
Calls Disposed by
System
Calls Disposed by
System
Number of calls with outcomes determined by system
Cumulative Available
Time
Cumulative Available
Time in Minutes
Total minutes agents were available
Cumulative Talk Time
Cumulative Talk Time
in Minutes
Total minutes agents were in call
Cumulative Wrap-up
Time
Cumulative Wrap-up
Time in Seconds
Total seconds agents were in wrap up
Fast Busy
Fast Busy
Number of fast busy calls
Id
-
Internal CCSP ID for campaign
In-call Agents
In-call Agents
Number of agents logged on to campaign and in call state
Logged-in Agents
Logged-in Agents
Number of logged-on agents
Name
-
Name of the campaign
No Answer
No Answer
Number of calls with no answer
Number Out of Order
Number Out of Order
Number of calls with number out of order
On-hold Agents
On-hold Agents
Number of agents logged on to the campaign and in on-
hold state
Other Unworkable
Other Unworkable
Number of calls since the campaign started with
disposition Unworkable
Previewing Agents
Previewing Agents
Number of agents logged on to the campaign and in call
preview state
Queue
-
The queue assigned to the campaign
Refusals
Refusals
Number of refusals
Released Agents
Released Agents
Number of agents logged on to the campaign and in the
released state
CCSP Dashboard Help - 7.4
52</p><p>Table column
Chart counter
Description
Reschedules
Reschedules
Number of rescheduled calls
Run Time
Campaign Run Time in
Minutes
Duration of the campaign in minutes in hh:mm:ss format
from the last time it was started
Sales
Sales
Number of sales
Sales per Hour
-
Number of sales per hour
Start Time
-
Start time of the campaign in hh:mm:ss format
Wrap-up Agents
Wrap-up Agents
Number of agents in wrap up
Wrong Number
Wrong Number
Number of calls to wrong number
Wrong Person
Wrong Person
Number of calls to wrong person
CCSP Dashboard Help - 7.4
53</p><p>Group report statistics
Note
In multiple interaction scenarios, the Group statistics do not represent the full agent time in state
measurements.
Additional information about individual calls that the agent is handling is presented in Call reports.
You can insert the following statistics into your group report gadgets.
Table column
Chart counter
Description
% Agents In Call of
Logged In Agents
% Agents In Call of
Logged In Agents
((Agents Available In Call + Agents Released In Call) / (Agents
Logged In)) x 100
% Agents In Callback
Call
% Agents In Callback
Call
((Number of agents in callback call) / (Total number of
agents in call)) x 100
% Agents In Internet
Call
% Agents In Internet
Call
((Number of agents in internet call) / (Total number of
agents in call)) x 100
% Agents In Message
Call
% Agents In Message
Call
((Number of agents in message call) / (Total number of
agents in call)) x 100
% Agents In Telephone
Call
% Agents In Telephone
Call
((Number of agents in telephone call) / (Total number of
agents in call)) x 100
% Avg Current Load
% Avg Current Load
(only in trend charts)
Average load per agent
-
Agents
Total number of agents in the group
Available
Available
Number of agents in the available state
-
Available In call
Number of agents in the available in call state
Avg Current
Simultaneous Calls
Avg Current
Simultaneous Calls
(only in trend charts)
Average simultaneous calls per agent
-
Busy
Number of agents in the busy state
Id
-
Internal CCSP group ID
In Call
In Call
Number of agents that are in call or pending call transfer
In Wrap-up
In Wrap-up
Number of agents in the wrap-up state
Logged In
Logged in
Number of agents logged on
Longest Duration Call
-
Duration of the call that is the currently the longest
CCSP Dashboard Help - 7.4
54</p><p>Table column
Chart counter
Description
active in the group. Includes on hold time.
Name
-
Name of group
Not logged In
Not logged In
Number of agents logged off
On Hold
On Hold
Number of agents in the on hold state
Released
Released
Number of agents in the released (inactive) state
-
Released In Call
Number of agents in the released in call state
Ringing
Ringing
Number of agents in the ringing state
Time Available
-
Amount of time that the agents are in the available state
Time Busy
-
Amount of time that the agents are in the busy state
Time in Call
-
Amount of time that the agents are in the in call state
Time in Logged-in
-
Amount of time that the agents are in the logged-in
state
Time in On-hold
-
Amount of time that the agents are in the on-hold state
Time in Released
-
Amount of time that the agents are in the released state
Time in Ringing
-
Amount of time that the agents are in the ringing state
Time in Wrap-up
-
Amount of time that the agents are in the wrap-up state
CCSP Dashboard Help - 7.4
55</p><p>Queue report statistics
Note
After StatisticServer failover, only the following queue counters are recovered:
l
Being Handled
l
Handled (only for calls currently in the system)
l
Offered (the recovered counter includes the Overflowed In counter values before the failover)
l
WaitingInQueue
The counters are recovered only for the calls currently in the system that are not in their termination
phase.
All recovered counters are placed in the current hour slot.
You can insert the following statistics into your queue report gadgets.
Table column
Chart counter
Description
Abandoned
Calls Abandoned
Number of calls offered to the contact center that were
abandoned
Abandoned (TQOS)
Calls Abandoned within
TQoS
Number of calls offered to the contact center that were
abandoned within the specified target quality of service
Abandoned in %
Calls Abandoned in %
((Number of abandoned calls) / (Total calls handled + calls
abandoned)) * 100
Assigned Service
Level
Assigned Service Level in
%
Target service level assigned to the queue
Average Call
Duration
Average Call Duration
(only in trend charts)
(Total talk time for all calls in a queue) / (Number of calls
answered)
Average Speed of
Answer
Average Speed of Answer
(only in trend charts)
Average amount time it takes an agent to answer a call
Average Waiting
Time
-
(Sum of all waiting time for all calls in a particular queue for
the selected media) / (Number of all calls in a particular
queue for the selected media)
Note
Average waiting time is computed only for calls waiting in
the queue and does not include the time until an overflow
occurs, if it occurs.
Being Handled
Calls Being Handled
Number of calls being answered by agents
Calls Outside TQOS
Calls Outside TQOS Level
(Calls handled and being handled + Calls abandoned - Calls
CCSP Dashboard Help - 7.4
56</p><p>Table column
Chart counter
Description
Level
in %
handled within TQOS - Calls abandoned within TQOS - Calls
pulled from defer and non-queued items pulled from public))
* 100 / (Calls handled and being handled + Calls abandoned)
Note
If there are no calls, the service level is 0%.
Cumulative Wait
Time
-
Total wait time of answered calls in queue
Note
This total excludes abandoned calls.
Groups
-
List of groups for each queue
Handled
Calls Handled
(Number of calls that were answered) + (Calls being answered
by agents)
Handled (TQOS )
Calls Handled Within
TQOS
Number of calls answered within the target quality of
service (TQOS ) threshold
Id
-
Internal CCSP Queue ID
In-queue Timeout
-
The (configured) in-queue timeout value
Longest Time
-
Longest wait time of a call currently in queue, the oldest
call
Name
-
Name of the queue
Offered
Calls Offered
Number of calls offered to the queue
Overflowed In
Calls Overflowed In
Number of calls re-queued from another queue to this
queue
Overflowed Out
Calls Overflowed Out
Number of calls re-queued from this queue to another
queue
Pulled Non-queued
item from public
Pulled Non-queued item
from public
Number of unqueued calls pulled from public
Pulled Queued item
from public
Pulled Queued item from
public
Number of queued calls pulled from public
Pick-up Timeout
-
Pick-up timeout value configured for the queue
Rejected
Calls Rejected
Number of calls rejected by agents or by the system
Service Level
Service Level in %
(Number of calls handled within TQOS / (Number of calls
handled and being handled + Number of abandoned calls -
Number of calls abandoned within TQOS - Number of calls
pulled from defer and non-queued items pulled from public))*
100
CCSP Dashboard Help - 7.4
57</p><p>Table column
Chart counter
Description
Note
If there are no calls, the service level is 0%.
Target TQOS
-
The target quality of service assigned to the queue, in
seconds
Total Wait Time
-
Total wait time of calls in queue
Note
This total includes abandoned calls.
Waiting in Queue
Calls Waiting in Queue
Number of calls in the queue waiting to be answered
Wrap-up Timeout
-
Wrap-up timeout value configured for the queue
CCSP Dashboard Help - 7.4
58</p></section><section><meta content="CCSP UI Help - Agent Part 1 - Section 4: Contact Center:
Service Provider
Designer Help - Tenant
Version 7.4" name="description"/><h2>Contact Center:
Service Provider
Designer Help - Tenant
Version 7.4</h2><p>Contents
1: Intro
8
What's new
8
Differences between the legacy and new Designer
8
Migrate to the new Designer
9
Definitions
9
Legal disclaimer
11
Support
11
2: Overview
12
Log in
12
Password expired message
13
Additional login messages
13
Reseller view
14
Select the tenant to manage
14
Return to the Tenants page
14
Get started page
15
Errors page
17
Save current errors to a text file
17
Clear current errors
17
Navigation pane
18
List view
19
Call flow
20
Predefined events
21
Flowchart of events
23
How to use audio files
25
How to use speech
26
How to use video
27
Naming format for video files
27
How to record calls
28
How to use variables and constants
29
How to use variables
29
How to use the $empty$ constant
30
Log out
31
Additional logout messages
31
Session expiry
31
3: Workspaces
32
Workspace editor overview
32
Workspace tab bar
33
Script tabs panel
35
Script blocks panel
36
Flow editor
36
CCSP Designer Help - Tenant - 7.4
2</p><p>Properties panel
39
Manage workspace templates
41
Select a template
42
Delete a custom-tenant template
42
Open a workspace
43
Import a workspace
44
Manage workspaces
46
Save a copy of the workspace
46
Save a workspace as a tenant template
47
Revert a workspace
48
Reload the last published workspace
49
Delete a workspace
50
Publish workspaces
51
Location to publish to
51
Workspace versions
51
Publish a workspace
52
Manage tables
53
Upload a new table
54
Upload an updated table
55
Download a table
55
Publish a table
56
Rename a table
57
Delete a table
57
Manage workspace files
58
Upload a new file
59
Upload an updated file
60
Download a file
60
Publish a file
61
Rename a file
62
Delete a file
62
Manage version history
63
Open a snapshot
64
Edit a version's description
65
Republish a version
66
4: Scripts
68
Manage scripts
68
Add a new script
70
Add a system script
70
Duplicate a script
71
Rename a custom script
71
Save a script
72
Publish a script
72
Validate a script
73
Delete a custom script
73
How to iterate through scripts
74
CCSP Designer Help - Tenant - 7.4
3</p><p>Example scripts
75
Ivr script
76
Agentless IVR script
80
IVR Timeout script
82
Call processing scripts
83
Elsbeth integration scripts
99
Music On Hold script
101
Music On Hold In Queue script
102
In Queue Timeout script
105
Pickup Timeout script
105
Voicemail processing scripts
105
Web services XML examples
115
5: Blocks
117
Block availability per CallXML script
118
Abort
123
Add Skill
123
Agent Selection Rule
124
Agentless Campaign Outcome
125
Answer
126
Assign
127
Bridge Call
128
Call Maturity/Priority
129
Caller Message
130
Caller Name
130
Caller URL
131
Check Date
131
Configure the Check Date block
131
Check Time
134
Configure the Check Time block
134
Clear Digits
135
Clear Digits Events
135
Clear User Data
136
Condition
136
Define Grammar
137
Routing
138
Backward compatibility
139
Edit Email
140
Get Agent Statistics
142
Get Digits
145
Get Phone Information
147
Information fields
147
Get Queue Statistics
149
Get User Data
151
GoTo
152
GoTo Voicemail
152
CCSP Designer Help - Tenant - 7.4
4</p><p>Hangup
153
IVR Recording
154
Examples
155
IVR Transfer Recording
157
Leave Voicemail
158
Examples
160
Log
161
Logging Control
162
Mask Digits
163
MD5 Encryption
163
Menu
164
Configure the Menu block
165
Optional Parameters
167
Real-Time Speech Analytics
167
CCSP UI CustomRing parameter
167
Percent Allocated
169
Configure the Percent Allocated block
169
Play Audio
170
Play Date
171
Play Greeting
173
Play Money
174
Play Number
175
Play Text
176
Play Video
178
Implementation
178
Playback Audio
179
Queue Name
180
Read SIP Header
181
Record Audio
182
Record Video
184
Record Voicemail
185
Recorder
187
Rules table
188
Remove Skill
189
ReQueue
189
Routing Mode
190
Routing Properties
191
Run
191
Schedule Callback
192
Script Entry Point
194
Send Callback
195
Send Email
197
Send User Data
199
Set Defer Type
199
Set Event
200
Set Language
201
Set SIP Header
202
CCSP Designer Help - Tenant - 7.4
5</p><p>Speech Enabled Menu
203
Configure the Speech Enabled Menu block
205
Speech Play and Collect
207
Configure the Speech Play and Collect block
209
Stop Video
210
Supervised Transfer
211
Configure the Supervised Transfer block
213
Switch
214
Configure the Switch block
214
Table
216
Table Lookup
216
Terminate
217
Transfer by Refer
218
Configure the Transfer by Refer block
219
Transfer Call
220
UnQueue
222
VXML (VoiceXML) Transfer Call
223
Wait for Events
225
Wait
225
Web Services
226
6: Objects
227
New model for messaging calls
227
Common media API
228
CallbackCall object
232
EmailCall object
233
OutgoingEmailCall object
233
VoicemailCall object
233
Comparison with CallData object
238
CallData object
243
Properties from SIP headers
245
Playback-related properties
247
Determining the Calldata.HideAniFromAgent value
248
CCLEvent object
249
CosmoCall object
249
CosmoCall.CallbackData object
250
CosmoCall.TtsInfo object
251
Line object
251
NewLine object
252
Session object
252
7: CallXML
253
General elements
254
assignvar
254
clear var
254
CCSP Designer Help - Tenant - 7.4
6</p><p>cleardigits
254
getDigits var
254
goto value
254
run value
255
sendEvent value
255
Call control elements
255
answer
255
call value
255
conference targetSessions
255
hangup
256
playAudioformat
256
playDateformat
256
playMoneyformat
257
playNumber
257
recordAudioformat
257
text format
258
waitForConferenceEnd
258
Test and debug elements
258
CallXML high level elements
258
block label
259
menu label
259
inputAudio label
259
inputDigitslabel
259
Additional Designer elements
260
addSkillvalue
260
arrivalTimeBiasvalue
260
callerMessagevalue
260
callerNamevalue
260
callSetNamevalue
260
callerURLvalue
260
conditionalexpr
261
optionalParametervar
261
removeSkillvalue
261
sendEmail server
261
unQueue and reQueue
262
CCSP Designer Help - Tenant - 7.4
7</p><p>1: Intro
Designer is a stand-alone application that allows you to write scripts to manage call-flows, using a graphical
interface to create the paths that a call can take through your call center. Designer loads workspace and script
data from a database and allows you to publish this as XML files to locations configured on a per-tenant basis.
This Help is for script designers who write scripts to manage incoming call flows to their contact center and to
manage the events that occur in outbound dialing campaigns.
What's new
Version 7.4
Publish workspaces — added information about workspace versions. Requires HF74-64557.
Manage version history — Designer automatically creates up to 10 versions (snapshots) of each published
workspace. Requires HF74-64557.
Manage workspaces — you can revert a workspace to a previous version (snapshot) or reload the last
published workspace from the network. Requires HF74-64557.
Log in and Log out — added process for CCSP single sign-on. Requires HF74-63812.
Reseller view, Get started page, and Navigation — added reseller administrator view. Requires HF74-61855.
Errors page — added page. Requires HF74-62208.
Manage workspace files — you can upload .txt, .xml, and .wav files to the workspace. Requires HF74-62208.
Manage scripts — you can add a system script. Requires HF74-62208.
Post Call script — added script. Requires HF74-61186.
Blocks — block names must not exceed 256 characters in length. Requires HF74-62208.
Check date block — the default location of Holiday.xml is &lt;installation directory&gt;/CosmoCom/Server
Components/Designer. Requires HF74-62208.
IVR Recording block — added block. Requires HF74-61950.
Read SIP Header block — added block. Requires HF74-61777.
Set SIP Header block — added block. Requires HF74-61777.
Differences between the legacy and new Designer
You now have to log in to use the Designer.
Workspaces are created and published in the context of a tenant.
Workspaces, scripts and tables are now stored in and loaded from a database.
CCSP Designer Help - Tenant - 7.4
8</p><p>XML files for workspaces, scripts and tables are only created when publishing either the whole workspace or an
individual script and table.
XML files for workspaces, scripts and tables are only loaded by Designer when importing an existing
workspace.
Tables can no longer be edited in Designer. A table must be created and edited outside of Designer in a
suitable editor that can save the table as a tab-delimited text file. This table file must then be uploaded into
Designer. All the tables for a workspace are listed on a dedicated page, where they can be uploaded,
downloaded, published and renamed.
Designer creates workspace folders on publish.
Case branch properties are now edited in the Properties panel, instead of in the dialog.
To edit the scripts on which a block is validated, instead of editing the Library.xml file in the installation folder of
Designer, you must edit the database table directly. Contact Customer Services for details on how to do this.
Workspaces cannot be opened from a URL. This is because workspaces must be loaded in from a folder
location in order for all scripts (including ancillary scripts) and tables to be loaded.
See Migrate to the new Designer.
Migrate to the new Designer
To migrate to the new Designer:
1.
Prepare the workspace folder for import into Designer. Remove backup copies of script files and empty
script files.
2.
Import the workspace. See Import a workspace.
3.
Publish the workspace to the tenant’s IVR root for applications. See Publish a workspace.
Definitions
Term
Definition
ancillary script
An imported script XML file that is not directly referenced by an imported workspace.xml
file but is still required to be part of the workspace. For example, PrP-generated files and
files that are destinations for GoTo blocks.
block
Action with properties and behavior that can be applied to a call in a script. Blocks are
either:
l
Custom — created by the user with properties and behavior that can be edited as
required
l
System — installed with the Designer application that has predefined properties and
behavior, with only the property values editable by the user.
CCSP Designer Help - Tenant - 7.4
9</p><p>Term
Definition
call parameter
A call is associated with these parameters: TQoS, skills required, queue destination, caller
name, URL, and any number of optional parameters.
CCSP UI
CCSP UI application for agents and supervisors. Previously called TouchPoint.
event
See Predefined events for a list of events that affect the routing of calls in CCSP.
group
A collection of agents working in the same area of expertise in the contact center. The
agents in a group receive calls from the same queues.
ICS
Internet Communication Service — provides chat capability.
maturity
TQoS less the amount of time the call has already been in the queue.
MCS 
Message Communication Service — provides email capability.
multichat
Enables simultaneous handling of multiple chat sessions, up to a configured number
between one and nine sessions.
priority
Independent of TQoS, you can assign priorities to calls arriving at your contact center
through scripts. The priorities are in the range from 0 through 99, with the default being
49, the lowest priority 0, and the highest priority 99. Within a queue, call priority overrides
TQoS and call maturity.
queue
A mechanism to manage a collection of incoming phone, email, Internet, and video calls
that require common handling.
release code
Codes used by agents to explain why they are making themselves unavailable to accept
calls.
routing
The movement of a call from the ACD to a queue and then to an agent with the skills to
handle the call.
script
A sequence of blocks that define a call script. Scripts are used to respond to predefined
events that may be triggered in CCSP.
skill
A skill is an attribute of an individual agent, who is defined by the administrator in the
agent administration procedure. Skill requirements are also attributes of individual calls,
that may be assigned to the call in the construction of the call request by the web or
IVR application.
snapshot
Published version of a workspace, including its scripts, tables, and ancillary files, that is
stored in the database. Up to 10 such versions can be kept for each workspace.
team
An administrative grouping of agents. Teams do not affect how calls are routed to agents.
timeout
If a call remains unanswered for longer than this time period, an event is triggered.
TQoS
Total Quality of Service — the amount of time in seconds in which a call should be
answered and can be used to specify service levels for types of customers.
CCSP Designer Help - Tenant - 7.4
10</p><p>Term
Definition
workspace
A set of scripts that relate to a single location that can be associated with an application
entity in CCSP Admin.
wrap up code
Code that represents the result of a call.
VCS
Voice over IP (VoIp) Connection Service — CCSP service that supports voice call.
VCS only
This statement is for users who have access to the VCS or are responsible for configuring
and managing CCSP connection servers. The statement excludes applicability for web
chat and email message handling and include voice call.
Legal disclaimer
This document is governed by the terms of the software license agreement and applicable contract (including
addendums) entered into with Enghouse.
Support
To submit comments or questions about the information in this guide, please open a case with Enghouse
Support.
CCSP Designer Help - Tenant - 7.4
11</p><p>2: Overview
This section contains the following topics:
l
Log in
l
Reseller view
l
Get started page
l
Errors page
l
Navigation pane
l
List view
l
Call flow
l
Predefined events
l
Flowchart of events
l
How to use audio files
l
How to use speech
l
How to use video
l
How to record calls
l
How to use variables and constants
l
Log out
Log in
The log in process is slightly different depending on the identity provider configured by your administrator.
Note
l
Reseller administrators can log on to multiple tenants.
l
Admin users can open several tabs in the same browser with one login.
l
If you log in again after your CCSP application session becomes invalid, and while your ADFS or EIS
provider's session is still valid, you do not need to type your password.
1.
In your browser, in the Address bar, type the URL supplied by your supervisor or administrator.
2.
Click Go or press Enter. The Welcome to Designer page appears.
3.
Click Log in. If you are already logged in, the main Designer page appears.
4.
If you are not already logged in, the Auth Server Login Selector page appears.
5.
Type your User name in User Principal Name (UPN) format, for example, someone@domainname.com,
and click Continue.
6.
The next step depends on the identity provider configured by your administrator:
CCSP Designer Help - Tenant - 7.4
12</p><p>o
For Auth Server, the AuthServer login page appears. Type your Password and click Log in.
Alternatively, to change the username, click Back to return to the previous page. The main Designer
page appears. If necessary, see Password expired message below.
o
For ADFS, you are redirected to the ADFS login page to authenticate. Please consult your local
procedures for how to proceed from this point.
o
For Enghouse Identity Server (EIS), you are redirected to the EIS login page. Type your Password and
click Login. The main Designer page appears.
7.
If necessary, see Additional login messages below.
Next, see Reseller view or Get started page.
Password expired message
For Auth Server, if your password has expired or your administrator has set your account to require a password
change at the next login, the next time you enter your password on the Auth Server login page, the Password
expired notification appears.
1.
In the notification, click Change Password. The Change password dialog appears.
2.
In Old Password, type your current password.
3.
In New Password, type your new password. Do not use the double quote (") character or spaces.
4.
In Confirm Password, type your new password again.
5.
Click OK.
Additional login messages
The following messages may appear when you try to log in:
l
Failed to get authorization for Designer use. Your user profile is not permitted to use the Designer application.
Only landlord, reseller, and tenant administrators are permitted to use the Designer application.
l
You are not authorized to view this page. This can occur because:
o
You are logged in to an external identity provider with a different username than the one you entered
on the Auth Server Login Selector page to log in to the CCSP client application.
o
You entered a username on the Auth Server Login Selector page and were redirected to an external
identity provider, where you log on with a different username.
l
Auth Server is not available or there is a misconfiguration. You must contact your administrator. You will not be
able to log in to Designer until the issue is resolved.
CCSP Designer Help - Tenant - 7.4
13</p><p>Reseller view
Select the tenant to manage
Return to the Tenants page
A reseller administrator is a tenant-wide administrator that performs tenant administrator tasks for the tenants
that are assigned to them.
Caution
If no tenants are assigned to a reseller administrator, they can manage all tenants.
After logging in, reseller administrators see the Tenants page.
For navigation information, see List view.
Select the tenant to manage
On the Tenants page, select the tenant to manage.
Next, see Get started page.
Return to the Tenants page
To return to the Tenants page, click
.
CCSP Designer Help - Tenant - 7.4
14</p><p>Get started page
Note
l
Each tenant can have multiple workspaces.
l
Each tenant can have two or more workspaces based on the same template.
l
On the Get started page, the Most recent list displays the workspaces that have been opened in the
Workspace editor. If a snapshot has been opened, the owning workspace is listed, not the snapshot.
After selecting the tenant to work with, reseller administrators see the Get started page with that tenant's
workspace information.
After logging in, tenant administrators see the Get started page with their workspace information.
Reseller view
CCSP Designer Help - Tenant - 7.4
15</p><p>Tenant view
To open a recently edited workspace, in the Most recent list (A), click the workspace. For navigation
information, see List view. The Workspace editor appears. Next, see Workspace editor overview.
To create a new workspace, click New workspace (B). The Workspace templates page containing a list of the
available templates to choose from appears. Next, see Manage workspace templates.
To open an existing workspace, click Open workspace (C). The Workspaces page containing a list of the
available workspaces to choose from appears. Next, see Open a workspace.
To import an existing workspace as part of the process of migrating a tenant from the legacy to the new
Designer, click Import workspace (D). The Import Workspace dialog appears. Next, see Import a workspace.
CCSP Designer Help - Tenant - 7.4
16</p><p>Errors page
Save current errors to a text file
Clear current errors
Note
l
When an Import or Validate action causes an error, a dialog appears with a See details on the Error
Page link or a Details button that redirects the user to the Errors page.
l
Error List data is kept until the user session ends, unless the user manually clears the list.
l
When a new action causes an error, previous action errors are automatically cleared.
1.
On the navigation pane, click
Errors. The Errors list appears. For navigation information, see List
view.
The possible Import or Validate action error types are:
l
Block name too long — the block display name exceeds 256 characters.
l
Duplicate name — during import of a workspace, more than 1 script with the same name has been found.
l
Invalid Block usage —a block exists on a script that is not valid for that script type.
l
Invalid Table format — a table .xml file has invalid or missing elements.
l
Invalid Xml file — the file is syntactically invalid or has incorrect or missing elements.
Save current errors to a text file
1.
On the Errors page, click
Download.
2.
The text file appears in your Downloads folder.
Clear current errors
1.
On the Errors page, click
Delete.
CCSP Designer Help - Tenant - 7.4
17</p><p>Navigation pane
Use the navigation pane as follows.
Icon
Description
Visible to
Reseller
Visible to
Tenant
Home — click to view the Tenants page and select the tenant
to manage.
Yes
No
Tenant Home — click to view the Get started page.
Yes
Yes
Workspaces — click to manage workspaces.
Yes
Yes
Workspace Templates — click to manage workspace
templates.
Yes
Yes
Errors — click to view the Errors page.
Yes
Yes
Visible after you open a workspace
Workspace Editor — click to view the workspace editor.
Yes
Yes
Scripts — click to manage scripts.
Yes
Yes
Tables — click to manage tables.
Yes
Yes
Workspace Files — click to manage workspace files.
Yes
Yes
Version History — click to manage version history.
Yes
Yes
CCSP Designer Help - Tenant - 7.4
18</p><p>List view
Use the list view as follows.
To
Action
Add a block or table
Click
.
Delete an item
Select the item's check box and then click
.
Delete multiple items
Select multiple check boxes and then click
.
Search for items
Type the criteria in the search box.
Sort
Click the column heading. The
indicates the sort column and sort
direction.
Open an item
Click the item in the list to open it.
View counters
The number of visible items and the total items appear at the top of the
page, for example, and 1-4 of 4.
The number of:
l
Filtered items appears in front of the total items, for example, 1-2 of 2.
l
Selected items appears in brackets at the top of the check box column, for
example, (1).
View the first, previous, next,
or last page
Click the appropriate page navigation icon:
.
CCSP Designer Help - Tenant - 7.4
19</p><p>Call flow
Designer is a highly flexible, graphical tool for designing and deploying call flows (scripts) in contact centers.
Each script handles a specific call event.
In CCSP, call flow is determined by:
l
Events that depend on the media type of the call. By default, media types include voice, internet (chat) and
message (email). For example, only VoIP calls enter the incoming call event and run the IVR script.
l
The CCSP Call Management Service response.
Using Designer, you can create an IVR script that puts VoIP calls into a queue and gives the call skills based on
caller input, for example, "Press 1 for Sales, press 2 for Support".
In Designer, you draw the call flow using a simple connect-the-blocks approach with a graphical user interface.
Each command block represents one logical step of the call flow, such as playing an announcement, collecting
touch tone digits, or routing a call to a specific queue.
Designer uses a superset of CallXML functions that enables web, email and VoIP calls to interact with the
XML scripts to gather caller information and choices for call routing and caller identification. The Designer
CallXML functions are presented as a set of graphical tools called blocks.
The XML scripts gather the input for these functions and pass them to the XML Interpreter for processing. This
enables CCSP service providers, and their tenants, to quickly edit scripts without the need for VBScript
programmers or CCSP system administrator intervention.
CCSP Designer Help - Tenant - 7.4
20</p><p>Predefined events
In every CCSP call lifecycle, there are several predefined events. You determine which events trigger a script and what task the script performs, depending on the media.
Note
CCSP UI was previously called TouchPoint.
The following table describes the events supported by the different media.
Event/script
Description
Voice Chat Email Voicemail Callback
IVR
An incoming call. When a VoIP call arrives at the VCS.
Yes
No
No
No
No
IVR Timeout
IVR system timeout, triggered when a caller has been in the IVR system for more than 30 minutes.
Yes
No
No
No
No
Call Answered
Occurs when an agent answers an incoming voice call.
Yes
No
No
No
No
Call Arrival
When a call arrives at the contact center. This event is triggered after IVR, if that occurred, but before
being submitted to the Call Management Service.
Yes
Yes
Yes
Yes
Yes
Call Aged
An email or voicemail has been in the deferred folder for longer than the configured Ageing Timeout
Interval. Ageing starts from when the agent defers the call, not from call arrival. By default, an agent
cannot defer a call after it has aged once. You can override this default in the Ageing script.
No
No
Yes
No
No
Call Pre Sent
After an agent initiates, replies to, or forwards an email by clicking Send but before the email is actually
sent from the system to the recipient.
No
No
Yes*
No
No
Music On Hold In Queue The time before a call is answered, while a VoIP caller is in queue. A Music on Hold While in Queue
script might play .wav files while a VoIP caller is waiting.
Yes
No
No
No
No
Music On Hold
The time while a caller is on hold after an agent put them on hold.
Yes
No
No
No
No
In Queue Timeout
A call remains unanswered for longer than its allowed timeout period. An In Queue Timeout script
might issue an alert to a supervisor or it might delete some skills from the call so that more agents are
capable of answering the call.
Yes
Yes
Yes
Yes
Yes
CCSP Designer Help - Tenant - 7.4
21</p><p>Event/script
Description
Voice Chat Email Voicemail Callback
Call Rejected
When a call is rejected for any reason, such as when there are no agents.
Yes
Yes
Yes
Yes
Yes
Pickup Timeout
When the ACD rings CCSP UI but there is no response or the agent does not pickup the call.
Yes
Yes
Yes
Yes
Yes
Call Termination
The end of a call.
Yes
Yes
Yes
Yes
Yes
Outgoing Call
An outgoing call.
Yes
No
No
No
No
A2A Call Rejected
When a call being delivered to another agent is rejected.
Yes
No
No
No
No
Call Deferred
Agent is in call and defers the email or voicemail message before the completion of call termination.
No
No
Yes
No
No
Playback Audio Call
Abandoned **
Plays back audio to a customer at the end of an abandoned call.
Yes
No
No
No
No
Playback Audio Rebound
Queue **
Plays back audio to a customer after a rebound call is queued.
Yes
No
No
No
No
Playback Audio Rebound
Rejected **
Plays back audio to a customer when a rebound call is rejected.
Yes
No
No
No
No
Post Call
When the caller is still connected after all the other participants of the call hang up, this event is
triggered to post process the call, for example, to give a customer the chance to rate or answer a
survey about the call.
Yes
No
No
No
No
* Only for outgoing email
** Available only in the Elsbeth integration.
The UnQueue and Requeue Designer blocks allow scripts to remove a call from a queue and re-queue a call, if desired.
For examples of scripts that handle most of these events, see Example scripts.
CCSP Designer Help - Tenant - 7.4
22</p><p>Flowchart of events
The following diagram shows the flow of the CCSP call events. For a description of the CCSP events, see
Predefined events.
CCSP Designer Help - Tenant - 7.4
23</p><p>CCSP Designer Help - Tenant - 7.4
24</p><p>How to use audio files
CCSP has the ability to play audio (.wav) files as part of the call flow (scripts). CCSP provides default music and
voice files for your use. Alternatively, you can supply your own announcements that customers will hear when
calling into your contact center and the message and/or music customers will hear while on hold.
All announcements and music must be standard .wav files saved with the following settings:
l
Preferred quality — call quality
l
Format — PCM
l
Attributes — 8,000 kHz, 16 Bit, Mono
Note
l
The path specifying a .wav file must be 80 characters or less in length. This limitation includes the file
name.
l
The URL can include the http or https protocol.
l
For best audio quality, we recommend that you have these recordings made in a professional studio.
Audio files can be uploaded via Provisioning Portal, if it's installed and licensed on the platform.
CCSP Designer Help - Tenant - 7.4
25</p><p>How to use speech
Designer provides blocks that you can use to create speech-enabled Interactive Voice Response (IVR) scripts, if
this feature has been enabled for your contact center. See external media in the CCSP Tenant Administrator Guide.
These blocks support:
l
Text-to-Speech (TTS) — an application that synthesizes a spoken sound version of text.
l
Automatic Speech Recognition (ASR) — a technology that enables users of IVR systems to speak entries
instead of entering information through DTMF.
The speech-enabling blocks are:
l
Set Language
l
Speech Play and Collect
l
Speech Enabled Menu
l
Define Grammar
l
Play text
Note
Your system administrator should tell you which languages are available for speech enabled scripts.
To use ASR, you must first develope a grammar. A grammar specifies the words and patterns of words to be
listened for by a speech recognizer. CCSP speech servers are provided by third parties, so ask your system
administrator to provide the information for creating a grammar.
You develop speech-enabled scripts in the same way as other scripts. Use the blocks listed above and the other
blocks in the Script blocks panel to create your scripts. Test your speech-enabled scripts using both DTMF and
speech interactions.
CCSP Designer Help - Tenant - 7.4
26</p><p>How to use video
Note
IVVR scripts only affect calls that have a voice component.
Designer provides blocks that you can use to process video calls for Interactive Voice and Video Response
(IVVR).
These blocks are:
l
Play Video
l
Stop Video
Naming format for video files
File names for video files used in the Play Video block must have the extension .avi.
File name formats for file storage are in one of two forms:
l
CIF — &lt;filename&gt;cif&lt;bitrate&gt;_Kbps&lt;framerate&gt;_fps.avi
For example, greeting_cif_256Kbps_30fps.avi
l
QCIF — &lt;filename&gt;_qcif&lt;bitrate&gt;_Kbps&lt;framerate&gt;_fps.avi
File names used with the Play Video block are in the format &lt;filename&gt;.avi. In the CIF example, the file name
used in the Video File property is greeting.avi.
CCSP Designer Help - Tenant - 7.4
27</p><p>How to record calls
The Recorder block determines how calls are recorded.
Note
Email callback requests are not recorded.
You can control whether calls are recorded when they are transferred from an agent to an external number or
conferenced with an external number.
Two flags control the behavior of recordings when the call is transferred to or conferenced with an external
number. These flags and values are:
l
RecordTransfer
o
True — call recording continues on transfer (default)
o
False — call recording stops on transfer
l
RecordConference
o
True — call recording continues on conference (default)
o
False — call recording stops on conference
To set the flags to True or False, in a Run block in the OutgoingCall script, call one of the following functions:
l
setTransferRecordingEx(RecordTransfer [Boolean],RecordConference [Boolean]) — sets each
flag individually.
l
setTransferRecording([Boolean]) — sets both flags to the same setting. This function is maintained
for backward compatibility.
For example:
l
If you call setTransferRecordingEx(false,true) from a Run block in the OutgoingCall script, only
conferenced calls are recorded.
l
If you call setTransferRecording(false) from a Run block in the OutgoingCall script, transferred and
conferenced calls are not recorded.
To confirm that recording has stopped, view the number of files in Replay.
CCSP Designer Help - Tenant - 7.4
28</p><p>How to use variables and constants
How to use variables
Caution
A variable must be either a built-in system variable or a user-defined variable previously created using the
Assign block. If you specify a variable that does not exist, the variable is ignored and evaluates to an
empty string in the results.
Variables may be used, instead of or in conjunction with literal strings, in all properties of the Designer blocks.
To indicate a variable name, enclose the name within dollar signs ($). For example, if you have a variable called
GreetingFName that holds the name of the greeting announcement, you could use it by setting the Play Audio
block's Value property to:
$GreetingFName$
You can use literals and variables together in the same Designer property. The interpreter expands all of the
variables specified and concatenates them together with the literals before executing the block. For example, if
you have two variables called FName and LName that hold the first and last names of the caller and you want
to use them in the Subject property of the Send Email block, set the Subject property to:
Voicemail call from $FName$  $LName$
Any embedded spaces or quotes (") are included in the resulting string. So, in the above example, if FName
contained the string "John" and LName contained the string "Doe", the resulting string is "Voicemail call
from John Doe".
To include a literal dollar sign ($) in a string, precede the dollar sign with another dollar sign. For example, if
you want to assign a variable a string that contains a dollar sign and you have a variable called Cost that
contains the string "4.00", specify it like this:
The cost for that is $$$Cost
The resulting string is "The cost for that is $4.00".
Note
Be careful when using variables in the Expression property of the Condition block. The way that the
interpreter expands variables into an intermediate string before using them can cause the interpreter to
incorrectly evaluate an expression. This is the only property in Designer in which you must use quotes (") to
denote a string. Furthermore, if a variable is to be evaluated as a string, enclose the variable in quotes.
Examples
If you have a variable called CallerEntry and you want to check if it is equal to the number 1234, the expression
property is:
$CallerEntry$ = 1234
The resulting string is '1234 = 1234'.
If you have the same situation as above, but you want to check if CallerEntry is equal to the string "1234", then
the expression property is:
CCSP Designer Help - Tenant - 7.4
29</p><p>"$CallerEntry$" = "1234"
The resulting string is '"1234" = "1234"'. Both the variable and the literal 1234 are enclosed in quotes. Using
quotes forces both sides of the equation to be the same data type, which is string.
If you have two variables called FName and LName and you wanted to check to see if the caller's name is
equal string "John Doe", the expression is:
"$FName$ $LName$" = "John Doe"
The resulting string is '"John Doe" = "John Doe"'. The entire left-hand side of the expression is enclosed
in quotes, not each variable. If you specified the expression as, "$FName$" "$LName$" = "John Doe", the
resulting string would be '"John" "Doe" = "John Doe"' and an error would occur in the evaluation of that
expression.
How to use the $empty$ constant
For the CallPreSent script, you can use the $empty$ constant in the Edit Email block to set a property to empty.
For example, in the Edit Email block, if you put $empty$ in the CC field, any value previously there is removed
and it is set to an empty value.
CCSP Designer Help - Tenant - 7.4
30</p><p>Log out
Note
If you are using an external identity provider such as ADFS or EIS, when you click Log out of your CCSP
session, you are also logged out of your external identity provider.
1.
At the top right of the main Designer page, click Logout.
2.
Do one of the following:
o
If you want to return to Designer, click Return to Login page.
o
If you have finished working with CCSP, click Log out of your CCSP session.
Additional logout messages
When you click Log out of your CCSP session, the following message may appear:
l
Logout was not completed successfully due to the Authentication Server being unavailable. Please contact your
system administrator.
1.
Tell your system administrator about the issue and wait for it to be resolved.
2.
When it is resolved, click OK to close the message dialog.
3.
Click Log out of your CCSP session again.
The application will return to the login page. Depending on the problem resolution, this may take slightly
longer than normal.
Session expiry
Your CCSP application session will become invalid when:
l
The login session time exceeds the maximum CCSP login session lifetime specified by your administrator.
l
You log out of your CCSP session using another application.
l
You clear all cookies in the browser.
When your CCSP application session becomes invalid, you must log in again. See Log in.
If you are logged in with an external identity provider (ADFS or EIS) and that provider’s login session lifetime
exceeds the CCSP login session lifetime, you only have to enter your username on the Auth Server Login
Selector page. You will then automatically be authenticated against your external identity provider.
CCSP Designer Help - Tenant - 7.4
31</p><p>3: Workspaces
This section contains the following topics:
l
Workspace editor overview
l
Manage workspace templates
l
Open a workspace
l
Import a workspace
l
Manage workspaces
l
Publish workspaces
l
Manage tables
l
Manage workspace files
l
Manage version history
See also Get started page
Workspace editor overview
A — Workspace tab bar
B — Script tabs panel
C — Script blocks panel
D— Flow editor
E — Properties panel
CCSP Designer Help - Tenant - 7.4
32</p><p>Workspace tab bar
The workspace tab bar contains a tab for each opened workspace and snapshot.
To open a new workspace click
. The New workspace tab displays the most recent workspace list and the
buttons to create, open, or import a workspace that appear on the Get started page. For details, see Get
started.
To open a snapshot of the open workspace, see Manage version history.
To close a workspace or snapshot tab, click the X on the tab. If the New workspace tab is the last tab left open,
you cannot close it because the Workspace editor must have at least one tab.
CCSP Designer Help - Tenant - 7.4
33</p><p>Workspace tabs
To save the currently selected workspace, click Save.
Workspace menu
Use the workspace menu
as follows:
l
Rename — to rename the currently selected workspace. See Rename a workspace.
l
Save as — to save a copy of the currently selected workspace under a new name. The new workspace will be
loaded in place of the current workspace. See Save a workspace with a new name.
l
Save as Platform Template (landlord only) — to save the currently selected workspace as type Custom-
platform. See Save a workspace as a Platform Template.
l
Save as Tenant Template — to save the currently selected workspace as type Custom-tenant. See Save a
workspace as a Tenant Template.
l
Publish — to publish the currently selected workspace. See Publish a workspace.
l
Delete — to delete the currently selected workspace. See Delete a workspace.
l
Reload Last Published — to reload the currently selected workspace from the last published location. See
Reload last published workspace.
Snapshot tabs
Each opened snapshot appears in its own tab, with the version number of the workspace in brackets and a lock
icon. You cannot change the scripts, tables, or files in a snapshot. The script menu does not appear in the
editor.
To revert the owning workspace of a snapshot to the snapshot's data, click Revert workspace to this
snapshot. See Revert a workspace to a snapshot.
CCSP Designer Help - Tenant - 7.4
34</p><p>Script tabs panel
The Scripts tabs panel contains buttons for all the available scripts in the selected workspace, each of which
corresponds to an event within the CCSP system. See Flowchart of events and Predefined events.
You can add buttons for scripts or for items not necessarily related to events, but that can be called from
scripts. See Add a new script.
To select a script to edit, click on the button with the script name. You can expand the Script tabs panel to see
all the available scripts by dragging the bar down. You can also use the scroll bar to see the scripts.
The script buttons are color-coded as follows:
l
— indicates a system script.
l
— indicates a system script that is currently selected.
l
— indicates a custom script added by a user.
l
— indicates a custom script that is currently selected.
When you edit a script, an asterisk appears beside its name and an asterisk appears beside the name of the
workspace in the Workspace tab bar.
When you save the script, both asterisks disappear.
Script menu
Note
The script menu only appears on workspace tabs. It is not available on snapshot tabs.
Use the script menu
as follows:
l
Add script — to add a new script. See Add a new script.
l
Add system script — to add a system script. See Add a system script.
l
Duplicate — to duplicate the currently selected script.
l
Save — to save the currently selected script.
l
Publish — to publish the currently selected script. See Publish a script.
l
Validate — to validate the currently selected script. See Validate a script.
l
Delete — to delete the currently selected script. The Delete option is disabled for system scripts.
CCSP Designer Help - Tenant - 7.4
35</p><p>Script blocks panel
The Script blocks panel contains all of the available script elements from which you construct scripts. For a
complete list of the blocks, their attributes, and uses, see Blocks.
You can view the blocks by:
l
Icons — the icons are arranged in the same order as the legacy Designer blocks palette. When you point to
a block, its name appears in a tooltip.
l
Names — the icons with their names are arranged in the same order as the legacy Designer blocks palette.
l
By name — the icons with their names are sorted alphabetically. This option is not available when viewing
only icons.
To see all the blocks, scroll the panel.
To search for a block, start typing in the search box located at the top of the panel. As soon as you begin typing,
only blocks that contain those characters appear.
When you open the workspace to a particular script, blocks that are invalid for that script are unavailable in the
Script blocks panel.
Custom blocks appear as icons with a question mark
. After importing custom blocks, you must reload the
current workspace to refresh the blocks grid and show the custom blocks at the top of the list.
To hide the Script blocks panel, click the left arrow. To reopen the Script blocks panel, click the right arrow.
Flow editor
Note
You cannot edit the flow on snapshot tabs.
The Flow editor is the area in which you lay out the script's call flow. You can scroll the Flow editor vertically and
horizontally. If you double-click on the Flow editor background, the mouse cursor goes into grab mode.
When you create a new script, it contains only a Start block. You cannot delete or rename a Start block.
To add a block to the Flow editor, drag it from the Script blocks panel to the Flow editor. As blocks are added to
the workspace, they are assigned unique names by appending unique numbers to the display name of the
block. For example, if you add a Play Audio block to a script that already has 315 blocks in the workspace, it will
appear as PlayAudio316.
You can change the name of any block through the Properties panel or by editing the label in the Flow editor.
Note
Block names must be unique within each script and must not exceed 256 characters in length.
CCSP Designer Help - Tenant - 7.4
36</p><p>To select a block, click it. A blue border appears around
it.
To select multiple blocks, click and drag a selection box
around them. Alternatively, use the Ctrl or Shift keys to
add individual blocks to your selection and to deselect
blocks.
To connect two blocks, hover the mouse over the center
of the icon so the cursor changes to a cross hair. Click
and drag from the center of the first block to the
second. A directed line with an arrowhead appears
showing the connection and the direction of the call
flow.
To move blocks, hover the mouse over the icon so the
cursor changes to a move sign. Click the block and drag
it to the new location. If you select multiple blocks, they
move as a unit.
To copy blocks with their properties between scripts,
use the right-click shortcut menu.
Block shortcut menu
When you right-click a block, the shortcut menu for the block appears. All blocks have the following actions:
l
Copy
l
Duplicate
l
Delete
Some blocks have additional actions. For details about the individual blocks, see the Blocks section.
Flow editor shortcut menu
When you right-click the Flow editor background, the shortcut menu appears with the following actions:
l
Undo
l
Redo
l
Paste
The actions are individually disabled if there is currently nothing to undo, redo, or paste.
CCSP Designer Help - Tenant - 7.4
37</p><p>Toolbar
Use the toolbar icons as follows.
Icon
Description
Undo the last block action. For limitations, see below.
Redo the last block action. For limitations, see below.
Use straight connectors
Use elbow connectors
Zoom out script display
Zoom script display to fit
Zoom in script display
Selection mode
Editor drag mode
Undo or Redo will reverse or perform the following actions:
l
Block creation (including paste of copied blocks)
l
Block deletion
l
Block move
l
Block rename
l
Block property change
l
Connection creation
l
Connection deletion
CCSP Designer Help - Tenant - 7.4
38</p><p>Properties panel
The Properties panel shows you information about the currently selected workspace, script, or block and lets
you enter and modify information for it.
Note
You can use the Tab key to move between the fields on the Properties panel. Use Tab to move forward and
Shift + Tab to move backward.
To hide the Properties panel, click the right arrow. To view the Properties panel, click the left arrow.
To undock the properties, click
. To dock the properties to the right side again, click
or
.
Note
The Undo action will reverse changes to a block property but it will not reverse changes to a workspace or
script property.
Workspace properties
To see the properties of a workspace, click its tab in the Workspace tab bar. The properties are:
l
Workspace ID — new unsaved workspaces have a negative ID.
l
Name — the name of the workspace.
l
Description — the description of the workspace. This information can be changed in the workspace editor.
l
Version — the version number of the workspace. This number is incremented each time you save the
workspace or an individual script.
l
Designer version — the version of Designer that the workspace was saved in.
l
Last modified time — this is currently the UTC time at which the workspace was last saved in the database.
The time is updated when you save the whole workspace or an individual script.
l
Last modified by — the name of the person who last saved the workspace.
l
Last publish time — this is currently the UTC time at which the workspace was last published in the
tenant’s IVR root path, configured in Admin. The time is updated when you publish the whole workspace but
not when you publish an individual script, table, or workspace file.
l
Last publish destination — the name of the folder within the tenant's IVR root path in which the XML files
were last saved.
Snapshot properties
To see the properties of a snapshot, click its tab in the Workspace tab bar. The properties are:
l
Workspace ID
l
Workspace snapshot ID
l
Workspace snapshot version — the version number of this snapshot.
l
Workspace snapshot description — the description of this snapshot. This information can be edited on the
Version History page. See Edit a snapshot's description.
CCSP Designer Help - Tenant - 7.4
39</p><p>l
Name — the name of the workspace.
l
Description — the description of the workspace.
l
Version — the version number of the workspace.
l
Designer version — the version of Designer that the workspace was saved in.
l
Last modified time — this is currently the UTC time at which the workspace was saved for this snapshot.
l
Last modified by — the name of the person who saved the workspace at this point.
l
Last publish time — this is currently the UTC time at which this version of the workspace was published in
the tenant’s IVR root path, configured in Admin.
l
Last publish destination — the name of the folder within the tenant's IVR root path in which the XML files
for this version of the workspace were last saved.
Script properties
To see the properties of a script, click its tab in the Script tabs panel or click on the background of the Flow
editor. The properties are:
l
Script ID — new unsaved scripts have a negative ID.
l
Name
l
Description — this information can be edited.
l
Designer version — the version of Designer that the script was saved in.
l
Script version — the version of the script. This number is incremented each time you save the workspace or
an individual script.
l
Last modified time — the time is updated when you save the whole workspace or the individual script.
l
Last modified by
l
Last publish time — the time is updated when you publish the whole workspace or an individual script.
l
Published filename — the name of the xml file.
Block properties
To see the properties of a block, click the block in the Flow editor. Note that if you select multiple blocks in the
Flow editor, the Properties panel is blank.
In the Comments property, you can enter a description of how the block is used in your script.
For details about the properties of the individual blocks, see the Blocks section.
CCSP Designer Help - Tenant - 7.4
40</p><p>Manage workspace templates
Select a template
Delete a custom-tenant template
Note
The system templates show only the scripts that are appropriate for the media type selected. For example,
the Default Chat template only shows 5 scripts as these are the only ones applicable to the Chat media
type.
1.
On the navigation pane, click
Workspace Templates. The Workspace templates list appears. For
navigation information, see List view.
2.
To see the custom templates at the top of the list, click the Type column heading.
The columns are:
o
Name
o
Description
o
Type — system, custom-platform, or custom-tenant.
o
Last modified time — this is currently the UTC time at which the workspace template was saved in
the database.
o
Last modified by
CCSP Designer Help - Tenant - 7.4
41</p><p>Select a template
To select a template, click on the row.
The Workspace editor opens with a new workspace based on the chosen template. The default workspace
name is Untitled-1. Any further new templates created in the session are named Untitled-2, Untitled-3, and so
on.
Delete a custom-tenant template
1.
In the Workspace templates list, select the check box in front of the custom-tenant template to delete.
2.
Click
.
3.
Confirm the deletion.
CCSP Designer Help - Tenant - 7.4
42</p><p>Open a workspace
Note
l
You can open a recently used workspace directly from the Get started page.
l
You can also open the Workspaces page by clicking Open workspace on the Get started page.
1.
On the navigation pane, click
Workspaces. The Workspaces list appears, with the workspaces
available in the database for the selected tenant. For navigation information, see List view.
The columns are:
o
Name — the name of the workspace.
o
Description — the description of the workspace. This information can be changed in the workspace
editor.
o
Last modified time — this is currently the UTC time at which the workspace was last saved in the
database. The time is updated when you save the whole workspace or an individual script.
o
Last modified by — the name of the person who last saved the workspace.
o
Last publish time — this is currently the UTC time at which the workspace was last published in the
tenant’s IVR root path, configured in CCSP Admin. The time is updated when you publish the whole
workspace but not when you publish an individual script, table, or workspace file.
o
Last publish destination — the name of the folder within the tenant's IVR root path in which the XML
files were last saved.
2.
To resort the workspaces list, click a column heading. Each time you sort by a column heading, you update
the list of workspaces.
3.
Do one of the following:
o
Click the workspace to load. Next see Workspace editor overview.
o
Hover your mouse over the workspace and click
Version history. See Manage version history.
CCSP Designer Help - Tenant - 7.4
43</p><p>Import a workspace
Note
l
Import of a workspace should only be done as part of the process of migrating a tenant from the legacy
to the new Designer.
l
Two workspaces cannot exist for the same tenant with the same name. If you try to import a workspace
that you have already imported, you are prompted for a new name for the workspace.
l
Before importing a workspace, you must remove any backup copies of scripts and empty script files
from the workspace folder. Script files that share the same Display element name cause the import to
fail with a Duplicated script name error if the workspace.xml file uses this name for a script.
l
After importing a workspace with existing VOIP scripts, you must manually add the Post Call script, if
required. See Post Call script.
Caution
Workspace files in the publish location are not automatically imported. You must manually import them.
1.
On the navigation pane, click
Tenant Home or in the Workspace editor, click
. The Get started
page appears.
2.
Click Import workspace.
3.
In the Import Workspace dialog, click Browse.
4.
Select the file system folder to upload and click Upload.
5.
Confirm that you want to upload all the files to the site.
6.
In the Import Workspace dialog, click Import.
CCSP Designer Help - Tenant - 7.4
44</p><p>7.
If the import fails, click See details on the Error Page. See Errors page.
CCSP Designer Help - Tenant - 7.4
45</p><p>Manage workspaces
Save a copy of the workspace
Save a workspace as a tenant template
See Publish workspaces.
Revert a workspace.
Reload the last published workspace
Delete a workspace
Note
If two users, A and B are editing the same workspace, whoever saves the workspace first prevents the
other user from saving their changes under the same name.
For example: user A edits and saves the IVR script and then user B attempts to save their copy of the IVR
script with their changes. In this case, user B receives an error that the workspace has been modified by
someone else. User B then has to use the Save as option to save a copy of the workspace. They can then
load the original version again and reconcile their changes with the person who made the updates.
Save a copy of the workspace
1.
In the Workspace editor, in the workspace tab bar, select the workspace to duplicate.
2.
Click
and then click Save As. The Save As dialog appears.
3.
Enter the duplicate workspace name.
4.
Click OK.
5.
The message Workspace successfully saved appears. Click OK.
The duplicated workspace is loaded in place of the current workspace.
CCSP Designer Help - Tenant - 7.4
46</p><p>Save a workspace as a tenant template
1.
In the Workspace editor, in the workspace tab bar, select the workspace to save as a tenant template.
2.
Click
and then click Save As Tenant Template. The Save As Tenant Template dialog appears.
3.
Enter the new template name.
4.
Click OK.
5.
The message Workspace template successfully saved appears. Click OK.
The new template of type Custom-tenant appears in the Workspace templates list.
CCSP Designer Help - Tenant - 7.4
47</p><p>Revert a workspace
You can revert a workspace to a previous version (snapshot).
1.
In the Workspace editor, in the workspace tab bar, select the snapshot to revert to. See Open a snapshot.
2.
Click Revert workspace to this snapshot. A warning that this action will overwrite the workspace's current
data appears.
3.
Click OK.
4.
The message The workspace has been successfully reverted to snapshot version [number] appears. Click OK.
CCSP Designer Help - Tenant - 7.4
48</p><p>Reload the last published workspace
Note
l
You can reload (import) the last published version of the current workspace from the network. The
imported version overwrites the current data in the workspace.
l
To avoid losing any unpublished changes in the workspace, you can backup this version before
importing the workspace from the network.
l
If the reload fails, click See details on the Error Page. See Errors page.
Caution
Workspace files are not automatically imported when you reload the last published version of the current
workspace from the network. You must manually import them.
1.
In the Workspace editor, in the workspace tab bar, select the workspace to reload.
2.
Click
and then click Reload Last Published. The Reload Last Published dialog appears.
3.
Do one of the following:
a.
To reload the current workspace from the network, click Reload.
b.
To save a backup version of the current data in the workspace before reloading the workspace from
the network, click Reload with backup.
CCSP Designer Help - Tenant - 7.4
49</p><p>4.
The message Workspace successfully reloaded appears. Click OK.
5.
If you clicked Reload with backup, you can go to the Version History page to view the new backup version
of the workspace.
Delete a workspace
Note
When you delete a workspace, only the database is updated. Any published files remain.
1.
In the Workspace editor, in the workspace tab bar, select the workspace to delete.
2.
Click
and then click Delete.
3.
Confirm the deletion.
You can also delete a workspace from the Workspaces list.
1.
On the navigation pane, click
Workspaces.
2.
In the Workspaces list, select the check box in front of the workspace to delete.
3.
Click
.
4.
Confirm the deletion.
CCSP Designer Help - Tenant - 7.4
50</p><p>Publish workspaces
Location to publish to
Workspace versions
Publish a workspace
Location to publish to
Designer publishes workspaces to a predefined location for the tenant. This location is defined by the IVR root
path that is configured for the tenant in CCSP Admin.
The IVR root path must be a valid network or local filesystem location that is accessible to the user under which
the Designer App Pool runs. The IVR root path must be unique for each tenant but multiple tenant folders can
use the same parent folder. For example, tenants T1, T2 and T3 can have IVR root paths defined as below:
\\CCSP1\TenantIVRs\Published\T1
\\CCSP1\TenantIVRs\Published\T2
\\CCSP1\TenantIVRs\Published\T3
When Designer publishes workspaces, scripts and tables, if the leaf folder does not exist, it is created with
permissions for landlord users and tenant administrator for that tenant. However, the parent folder must exist
prior to the publish operation being attempted, otherwise the publish will fail. So in the above examples,
\\CCSP1\TenantIVRs\Published must exist beforehand.
Note
Workspaces and scripts are always published from the database. If you are editing a script and select either
the workspace or script Publish option, the current script or workspace is saved before publish. If the
workspace is new and unsaved, you are prompted to provide a name before saving.
Workspace versions
Designer automatically creates a version (snapshot) of each published/republished workspace. The whole
workspace (including scripts, tables, and files) is saved in the database and presented on the Version History
page. See Manage version history.
Designer stores a maximum of 10 versions in the database and then replaces the oldest existing version with
the new one.
Publishing an individual script, table, or file does not create a backup version of it. You must publish a whole
workspace to create a backup version of its scripts, tables, and files.
CCSP Designer Help - Tenant - 7.4
51</p><p>Publish a workspace
1.
In the Workspace editor, in the workspace tab bar, select the workspace to publish.
2.
Click
and then click Publish. The Publish Workspace [name] dialog appears.
3.
Enter the Location to publish to.
4.
Enter a Description for this version of the workspace.
5.
Click Publish.
6.
The message Workspace successfully published appears. Click OK.
CCSP Designer Help - Tenant - 7.4
52</p><p>Manage tables
Upload a new table
Upload an updated table
Download a table
Publish a table
Rename a table
Delete a table
Note
l
The
Tables icon is only visible in the navigation pane after you open a workspace. You manage the
tables for that workspace on the Tables page.
l
To change a table's contents, you must download it from the database as a text file, edit the text file, and
then upload it to the database again. You then need to republish it.
l
You select these tables in the Table Name property of a Table or Table Lookup block.
l
When going to the Tables page from a snapshot tab, the Tables page is locked and the only available
action is Download.
1.
Open the workspace that contains the tables. See Open a workspace.
2.
On the navigation pane, click
Tables. The Tables for [workspace] list appears. For navigation
information, see List view.
3.
To see the action buttons for a particular table, hover your mouse over that row.
CCSP Designer Help - Tenant - 7.4
53</p><p>The columns are:
o
Name
o
Source file
o
Version — the version of the source file.
o
Rows
o
Last modified time — this is currently the UTC time at which the table was saved in the database.
o
Last modified by
o
Last publish time — this is currently the UTC time at which the table was published in the tenant’s
IVR root path, configured in CCSP Admin.
Upload a new table
Note
l
The table file you upload to the database can be an .xml file or a tab-delimited text file.
l
Do not give columns in your tables names with embedded blanks, for example, "Phone number".
Column names must start with an alphabetic character. Subsequent characters in a column name must
contain alpha/or numeric characters.
l
If you need to leave a table cell empty, enter a non-printing alphanumeric character, for example, a
space, in the cell. Empty cells may cause the table to be corrupted.
1.
On the Tables page, click
Add. The Upload Table dialog appears.
2.
Click Browse and select the text file to upload.
3.
Enter the table name.
4.
Click Upload.
5.
The message Table successfully uploaded appears. Click OK.
CCSP Designer Help - Tenant - 7.4
54</p><p>Upload an updated table
1.
In the Tables list, hover your mouse over the table to upload and click
Upload.
2.
Click Browse and select the text file to upload.
3.
You cannot change the table name.
4.
Click Upload.
5.
The message Table successfully uploaded appears. Click OK.
Download a table
1.
In the Tables list, hover your mouse over the table to download and click
Download. The Download
Table [name] dialog appears.
2.
Select whether to download the file as a tab-delimited text file or an .xml file.
3.
Click Download. The text file appears in your Downloads folder.
CCSP Designer Help - Tenant - 7.4
55</p><p>Publish a table
Note
l
If an error message appears saying that the IVR root path cannot be found, or CCSP Admin cannot be
contacted, click
Publish again. If there is still a problem, see the configuration information in Publish
a workspace.
l
Publishing an individual table does not create a backup version of it. You must publish a whole
workspace to create a backup version of its scripts, tables, and files. For more information, see Publish a
workspace.
1.
In the Tables list, hover your mouse over the table to publish and click
Publish. The Publish [name]
Table dialog appears.
2.
Enter the Location to publish to. You can use the default workspace location or change the name to
publish to a different workspace folder.
3.
Click Publish.
4.
The message Table successfully published appears. Click OK.
CCSP Designer Help - Tenant - 7.4
56</p><p>Rename a table
1.
In the Tables list, hover your mouse over the table to rename and click
Rename. The Rename [name]
? dialog appears.
2.
Enter the new name.
3.
Click Rename.
Delete a table
1.
In the Tables list, select the check box in front of the table to delete.
2.
Click
Delete.
3.
Confirm the deletion.
CCSP Designer Help - Tenant - 7.4
57</p><p>Manage workspace files
Upload a new file
Upload an updated file
Download a file
Publish a file
Rename a file
Delete a file
Note
l
The
Workspace Files icon is only visible in the navigation pane after you open a workspace. You
manage the files for that workspace on the Workspace Files page.
l
You can upload .xml, .txt, and .wav files to the workspace.
l
You select these files in your workflow blocks.
l
Table .xml or .txt files must be uploaded on the Tables page. See Manage tables.
l
When going to the Workspace Files page from a snapshot tab, the Workspace Files page is locked and
the only available action is Download.
1.
Open the workspace that contains the files. See Open a workspace.
2.
On the navigation pane, click
Workspace Files. The Workspace Files list appears. For navigation
information, see List view.
CCSP Designer Help - Tenant - 7.4
58</p><p>The columns are:
o
Name
o
Source file
o
Size
o
Last modified time — this is currently the UTC time at which the file was saved in the database.
o
Last modified by
o
Last publish time — this is currently the UTC time at which the file was published in the tenant’s IVR
root path, configured in CCSP Admin.
Upload a new file
1.
On the Workspace Files page, click
Add. The Upload Workspace File dialog appears.
2.
Click Browse and select the file to upload.
3.
Enter the workspace file name.
4.
Click Upload.
5.
The message Workspace file successfully uploaded appears. Click OK.
CCSP Designer Help - Tenant - 7.4
59</p><p>Upload an updated file
1.
In the Workspace Files list, hover your mouse over the file to upload and click
Upload.
2.
Click Browse and select the text file to upload.
3.
You cannot change the workspace file name.
4.
Click Upload.
5.
The message Workspace file successfully uploaded appears. Click OK.
Download a file
1.
In the Workspace Files list, hover your mouse over the file to download and click
Download. The
Download Workspace File [name] dialog appears.
2.
Click Download. The workspace file appears in your Downloads folder.
CCSP Designer Help - Tenant - 7.4
60</p><p>Publish a file
Note
l
If an error message appears saying that the IVR root path cannot be found, or CCSP Admin cannot be
contacted, click
Publish again. If there is still a problem, see the configuration information in Publish
a workspace.
l
Publishing an individual file does not create a backup version of it. You must publish a whole workspace
to create a backup version of its scripts, tables, and files. For more information, see Publish a workspace.
1.
In the Workspace Files list, hover your mouse over the file to publish and click
Publish. The Publish
Workspace Files dialog appears.
2.
Enter the Location to publish to. You can use the default workspace location or change the name to
publish to a different workspace folder.
3.
Click Publish.
4.
The message Workspace file successfully published appears. Click OK.
CCSP Designer Help - Tenant - 7.4
61</p><p>Rename a file
1.
In the Workspace Files list, hover your mouse over the file to rename and click
Rename. The Rename
[name] ? dialog appears.
2.
Enter the new name.
3.
Click Rename.
Delete a file
1.
In the Workspace Files list, select the check box in front of the workspace file to delete.
2.
Click
Delete.
3.
Confirm the deletion.
CCSP Designer Help - Tenant - 7.4
62</p><p>Manage version history
Open a snapshot
Edit a version's description
Republish a version
Note
l
Designer automatically creates versions (snapshots) of each published/republished workspace. Designer
stores a maximum of 10 versions in the database and then replaces the oldest existing version with the
new one.
l
Publishing an individual script, table, or file does not create a backup version of it. You must publish a
whole workspace to create a backup version of its scripts, tables, and files.
l
The
Version History icon is only visible in the navigation pane after you open a workspace. You
manage the versions for that workspace on the Version History page. If the workspace has not yet been
published, the Version History list is empty.
1.
Do one of the following:
o
On the navigation pane, click
Workspaces. In the Workspaces list, hover your mouse over the
owning workspace and click
Version history. See Open a workspace.
o
In the Workspace editor, in the workspace tab bar, select the owning workspace tab or snapshot tab. On
the navigation pane, click
Version History.
The Version History list appears.
2.
To see the action buttons for a particular version, hover your mouse over that row.
CCSP Designer Help - Tenant - 7.4
63</p><p>The columns are:
o
Version — the version number of this snapshot.
o
Description — the description of this snapshot.
o
Last modified time — this is currently the UTC time at which the workspace was saved for this
snapshot.
o
Last modified by — the name of the person who saved the workspace at this point.
o
Last publish time — this is currently the UTC time at which this version of the workspace was
published in the tenant’s IVR root path, configured in CCSP Admin.
o
Last published by — the name of the person who published the workspace and created this
snapshot.
o
Last publish destination — the name of the folder within the tenant's IVR root path in which the XML
files for this version of the workspace were last saved.
3.
To resort the list, click a column heading. Each time you sort by a column heading, you update the list of
versions.
Open a snapshot
1.
On the Version History page, hover your mouse over the version to open and click
Open snapshot.
2.
The snapshot opens in the Workspace editor, with the version number of the workspace in brackets and a
lock icon. See Snapshot tabs and Revert a workspace to a snapshot.
CCSP Designer Help - Tenant - 7.4
64</p><p>Edit a version's description
You can edit the description you gave a workspace version when you published it.
1.
On the Version History page, hover your mouse over the version to edit and click
Edit description.
The Edit Description dialog appears.
2.
Edit the version description.
3.
Click OK.
CCSP Designer Help - Tenant - 7.4
65</p><p>Republish a version
Note
l
Republishing a version overwrites the workspace's current data with the data of the selected version.
l
Designer automatically creates a new version (snapshot) of the republished workspace.
1.
On the Version History page, hover your mouse over the version to republish and click
Republish. A
warning that this action will revert workspace [parent name] to snapshot version [number] and overwrite the
workspace's current data, prior to republishing appears.
2.
Click Yes. The Publish Workspace [name] dialog appears.
CCSP Designer Help - Tenant - 7.4
66</p><p>3.
Enter the Location to publish to.
4.
Enter a Description for the republished version of the workspace.
5.
Click Publish.
6.
The message Workspace successfully published appears. Click OK.
CCSP Designer Help - Tenant - 7.4
67</p><p>4: Scripts
This section contains the following topics and subsection:
l
Manage scripts
l
How to iterate through scripts
l
Example scripts
See also:
l
Script tabs panel in the Workspace editor overview.
l
Block availability per CallXML script
Manage scripts
Add a new script
Add a system script
Duplicate a script
Rename a custom script
Save a script
Publish a script
Validate a script
Delete a custom script
Note
l
The
Scripts icon is only visible in the navigation pane after you open a workspace. You view the
scripts for that workspace on the Scripts page.
l
You manage scripts through the Workspace editor.
l
Script names cannot contain the following characters: \ /:*?"&lt;&gt;|
1.
Open the workspace that contains the scripts. See Open a workspace.
2.
On the navigation pane, click
Scripts. The Scripts for [workspace] list appears. For navigation
information, see List view.
CCSP Designer Help - Tenant - 7.4
68</p><p>The columns are:
o
Name
o
Published filename
o
Version — the version of the script.
o
Last modified time — this is currently the UTC time at which the script was saved in the database.
o
Last modified by
o
Last publish time — this is currently the UTC time at which the script was published in the tenant’s
IVR root path, configured in CCSP Admin.
CCSP Designer Help - Tenant - 7.4
69</p><p>Add a new script
1.
In the Workspace editor, click
and then click Add Script. The Add New Script dialog appears.
2.
Enter the script name. You cannot use the name of a system script.
3.
Click OK.
The script is added to the workspace and selected.
Add a system script
1.
In the Workspace editor, click
and then click Add System Script. The Add System Script dialog
appears.
2.
Select the script.
3.
Click OK.
The script is added to the workspace and selected.
CCSP Designer Help - Tenant - 7.4
70</p><p>Duplicate a script
1.
In the Workspace editor, in the Script tabs, select the script to duplicate.
2.
Click
and then click Duplicate. The Duplicate dialog appears.
3.
Enter the duplicate script name.
4.
Click OK
The duplicate script is added to the workspace and selected.
Rename a custom script
You can rename only custom scripts.
1.
In the Workspace editor, in the Scripts list, select the script to rename.
2.
Click
and then click Rename. The Rename [name]? dialog appears.
3.
Enter the new script name.
4.
Click Rename.
The renamed script is added to the workspace and selected.
CCSP Designer Help - Tenant - 7.4
71</p><p>Save a script
When you edit a script, an asterisk appears beside its name and an asterisk appears beside the name of the
workspace in the Workspace tab bar. When you save the script, both asterisks disappear.
1.
In the Workspace editor, in the Script tabs panel, select the script to save.
2.
Click
and then click Save.
3.
The message Script successfully saved appears. Click OK.
Publish a script
Note
l
If an error message appears saying that the IVR root path cannot be found, or CCSP Admin cannot be
contacted, click Publish again. If there is still a problem, see the configuration information in Publish a
workspace.
l
Publishing an individual script does not create a backup version of it. You must publish a whole
workspace to create a backup version of its scripts, tables, and files. For more information, see Publish a
workspace.
1.
In the Workspace editor, in the Script tabs panel, select the script to publish.
2.
Click
and then click Publish. The Publish [name] script dialog appears.
3.
Enter the Location to publish to. You can use the default workspace location or change the name to
publish to a different workspace folder.
4.
Click Publish.
5.
The message Script successfully published appears. Click OK.
CCSP Designer Help - Tenant - 7.4
72</p><p>Validate a script
Designer provides script validation to check that each individual call event script contains only Designer blocks
that are valid for that particular call event. Script validation is performed automatically when you click Save.
1.
In the Workspace editor, in the Script tabs panel, select the script to validate.
2.
Click
and then click Validate.
3.
If the script is valid, the message Script is valid appears.
4.
If the script is not valid, the message Script is not valid appears. Click Details to view more information on
the Errors page.
5.
Click OK.
Delete a custom script
You can delete only custom scripts.
1.
In the Workspace editor, in the Script tabs panel, select the script to delete.
2.
Click
and then click Delete.
3.
Confirm the deletion.
CCSP Designer Help - Tenant - 7.4
73</p><p>How to iterate through scripts
To iterate through a script to set or extract variable information, where the variable data are in the form
dataItem1, dataItem2, dataItem3, ..., dataItemnn, you need to use a workaround.
Part of the problem with iteration is that the $ token, which is used to extract variable information, can only
operate on a single parameter at one time, whereas the desired information would need to be nested in the
iteration loop, in the form $varName$counter$$. Hardcoding the variable name is not a viable solution for this
problem.
The following workaround takes advantage of the ReadDictionary function of XML.
In this example, data was obtained from a web server in the following format:
GetFrequentFlierInformation.Response.n:PersonName.n:LastActivity.1.n:ActivityText;value
=IBOO
GetFrequentFlierInformation.Response.n:PersonName.n:LastActivity.2.n:ActivityText;value
=AFR 1621 TLV C
GetFrequentFlierInformation.Response.n:PersonName.n:LastActivity.3.n:ActivityText;value
=AFR 007 JFK CDG C
GetFrequentFlierInformation.Response.n:PersonName.n:LastActivity.4.n:ActivityText;value
=AFR 006 CDG JFK C
GetFrequentFlierInformation.Response.n:PersonName.n:LastActivity.5.n:ActivityText;value
=AFR 1621 TLV CDG C
GetFrequentFlierInformation.Response.n:PersonName.n:LastActivity.n:ActivityText;value=J
HIUSDFR
For which the following code works:
For nCount = 1 to 6
               strN = $nCount$ &amp; "."
               If nCount==6 then strN = ""
                       LOG $ReadDictionary
("GetFrequentFlierInformation.Response.n:PersonName.n:LastActivity." &amp; ReadDictionary
("strN") &amp; "n:ActivityText")$
Next nCount
The following is an example of what could be used if you want to work with different bases:
BASE = "GetFrequentFlierInformation.Response.n:PersonName.n:LastActivity."
For nCount = 1 to 6
               strN = $nCount$ &amp; "."
               If nCount==6 then strN = ""
                       LOG $ReadDictionary(ReadDictionary("BASE") &amp; ReadDictionary
("strN") &amp; "n:ActivityText")$
Next nCount
CCSP Designer Help - Tenant - 7.4
74</p><p>Example scripts
In the example scripts:
l
The workspace file contains all of the information about the Designer workspace and its collection of XML
scripts.
l
The ..\wavefiles directory contains all of the recorded .wav files used in the scripts.
l
The DBLookup.asp script looks up a customer ID in a database.
This subsection contains the following example scripts:
l
Ivr script
l
Agentless Ivr script
l
Ivr Timeout script
l
Call Arrival script
l
Call Deferred script
l
Call Aged script
l
Call Rejected script
l
Call Answered script
l
Call Termination script
l
Call Pre Sent script
l
Post Call script
l
Elsbeth integration scripts
l
Music On Hold script
l
Music On Hold In Queue script
l
In Queue Timeout script
l
Pickup Timeout script
l
Leave Voicemail script
l
Retrieve Voicemail script
l
Voicemail processing prompts
l
Web services XML examples
CCSP Designer Help - Tenant - 7.4
75</p><p>Ivr script
This script is interpreted when the Incoming Call Event is fired for an incoming VCS call.
It executes as follows:
1.
Play a greeting announcement.
2.
Assign a queue depending on the DNIS of the inbound call.
3.
Offer a menu for the caller to select if they are a new or existing customer and sets the skill accordingly.
4.
If the caller is an existing customer, it prompts them to enter their customer ID, validating it against a
database.
Caution
Your IVR script should assign a queue for every voice call.
CCSP Designer Help - Tenant - 7.4
76</p><p>CCSP Designer Help - Tenant - 7.4
77</p><p>The blocks function as follows.
Block
Name
Description
Play Audio
Greeting
Plays the greeting announcement to the caller. It clears the
DTMF buffer prior to playing. It also allows the caller to
interrupt the announcement with any DTMF entry.
Switch
CheckDNIS
Checks the DNIS of the inbound caller to see if it is equal to
either 1234 or 5678 or neither, and selects the appropriate
path.
Queue Name
Sales
Sets the queue for the current call to Sales, if the DNIS is equal
to 1234.
Support
Sets the queue for the current call to Support, if the DNIS is
equal to 5678.
DefaultQueue
Sets the queue for the current call to DefaultQueue if the DNIS
is anything else.
Assign
InitCounter
Initializes a counter called Counter to be used in keeping track
of invalid entries made by the caller.
Play Audio
SkillsMenu
Plays the skills menu announcement. It allows the caller to
interrupt the announcement with any DTMF entry.
Get Digits
GetSelection
Waits for a one digit DTMF entry from the caller and saves the
entry in the variable called Selection. It waits up to 5 seconds
for this digit before timing out.
Switch
CheckSelection
Checks the selection entered by the caller and selects the
appropriate path.
Add Skill
ExistingCustomer
Adds the skill of ExistingCustomerSkill to the call if the caller
selects 1 from the Skills Menu.
NewCustomer
Adds the skill of NewCustomerSkill to the call if the caller
selects 2 from the Skills menu.
Condition
TooManyErrors
If the caller selects anything else from the Skills menu, then
this checks to see if they exceeded the maximum number of
allowable invalid entries, which is three (3).
Add Skill
DefaultSkill
This assigns the DefaultSkill to the call if too many errors were
made by the caller.
Assign
IncrementCounter
Increments the counter by one.
Play Audio
InvalidSelection
Plays the invalid selection announcement to the caller. It does
not allow the caller to interrupt this announcement.
CCSP Designer Help - Tenant - 7.4
78</p><p>Block
Name
Description
Clear Digits
ClearDigits
If the caller enters any DTMF digits while the Invalid Selection
announcement is being played, the caller would not be
interrupted, but the VCS would store those DTMF digits in its
buffer. So the buffer should be cleared out before continuing.
Not doing this causes confusion to the caller.
Assign
InitCounterAgain
If this is an existing customer, the system is now going to
prompt them to enter their customer ID. So initialize the
counter again.
Play Audio
EnterCustID
Plays an announcement instructing the caller to enter their
customer ID number.
Get Digits
GetCustID
Gets up to (4) four digits from the caller. Waiting for a
maximum of ten (10) seconds for all digits to be entered or a
maximum of three (3) seconds between digits. It stores the
resulting entry in the variable CustID.
Run
GetLenOfCustID
Gets the length of the CustID entry and stores it in a variable
called CustIDLen. It uses the VBScript function Len() to do this.
Condition
CheckLen
Checks to see if the number of digits entered by the caller is
equal to four.
GoTo
VerifyCustID
Runs the DBLookup.asp script that looks up the entered
Customer ID in the database to see if it is valid.
Condition
TooManyErrors2
If the customer ID is invalid, then this checks to see if they
exceeded the maximum number of allowable invalid entries,
which is three (3).
Assign
IncrCounterAgain
Increments the counter by one.
Play Audio
InvalidCustID
Plays the invalid customer ID announcement. It does not allow
the caller to interrupt this announcement.
Clear Digits
ClearDigits2
If the caller enters any DTMF digits while the Invalid Selection
announcement is being played, the caller would not be
interrupted, but the VCS would store those DTMF digits in its
buffer. So the buffer should be cleared out before continuing.
Not doing this causes confusion to the caller.
CCSP Designer Help - Tenant - 7.4
79</p><p>Agentless IVR script
This script determines the call outcome.
The blocks function as follows.
Block
Name
Description
Play Audio
PlayWelcome
Plays the greeting announcement to the caller. It clears the DTMF
buffer prior to playing. It also allows the caller to interrupt the
announcement with any DTMF entry.
CCSP Designer Help - Tenant - 7.4
80</p><p>Block
Name
Description
Menu
Menu
Caller hears a menu and is required to choose if he was satisfied
and the call can be terminated (Else case) or he wants to continue
to a CCSP agent (press 1).
Agentless
Campaign
Outcome
MoveToAgent
Routes the call to a CCSP agent, based on the existing routing
properties.
Terminate
Ends the call in IVR.
CCSP Designer Help - Tenant - 7.4
81</p><p>IVR Timeout script
This script is interpreted when the IVR Timeout Event is fired. It executes as follows:
1.
Play an announcement indicating that the time allotted for an IVR call has expired.
2.
Disconnect the caller.
The blocks function as follows.
Block
Name
Description
Play Audio
TooLongInIVR
Plays an announcement that explains that they have spent too
much time in IVR.
Play Audio
Goodbye
Plays the goodbye announcement.
Hangup
HangUp
Disconnects the caller.
CCSP Designer Help - Tenant - 7.4
82</p><p>Call processing scripts
This subsection contains the following scripts:
l
Call Arrival script
l
Call Deferred script
l
Call Aged script
l
Call Rejected script
l
Call Answered script
l
Call Termination script
l
Call Pre Sent script
l
Post Call script
CCSP Designer Help - Tenant - 7.4
83</p><p>Call Arrival script
This script is interpreted when the Call Arrival Event is fired.
It executes as follows: if the current call has not been assigned a queue and/or at least one skill, then assign the
DefaultQueue and/or DefaultSkill to it.
The blocks function as follows.
Block
Name
Description
Optional Para-
ResetVMFile
Resets the optional parameter called VMFile. This parameter is
CCSP Designer Help - Tenant - 7.4
84</p><p>Block
Name
Description
meters
used to store the name of the voicemail file when it is recorded.
The call termination script uses this optional parameter to
determine if the caller has recorded a voicemail.
Condition
CheckForQueue
Checks to see if a queue has been set for this call.
Queue Name
DefaultQueue
If no queue has been set yet, then set it to DefaultQueue.
Condition
CheckForSkills
Checks to see if a skill has been added to this call.
Add Skill
DefaultSkill
If no skill has been added yet, then add the DefaultSkill.
CCSP Designer Help - Tenant - 7.4
85</p><p>Call Deferred script
This script can only be run on email or voicemail messages.
This script is run while the agent is in call and before the completion of call termination. It defers the message.
The blocks in the above example function as follows.
Block
Name
Description
Condition
AgedRefCount&gt;5
Check if Ageing RefCount is bigger than 5. To check, set
Expression = $EmailCall.AgeingInfo.AgedRefCount$  &gt; 5
Each time the item is aged, the ref count increases by one.
Assign
DisallowDefer
If true, don't allow this item to be deferred again. To disallow
defer, set $EmailCall.AgeingInfo.IsDeferAvailable$=False
Terminate
AbortDeferOption
If disallow defer, abort the defer operation and requeue the
call. To requeue, set Terminate = No.
ContinueToDefer
If false, put this item into the deferred folder. To continue to
defer, set Terminate = Yes.
CCSP Designer Help - Tenant - 7.4
86</p><p>Call Aged script
This script can only be run on email or voicemail messages.
It is called when an email or voicemail has been in the deferred folder for longer than the configured Ageing
Timeout Interval. Ageing starts from when the agent defers the call, not from call arrival.
By default, an agent cannot defer a call after it has aged once. You can use this script to override the default as
follows.
The blocks in the above example function as follows.
Block
Name
Description
Condition
AgedRefCount&gt;5
Check if Ageing RefCount is bigger than 5. To check, set
Expression = $EmailCall.AgeingInfo.AgedRefCount$  &gt; 5
Each time the item is aged, the ref count increases by one.
Assign
DisallowDefer
If true, don't allow this item to be deferred again. To disallow
defer, set $EmailCall.AgeingInfo.IsDeferAvailable$=False
CCSP Designer Help - Tenant - 7.4
87</p><p>Block
Name
Description
AllowDefer
If false, allow this item to be deferred again. To allow defer, set
$EmailCall.AgeingInfo.IsDeferAvailable$=True
Terminate
ReQueue
If disallow defer, continue the process and requeue the call. To
requeue, set Terminate = No.
KeepInDefer
If allow defer, keep this item in the deferred folder. To keep in
the deferred folder (terminating the call cancels the ageing
operation), set Terminate = Yes.
CCSP Designer Help - Tenant - 7.4
88</p><p>Call Rejected script
This script is interpreted when the Call Rejected Event is fired.
It executes as follows:
1.
Play an announcement that no agents are available.
2.
Offer a menu asking the caller if they want to leave a voicemail.
3.
If caller selects to leave a message, record the message.
CCSP Designer Help - Tenant - 7.4
89</p><p>CCSP Designer Help - Tenant - 7.4
90</p><p>The blocks function as follows.
Block
Name
Description
Condition
CheckCallType
Checks the call type of the current call. Since all this script
does is to leave a voicemail, it only makes sense to do this for
VCS calls. The CCLEvent.CallType property is set to 0 for chat
calls, 2 for email calls and 3 for VCS calls.
Play Audio
NoAgents
Plays the no agents announcement. It clears the DTMF
buffer before playing and allows the caller to enter any
DMTF digit to interrupt the announcement.
Assign
InitCounter
Initializes a counter called Counter to one (1).
Play Audio
LeaveVoicemail
Plays the Do you want to leave a voicemail ... announcement. It
allows the caller to interrupt the announcement with any
DTMF entry.
Check Digits
GetSelection
Gets a one digit DTMF entry from the caller and saves the
entry in the variable called Selection. It waits up to five (5)
seconds for this digit before timing out.
Switch
CheckSelection
Checks the selection entered by the caller and selects the
appropriate path.
GoTo
GoToLeaveVoicemail
If the caller enters a 1, then jump to the LeaveVoiceMail.xml
script.
Condition
TooManyErrors
If the caller selects anything else from the menu, this checks
to see if they exceeded the maximum number of allowable
invalid entries, which is three (3).
Assign
IncrementCounter
Increments the counter by one.
Play Audio
InvalidSelection
Plays the invalid selection announcement to the caller. It
does not allow the caller to interrupt this announcement.
Clear Digits
ClearDigits
If the caller enters any DTMF digits while the Invalid
Selection announcement is being played, the caller is not
interrupted, but the VCS would store those DTMF digits in its
buffer. So the buffer should be cleared out before
continuing. Not doing this causes confusion to the caller.
Alternatively, you can configure the rejected script to set every abandoned VoIP call as abandoned in queue.
CCSP Designer Help - Tenant - 7.4
91</p><p>The blocks function as follows.
Block
Name
Description
Condition
CheckCallType
Checks the call type of the current call.
Play Audio
NoAgents
Plays the no agents announcement.
Run
MarkAsAbandoned
Executes cosmocall.MarkAsAbandoned(true), which sets
CCSP Designer Help - Tenant - 7.4
92</p><p>Block
Name
Description
abandoned calls in the rejected script to be reported as
abandoned.
Note
If cosmocall.MarkAsAbandoned(false), or the Run block is
missing, sets abandoned calls in the rejected script to be
reported as rejected.
CCSP Designer Help - Tenant - 7.4
93</p><p>Call Answered script
This script is interpreted when the Call Answered Event is fired and allows system handling of an arriving call
when an agent answers the call. The default script is empty.
Note
l
You cannot use the Recorder block in this script.
l
CallAnswered.xml is not supported in preview campaigns.
CCSP Designer Help - Tenant - 7.4
94</p><p>Call Termination script
This script is interpreted when the Call Termination Event is fired.
It executes as follows:
1.
Check to see if a voicemail has been recorded.
2.
If one has, then strip all skills from the call and assign the VoiceMailSkill.
3.
Send the voicemail using email.
The blocks function as follows.
CCSP Designer Help - Tenant - 7.4
95</p><p>Block
Name
Description
Condition
CheckVMFile
Checks to see if the optional parameter VMFile is set to anything
but NULL (""). If it is not NULL, then the caller has recorded a
voicemail that must be sent via email before terminating.
Remove Skill
RemoveAllSkills
Removes all skills that have been assigned to this call so far.
Add Skill
VoicemailSkill
Adds the VoiceMailSkill to the call.
Send Email
SendEmail
Sends the voicemail as an attachment to an email.
CCSP Designer Help - Tenant - 7.4
96</p><p>Call Pre Sent script
This script can only be run on an outgoing email.
It is called after an agent initiates, replies to, or forwards an email by clicking Send but before the email is
actually sent from the system to the recipient.
The blocks function as follows.
Block
Name
Description
Switch
CheckSubjectContent
Switch expression:
$outgoingEmailcall.outgoingEmailData.Subject$
l
Subject is valid: use the Assign block to set the From
recipient value
l
Subject is invalid: use the Terminate block to suppress
the email
CCSP Designer Help - Tenant - 7.4
97</p><p>Block
Name
Description
Assign
AssignFromRecipient
Set the From recipient to: my@enghouse.com
Terminate
SetEmailAsInvalid
Yes: the call will be terminated and the item will be moved
to the Sent Items folder with the Invalid status.
No: (Default) continue the send flow
Post Call script
Note
Post Call script does not support campaign calls.
This script is interpreted when the caller is still connected after all the other participants of the call hang up. It is
triggered to post process the call, for example, to give a customer the chance to rate or answer a survey about
the call.
For an incoming call, this script is triggered if the call was answered, and the customer is still connected after
the other participants hang up.
This also applies:
l
If the call was transferred to another agent and the customer is still connected after the transferred agent
hangs up.
l
If the call was transferred to an external party (for example, a manager) and the customer (first external
party) is still connected after the second external party hangs up.
l
If the call was conferenced and the customer (first external party) is still connected after all other
participants of the call hang up.
For an outgoing call, this script is triggered if the customer is still connected after the other participants hang
up. The call is always answered because it is initiated by the agent.
For the list of blocks that can be used in this script, see Block availability per CallXML script.
Caution
After an unsuccessful transfer by agent or another network issue, a caller could end up in the Rejected
script instead of the Post Call script.
To handle this, in the Call Rejected script add a Condition block with the expression:
calldataAnsweringAgentId &lt;&gt; 0 and a GoTo block that redirects the caller to the Post Call script.
Note
After importing a workspace with existing VOIP scripts, you must manually add the Post Call script:
1.
Add a new script named Post Call.
2.
Save the script. This process converts the new script to a regular Post Call system script.
3.
Add the permitted blocks and publish the workspace.
CCSP Designer Help - Tenant - 7.4
98</p><p>Elsbeth integration scripts
As part of the integration between the CCSP and Elsbeth products, an audio file needs to be played back to a
customer:
l
At the end of an abandoned call — PlaybackAudioCallAbandoned script
l
After a rebound call is queued — PlaybackAudioReboundQueued script
l
If a rebound call is rejected — PlaybackAudioReboundRejected script
These scripts are system-initiated.
As a prerequisite for playback audio to work, you must do the following:
1.
Select the appropriate tab, depending on your Playback Audio scenario.
2.
Add a new Playback Audio block. Leave the Audio file property blank. CCSP takes the URL of the file to play
from the campaign parameters configured in CCSP Admin.
3.
Connect it with the start block and save the script.
Playback Audio Call Abandoned script
This script is system-initiated and plays back audio to a customer at the end of an abandoned call.
The audio file in the Filename property must match the URL configured in the Audio File URL In Call
Abandoned parameter in the CCSP Admin Campaign properties.
Playback Audio Rebound Queued script
This script is system-initiated and plays back audio to a customer after a rebound call is queued.
The audio file in the Filename property must match the URL configured in the Audio File URL Rebound in
queue timeout reject parameter in the CCSP Admin Campaign properties.
CCSP Designer Help - Tenant - 7.4
99</p><p>Playback Audio Rebound Rejected script
This script is system-initiated and plays back audio to a customer when a rebound call is rejected.
The audio file in the Filename property must match the URL configured in the Audio File URL Rebound no
queueing reject parameter in the CCSP Admin Campaign properties.
CCSP Designer Help - Tenant - 7.4
100</p><p>Music On Hold script
This script is interpreted when the Music On Hold Event is fired.
It executes as follows: Play selected music (.wav file).
Note
To have the music loop, you must program this behavior within the script.
The blocks function as follows.
Block
Name
Description
Play Audio
Music1
Plays a music announcement. It does not allow the caller to interrupt the
announcement.
Play Audio
Music2
Plays another music announcement. It does not allow the caller to
interrupt the announcement.
GoTo
Repeat
Set the GoTo property to Music1 to loop around again.
CCSP Designer Help - Tenant - 7.4
101</p><p>Music On Hold In Queue script
This script is interpreted when the Music On Hold In Queue Event is fired. It executes as follows:
1.
Play please hold announcement
2.
Play selected music (.wav file).
3.
Offer a menu asking the caller if they want to leave a voicemail or continue holding.
4.
If caller selects to leave a voicemail, record the voicemail, otherwise loop back and start playing music
again.
Note
To have the music loop, you must program this behavior within the script.
CCSP Designer Help - Tenant - 7.4
102</p><p>The blocks function as follows.
CCSP Designer Help - Tenant - 7.4
103</p><p>Block
Name
Description
Play Audio
PleaseHold
Plays the please hold announcement.
Play Audio
Music1
Plays a music announcement. It does not allow the caller to
interrupt the announcement.
Play Audio
Music2
Plays another music announcement. It does not allow the
caller to interrupt the announcement.
Play Audio
ContinueHolding
Plays an announcement asking the caller if they would like
to continue holding or leave a voicemail.
Get Digits
GetSelection
Gets a one digit DTMF entry from the caller and saves the
entry in the Selection variable. It waits up to five (5)
seconds for this digit before timing out.
Switch
CheckSelection
Checks the selection entered by the caller and selects the
appropriate path.
GoTo
GoToLeaveVoicemail
If the caller enters 1, then jump to the LeaveVoicemail.xml
script.
CCSP Designer Help - Tenant - 7.4
104</p><p>In Queue Timeout script
This script is interpreted when the In Queue Timeout Event is fired. This script is empty.
Pickup Timeout script
This script is interpreted when the Pickup Timeout Event is fired. This script is empty.
Voicemail processing scripts
This subsection contains the following scripts and topic:
l
Leave Voicemail script
l
Retrieve Voicemail script
l
Voicemail processing prompts
CCSP Designer Help - Tenant - 7.4
105</p><p>Leave Voicemail script
This script guides a caller into leaving a voicemail message for a called party.
Caution
We recommend that you do not modify this script.
CCSP Designer Help - Tenant - 7.4
106</p><p>The blocks function as follows.
Block
Name
Description
Assign
AudioPath
Assign variable AudioPath, value=./Voicemail/. This is an
audio file path local to the VCS system. Default location is
C:/Program Files/Cosmocom/Server
Components/Scripts/AllWaves/Voicemail.
LangPrefix
Assign variable =LangPrefix. The language prefix used
before playing any audio file. If no prefix is specified, the
language is English.
Path
Assign variable =$AudioPath$$LangPrefix$. The complete
path to the audio file, including any language prefix
specified.
WSURL
Assign variable =WSURL,
value=$session.VoicemailWSURL$VoicemailWebService.asm
x. This is the Voicemail web service URL.
WSNamespace
Assign variable =WSNamespace,
value=http://CosmoCom.com/WebServices/VoicemailWS. This is
the voicemail web service namespace.
Condition
ChkAgentMailboxDefined
Conditional
expression=$calldata.DIDAgentVoiceMailEnabled$. Check
that the user mailbox is enabled. If the user does not have a
voicemail box, the user cannot receive voicemail.
If TRUE, go to CalledFromPickupTimeoutScript.
If FALSE, go to PlayNoAgentMailBoxDefined.
CalledFromPickupTimeoutScript   Conditional expression=$CallData.Option(ScriptID)$. If
called from pickup timeout script, call should be rejected.
Therefore, stop executing any logic in the leave voicemail
script.
If TRUE, go to AddCallRejectedSkill.
If FALSE, go to ChkGreetingType.
Web
Services
ChkGreetingType
Get the type of greeting to play.
Switch
CaseGreetingType
Check the type of greeting to play. Valid greeting types are:
l
StandardGreeting — greeting designed for all users in an
organization.
l
PersonalGreeting — greeting recorded by a user for their
own use.
l
PersonalSignature Greeting — greeting designed for all
CCSP Designer Help - Tenant - 7.4
107</p><p>Block
Name
Description
users in an organization but with the insertion of a user's
voice signature.
Else branch: Go to PlayGreeting to play the standard
greeting.
PersonalGreeting branch: Go to PlayPersonalGreeting.
PersonalSignaturebranch: Go to PlayPersonalSignature.
Play Audio
PlayGreeting
Play standard greeting.
PlayPersonalGreeting
Play personal greeting.
PlayPersonalSignature
Play personal signature greeting.
PlayLeaveVM
Play Please leave voicemail message.
Record
Voicemail
RecordVoicemail
Record caller's voicemail message
Add Skill
AddCallRejectedSkill
Reject the call. The CallRejectedSkill skill must exist in your
tenant.
Play Audio
PlayNoAgentMailBoxDefined
Play the agent mailbox not defined message.
PlayThankYou
Play thank you and goodbye message.
PlayGoodbye
Play the good bye announcement.
Terminate
TerminateCall
Terminate the call
This script implements the following caller message flow.
CCSP Designer Help - Tenant - 7.4
108</p><p>For the voice prompts used in this script, see Voicemail processing prompts.
CCSP Designer Help - Tenant - 7.4
109</p><p>Retrieve Voicemail script
Note
Do not confuse this message retrieval with agents retrieving ACD voicemail.
Caution
We recommend that you do not modify this script.
This script helps users retrieve personal voicemail, replay the messages, and manage their voice mailboxes by
storing or deleting messages.
This scripts also allows users to:
l
Create or change a Personal Identification Number (PIN).
l
Create a personal greeting or add their voicemail signature to a standardized greeting. Alternatively, the
system can play a standard greeting.
This script plays the time the message was received. The tenant's time zone is encoded in the script.
Note
Ask your sales engineer to configure your time zone in this script.
It requires the user to have DID and a voice mailbox.
This script implements the following user message retrieval flow.
Flow of Message Retrieval (Page 1)
CCSP Designer Help - Tenant - 7.4
110</p><p>Flow of Message Retrieval (Page 2)
Flow of Message Retrieval (Page 3)
CCSP Designer Help - Tenant - 7.4
111</p><p>For the voice prompts used in this script, see Voicemail processing prompts.
CCSP Designer Help - Tenant - 7.4
112</p><p>Voicemail processing prompts
This table lists the voicemail prompts used in the voicemail processing scripts. The Prompt column provides the
English language text spoken in the prompts.
Filename
Prompt
And.wav
… and …
Arrived.wav
Message arrived …
DaysAgo.wav
… days ago.
EnterMailboxID.wav
Please enter your mailbox ID  then press pound
EnterMailboxPIN.wav
Please enter your mailbox password then press pound
From.wav
… from…
GetVoicemailFail.wav
The request was unsuccessful. Please wait for few seconds.
Goodbye.wav
Goodbye.
HoursAgo.wav
… hours ago.
InvalidMailboxIdOrPIN.wav
The mailbox ID or password you entered is incorrect.
InvalidSelection.wav
You have made an invalid selection.
LeaveVM.wav
There is no one available to answer your call.  Please leave a message
at the tone. When you have finished recording, press pound or just
hang up.
MainMenu.wav
To listen to your messages press one.
Message.wav
… unheard message.
MessageDeleted.wav
Message deleted.
MessageMenu1.wav
To delete, press seven. To save, press nine. For more options, press
zero
MessageMenu2.wav
To replay, press four. To hear the message header, press five. To return
to the main menu press the star. To repeat this menu, press pound .
Messages.wav
… unheard messages.
MessageSaved.wav
Message saved.
MinutesAgo.wav
… minutes ago.
New.wav
.. unheard and …
CCSP Designer Help - Tenant - 7.4
113</p><p>Filename
Prompt
NextMessage.wav
Next Message.
NoAgentMailboxDefined.wav
The person you are calling does not have a mailbox defined.
NoMessages.wav
You have no messages.
OldMessage.wav
.. saved message.
OldMessages.wav
…saved messages.
On.wav
… on …
OneDayAgo.wav
… yesterday.
OneHourAgo.wav
… one hour ago.
OneMinuteAgo.wav
… one minute ago.
TechnicalProblem.wav
We are currently experiencing technical difficulties. Our apologies for
the inconvenience. Please try again later.
ThankYou.wav
Thank you for leaving your message, Good bye.
ThankYouForCalling.wav
Thank you for calling. 
YouHave.wav
You have …
CCSP Designer Help - Tenant - 7.4
114</p><p>Web services XML examples
This script requests client information.
XML request example
&lt;?xml version="1.0" ?&gt;
         &lt;SOAP-ENV:Envelope xmlns:q0="http://wsdl.use.abc.com"
                xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/"
                xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                xmlns:xsd="http://www.w3.org/2001/XMLSchema"&gt;
         &lt;SOAP-ENV:Body&gt;
         &lt;q0:GetClientInformation xmlns:q0="http://wsdl.use.abc.com"&gt;
                &lt;Request&gt;
                        &lt;q0:RequestWrapper&gt;
                                &lt;q0:PIN_Number&gt;123456789&lt;/q0:PIN_Number&gt;
                                &lt;q0:Surname&gt;Doell&lt;/q0:Surname&gt;
                                &lt;q0:GivenName&gt;John&lt;/q0:GivenName&gt;
                        &lt;/q0:RequestWrapper&gt;
                &lt;/Request&gt;
         &lt;/q0:GetClientInformation&gt;
         &lt;/SOAP-ENV:Body&gt;
         &lt;/SOAP-ENV:Envelope&gt;
XML response example
This script provides the requested client information.
&lt;?xml version="1.0" ?&gt;
 &lt;soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"
 xmlns:xsd="http://www.w3.org/2001/XMLSchema"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
&lt;soapenv:Header&gt;
 &lt;ns1:ReplyHeader soapenv:mustUnderstand="0"
xmlns:ns1="http://wsdl.use.abc.com/XHeader"&gt;
 &lt;ns1:From xsi:type="xsd:string"&gt;Anonymous&lt;/ns1:From&gt;
 &lt;ns1:QueryDateAndTime xsi:type="xsd:string" /&gt;
 &lt;ns1:MessageId xsi:type="xsd:string"&gt;unknown&lt;/ns1:MessageId&gt;
 &lt;ns1:HeaderVersion xsi:type="xsd:string" /&gt;
 &lt;/ns1:ReplyHeader&gt;
 &lt;/soapenv:Header&gt;
CCSP Designer Help - Tenant - 7.4
115</p><p>&lt;soapenv:Body&gt;
 &lt;GetClientInformation xmlns:n="http://wsdl.use.abc.com"&gt;
 &lt;Response xsi:type="n:Response"&gt;
 &lt;n:PersonNameResponse&gt;
         &lt;n:PersonInfo&gt;
                &lt;n:PIN_Number&gt;123456789&lt;/n:PIN_Number&gt;
                &lt;n:BirthDate&gt;19730731&lt;/n:BirthDate&gt;
                &lt;n:Contract&gt;
                        &lt;n:ContractNumber&gt;1111&lt;/n:ContractNumber&gt;
                        &lt;n:SignatureLocation&gt;New York&lt;/n:SignatureLocation&gt;
                        &lt;n:SignatureDate&gt;20040220&lt;/n:SignatureDate&gt;
                        &lt;n:SignatureTime&gt;124010&lt;/n:SignatureTime&gt;
                &lt;/n:Contract&gt;
                &lt;n:Contract&gt;
                        &lt;n:ContractNumber&gt;2222&lt;/n:ContractNumber&gt;
                        &lt;n:SignatureLocation&gt;Boston&lt;/n:SignatureLocation&gt;
                        &lt;n:SignatureDate&gt;20040425&lt;/n:SignatureDate&gt;
                        &lt;n:SignatureTime&gt;123015&lt;/n:SignatureTime&gt;
                &lt;/n:Contract&gt;
                &lt;n:Contract&gt;
                        &lt;n:ContractNumber&gt;3333&lt;/n:ContractNumber&gt;
                        &lt;n:SignatureLocation&gt;Washington DC&lt;/n:SignatureLocation&gt;
                        &lt;n:SignatureDate&gt;20050330&lt;/n:SignatureDate&gt;
                        &lt;n:SignatureTime&gt;151215&lt;/n:SignatureTime&gt;
                &lt;/n:Contract&gt;
         &lt;/n:PersonInfo&gt;
 &lt;/n:PersonNameResponse&gt;
 &lt;/Response&gt;
 &lt;/GetClientInformation&gt;
 &lt;/soapenv:Body&gt;
 &lt;/soapenv:Envelope&gt;
CCSP Designer Help - Tenant - 7.4
116</p><p>5: Blocks
Note
Block names must be unique within each script and must not exceed 256 characters in length.
This section contains the following topics:
l
Block availability per CallXML script
See also Script blocks panel in the Workspace editor overview.
CCSP Designer Help - Tenant - 7.4
117</p><p>Block availability per CallXML script
This table indicates which Designer blocks are available in particular CallXML scripts.
Designer blocks are listed in the first column and the CallXML scripts in the subsequent column headings. The script names also correspond to CCSP events.
Block
Ivr
Ivr
Timeout
Call
Answered
Call
Arrival
Call
Aged
Call
Pre
Sent
Music
On Hold
In Queue
Music
On
Hold
In
Queue
Timeout
Call
Rejected
Pickup
Timeout
Call
Termination
Outgoing
Call
A2A
Call
Rejected
Call
Deferred
Playback
Audio Call
Abandoned
Playback
Audio
Rebound
Queued
Playback
Audio
Rebound
Rejected
Post
Call
Abort
Yes
Yes
No
No
No
No
Yes
Yes
No
Yes
No
No
No
Yes
No
No
No
No
Yes
Add Skill
Yes
Yes
No
Yes
Yes
No
Yes
No
Yes
Yes
Yes
No
No
No
No
No
No
No
No
Agent Selection
Rule
Yes
Yes
No
Yes
Yes
No
Yes
No
Yes
Yes
Yes
No
No
No
No
No
No
No
No
Agentless
Campaign
Outcome
Yes
No
No
No
No
No
No
No
No
No
No
No
No
No
No
No
No
No
No
Answer
Yes*
No
No
No
No
No
No
No
No
No
No
No
No
No
No
No
No
No
No
Assign
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
No
No
No
Yes
Bridge Call
Yes
Yes
No
No
No
No
No
No
No
Yes
No
No
No
No
No
No
No
No
Yes
Call
Maturity/Priority
Yes
Yes
No
Yes
Yes
No
Yes
No
Yes
Yes
Yes
No
No
No
No
No
No
No
No
Caller Message
Yes
Yes
No
Yes
Yes
No
Yes
No
Yes
Yes
Yes
No
No
No
Yes
No
No
No
Yes
Caller Name
Yes
Yes
No
Yes
Yes
No
Yes
No
Yes
Yes
Yes
No
No
No
Yes
No
No
No
Yes
Caller URL
Yes
Yes
No
Yes
Yes
No
Yes
No
Yes
Yes
Yes
No
No
No
Yes
No
No
No
Yes
Check Date
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
No
No
No
Yes
Check Time
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
No
No
No
Yes
CCSP Designer Help - Tenant - 7.4
118</p><p>Block
Ivr
Ivr
Timeout
Call
Answered
Call
Arrival
Call
Aged
Call
Pre
Sent
Music
On Hold
In Queue
Music
On
Hold
In
Queue
Timeout
Call
Rejected
Pickup
Timeout
Call
Termination
Outgoing
Call
A2A
Call
Rejected
Call
Deferred
Playback
Audio Call
Abandoned
Playback
Audio
Rebound
Queued
Playback
Audio
Rebound
Rejected
Post
Call
Clear Digits
Yes
Yes
No
No
No
No
Yes
Yes
No
Yes
No
No
No
Yes
No
No
No
No
Yes
Clear Digits
Events
Yes
Yes
Yes
No
No
No
Yes
No
No
Yes
No
No
No
No
No
No
No
No
Yes
Clear User Data
Yes
Yes
No
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
No
No
No
Yes
Condition
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
No
No
No
Yes
Define Grammar
Yes
Yes
No
No
No
No
Yes
Yes
No
Yes
No
No
No
Yes
No
No
No
No
Yes
Edit Email
No
No
No
No
No
Yes
No
No
No
No
No
No
No
No
No
No
No
No
No
Get Agent
Statistics
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
No
No
No
Yes
Get Digits
Yes
Yes
No
No
No
No
Yes
Yes
No
Yes
No
No
No
Yes
No
No
No
No
Yes
Get Phone
Information
Yes
Yes
No
Yes
No
No
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
No
No
No
No
No
Get Queue
Statistics
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
No
No
No
Yes
Get User Data
Yes
Yes
No
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
No
No
No
Yes
GoTo
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
No
No
No
Yes
GoTo Voicemail
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
No
No
No
Yes
Hangup
Yes
Yes
No
No
No
No
Yes
No
No
Yes
No
No
No
Yes
No
No
No
No
Yes
IVR Recording
Yes
No
No
No
No
No
No
No
No
No
No
No
No
No
No
No
No
No
Yes
IVR Transfer
Recording
Yes
Yes
No
No
No
No
No
No
No
Yes
No
No
No
No
No
No
No
No
Yes
Leave Voicemail
Yes
Yes
No
No
No
No
Yes
Yes
No
Yes
No
No
No
Yes
No
No
No
No
Yes
Log
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
No
No
No
Yes
CCSP Designer Help - Tenant - 7.4
119</p><p>Block
Ivr
Ivr
Timeout
Call
Answered
Call
Arrival
Call
Aged
Call
Pre
Sent
Music
On Hold
In Queue
Music
On
Hold
In
Queue
Timeout
Call
Rejected
Pickup
Timeout
Call
Termination
Outgoing
Call
A2A
Call
Rejected
Call
Deferred
Playback
Audio Call
Abandoned
Playback
Audio
Rebound
Queued
Playback
Audio
Rebound
Rejected
Post
Call
Logging Control
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
No
No
No
Yes
Mask Digits
Yes
Yes
No
No
No
No
Yes
Yes
No
Yes
No
No
No
Yes
No
No
No
No
Yes
MD5 Encryption
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
No
No
No
Yes
Menu
Yes
Yes
No
No
No
No
Yes
Yes
No
Yes
No
No
No
Yes
No
No
No
No
Yes
Optional
Parameters
Yes
Yes
Yes
Yes
Yes
No
Yes
Yes
Yes
Yes
Yes
Yes
Yes
No
Yes
No
No
No
Yes
Percent Allocated Yes
Yes
Yes
Yes
Yes
No
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
No
No
No
Yes
Play Audio
Yes
Yes
No
No
No
No
Yes
Yes
No
Yes
No
No
No
Yes
No
No
No
No
Yes
Play Date
Yes
Yes
No
No
No
No
Yes
Yes
No
Yes
No
No
No
Yes
No
No
No
No
Yes
Play Greeting
No
No
Yes
No
No
No
No
No
No
No
No
No
No
No
No
No
No
No
Yes
Play Money
Yes
Yes
No
No
No
No
Yes
Yes
No
Yes
No
No
No
Yes
No
No
No
No
Yes
Play Number
Yes
Yes
No
No
No
No
Yes
Yes
No
Yes
No
No
No
Yes
No
No
No
No
Yes
Play Text
Yes
Yes
No
No
No
No
Yes
Yes
No
Yes
No
No
No
Yes
No
No
No
No
Yes
Play Video
Yes
Yes
No
No
No
No
Yes
Yes
No
Yes
No
No
No
Yes
No
No
No
No
Yes
Playback
Audio**
No
No
No
No
No
No
No
No
No
No
No
No
No
No
No
Yes
Yes
Yes
No
Queue Name
Yes
Yes
No
Yes
Yes
No
Yes
No
Yes
Yes
Yes
No
Yes
No
No
No
No
No
No
Read SIP Header
Yes
No
No
No
No
No
No
No
No
No
No
No
No
No
No
No
No
No
No
Record Audio
Yes
Yes
No
No
No
No
Yes
Yes
No
Yes
No
No
No
Yes
No
No
No
No
Yes
Record Video
Yes
Yes
No
No
No
No
Yes
Yes
No
Yes
No
No
No
Yes
No
No
No
No
Yes
Record Voicemail
(deprecated)
Yes
Yes
No
No
No
No
Yes
Yes
No
Yes
No
No
No
Yes
No
No
No
No
Yes
CCSP Designer Help - Tenant - 7.4
120</p><p>Block
Ivr
Ivr
Timeout
Call
Answered
Call
Arrival
Call
Aged
Call
Pre
Sent
Music
On Hold
In Queue
Music
On
Hold
In
Queue
Timeout
Call
Rejected
Pickup
Timeout
Call
Termination
Outgoing
Call
A2A
Call
Rejected
Call
Deferred
Playback
Audio Call
Abandoned
Playback
Audio
Rebound
Queued
Playback
Audio
Rebound
Rejected
Post
Call
Recorder
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
No
Yes
No
No
No
No
No
Yes
Remove Skill
Yes
Yes
No
Yes
Yes
No
Yes
No
Yes
Yes
Yes
Yes
No
No
No
No
No
No
No
ReQueue
No
No
No
No
No
No
Yes
No
Yes
No
No
No
No
No
No
No
No
No
No
Routing Mode
Yes
Yes
No
Yes
Yes
No
Yes
No
Yes
Yes
Yes
No
No
No
No
No
No
No
No
Routing
Properties***
Yes
Yes
No
Yes
Yes
No
Yes
No
Yes
Yes
Yes
No
No
No
No
No
No
No
No
Run
Yes
Yes
Yes
Yes
Yes
No
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
No
No
No
Yes
Schedule
Callback
Yes
Yes
Yes
Yes
Yes
No
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
No
No
No
Yes
Script Entry Point Yes
Yes
No
Yes
Yes
No
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
No
No
No
Yes
Send Callback
(deprecated)
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
No
No
No
Yes
Send Email
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
No
No
No
Yes
Send User Data
Yes
Yes
No
Yes
Yes
No
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
No
No
No
Yes
Set Defer Type
No
No
No
No
No
No
No
No
No
No
No
No
No
No
Yes
No
No
No
No
Set Event
Yes
Yes
Yes
No
No
No
Yes
No
No
Yes
No
No
No
No
No
No
No
No
Yes
Set Language
Yes
Yes
No
Yes
Yes
No
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
No
No
No
Yes
Set SIP Header
No
No
No
No
No
No
No
No
No
No
No
No
Yes
No
No
No
No
No
No
Speech Enabled
Menu
Yes
Yes
No
No
No
No
Yes
Yes
No
Yes
No
No
No
Yes
No
No
No
No
Yes
Speech Play and
Collect
Yes
Yes
No
No
No
No
Yes
Yes
No
Yes
No
No
No
Yes
No
No
No
No
Yes
Stop Video
Yes
Yes
No
No
No
No
Yes
Yes
No
Yes
No
No
No
Yes
No
No
No
No
Yes
CCSP Designer Help - Tenant - 7.4
121</p><p>Block
Ivr
Ivr
Timeout
Call
Answered
Call
Arrival
Call
Aged
Call
Pre
Sent
Music
On Hold
In Queue
Music
On
Hold
In
Queue
Timeout
Call
Rejected
Pickup
Timeout
Call
Termination
Outgoing
Call
A2A
Call
Rejected
Call
Deferred
Playback
Audio Call
Abandoned
Playback
Audio
Rebound
Queued
Playback
Audio
Rebound
Rejected
Post
Call
Supervised
Transfer
Yes
Yes
No
No
No
No
No
No
No
Yes
No
No
No
No
No
No
No
No
Yes
Switch
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
No
No
No
Yes
Table
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
No
No
No
Yes
Table Lookup
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
No
No
No
Yes
Terminate
Yes
Yes
No
Yes
Yes
Yes
No
No
Yes
Yes
Yes
No
No
No
Yes
No
No
No
No
Transfer Call
Yes
Yes
No
No
No
No
No
No
No
Yes
No
No
No
No
No
No
No
No
Yes
Transfer by Refer Yes
Yes
No
No
No
No
No
No
No
Yes
No
No
No
No
No
No
No
No
Yes
UnQueue
No
No
No
No
Yes
No
Yes
No
Yes
No
No
No
No
No
No
No
No
No
No
VXML Transfer
Call
Yes
Yes
No
No
No
No
No
No
No
Yes
No
No
No
No
No
No
No
No
Yes
Wait
Yes
Yes
No
No
No
No
Yes
Yes
No
Yes
No
No
No
Yes
No
No
No
No
Yes
Wait for Events
Yes
Yes
Yes
No
No
No
Yes
No
No
Yes
No
No
No
No
No
No
No
No
Yes
Web Services
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
Yes
No
No
No
Yes
* Available only when [script_answer_supervision] = 1 in Registry.
** Available only in the Elsbeth integration.
*** Not necessarily available.
CCSP Designer Help - Tenant - 7.4
122</p><p>Abort
This block aborts playback of asynchronous mode .wav files, that are currently active for either the inbound or
outbound line.
Properties
Values
Description
Line
Inbound
The function is applied to the original (incoming) call.
Outbound
The function is applied to the outbound call (to where the call is transferred).
This block is used to end a Play Audio, Play Date, Play Money, or Play Number block that has been set to Async
Mode. It has the same function as termination digits except the script determines when to end the .wav file
instead of the caller.
Add Skill
This block assigns a skill to a call.
Properties
Values
Description
Skill Name
String
The name of the skill to be added to the current call.
This must be a valid skill for this tenant for the skill to be added, so spelling is
critical but skill names are not case sensitive.
You can select the skill name from a drop-down list of available skills in the
tenant. This list is refreshed every time you select the block. If a new skill is added
while you are editing the block, to see the added skill, select another block or
select the Flow editor background and then reselect the Add Skill block.
If a skill is removed from the tenant and the value is currently being used as the
skill name, the value remains as the selected value, until you manually change it.
You are not restricted to the values provided in the drop down list, so you can use
an expression as the selected value.
CCSP Designer Help - Tenant - 7.4
123</p><p>Agent Selection Rule
This block routes call traffic based on skill weighting, if it is implemented in your contact center.
For more information on assigning skills to agents, see the CCSP Tenant Administrator Guide.
Properties
Values
Description
Rule
Skill Neutral
Route the call to the agent with the longest time in stage.
Least Skilled
Route the call to the available agent with the highest number assigned to
this skill.
Most Skilled
Route the call to the available agent with the lowest number assigned to this
skill.
In the skill definition, the skill should be defined either to enable weighting or not. Upon enabling weighting,
the administrator may then set the weights as needed.
Note
If no weight is specified for a particular agent, the weight is assumed to be 0.
The call object contains another field agent selection rule that can be set to most skilled, least skilled or skill
neutral.
Skill weight is considered by the Call Matcher (CMS) only if the CMS is doing agent selection (call comes in,
agent must be chosen to answer the call). It is not relevant to call selection (calls waiting, agent becomes
available, choose call).
CMS first considers the pool of agents for which all required skills are met. If none of the skills are enabled for
weighting, or if the skill neutral flag is set on the call object, CMS routes the call to the agent with the longest
time in stage.
If one of the skills is configured for weighting, then the CMS selects the agent with the lowest number (for the
most skilled flag in call object) or the agent with the highest number (for the least skilled flag in call object). If
there is more than one agent with the same number, then the secondary criteria is load, and the third criteria is
longest time in stage.
If more than one of the skills is configured for weighting, then the CMS sums the agents' individual skill
weights (the sum is only for skills which are present in the call requirements) to create a skill score, and then
proceeds to choose either the most skilled (lowest score) or least skilled (highest score) agent.
CCSP Designer Help - Tenant - 7.4
124</p><p>Agentless Campaign Outcome
This block determines the action to take when the IVR Agentless script completes.
Properties
Values
Description
Action
Terminate Call
End the call in IVR.
Route To Agent
Route the call to a CCSP agent, based on the existing routing properties.
For an example, see Agentless IVR script.
CCSP Designer Help - Tenant - 7.4
125</p><p>Answer
VCS only.
This block answers a call.
Properties
Values
Description
Action
Answer Call
Answer the incoming call.
Continue Ringing
Force the incoming call to remain in the ringing state.
Reject Call
Cause the incoming call to be disconnected.
Comment
Optional text
Description of what this block does in your script.
By default, the VCS answers all calls before firing the Incoming Call Event (the event that runs the IVR script).
This behavior can be changed through a registry setting on the VCS, (script_answer_supervision) to make the
event fire before the call is answered, thus allowing a script to control answer supervision. This setting should
be changed by the system administrator.
Setting this block to Answer Call connects the call, allowing the script to play audio prompts and receive DTMF.
Setting this block to Continue Ringing allows the call to continue ringing on the caller's phone until an agent
answers the call. Then the call is answered by the VCS.
Setting this block to Reject Call allows the call to be hung up without charging the caller or service provider for
the call. The SIP code for rejection is configured in CCSP Admin, in the VCS parameters.
Caution
Your system administrator must create the ../VCSdebug/script_answer_supervision registry key and
set it to 1.
CCSP Designer Help - Tenant - 7.4
126</p><p>Assign
This block assigns a static variable to use in this scriptable event. This variable is only available for the duration
of the current event. A variable set in one event is not available in other events for the same call. These
variables are not available to the applications. Also see How to use variables.
To use the value of a variable set in an Assign block, add $ before and after the variable name. For example, to
use a variable named Counter in another block, type $Counter$.
Note
If you want to use variables that persist and are available to the agent applications, see Optional
parameters.
Properties
Values
Description
Variable Name
String
Name of the variable.
To use hyphenated names, enclose the name in quotes, for
example, "My-VCS"
Variable Value
String (Boolean
number)
Value of the variable.
Direct Inward Dial extensions in scripts
To work with Direct Inward Dial (DID) extensions in scripts:
1.
Use one Assign block to assign the DID number to the calldata.directextension variable.
2.
Use a second Assign block to assign a boolean value to the calldata.directextensioncall variable. A value
of 0 indicates an ACD call. A value of 1 indicates a DID call.
CCSP Designer Help - Tenant - 7.4
127</p><p>Bridge Call
VCS only.
This block sets the bridging method for calls. See Transfer Call and Supervised Transfer for more information.
Typically this block is only used after a Transfer Call or Supervised Transfer block which has the Bridge Method
set to Do not Bridge.
Properties
Values
Description
Bridge Method
Bridge calls
Bridges the call control and media stream so the individual
calls become a single call. If either party disconnects, the call
terminates.
Bridge media only
Parties can communicate with each other, but if one party
disconnects, call does not terminate.
Don't bridge
Use only for indexing backward compatibility.
When used, the following warning message is written in the
Designer logs "WARNING: bridge call not supported for Don't
Bridge option in Bridge block" .
The calls are not bridged when the Transfer Call (or Supervised
Transfer) and Bridge blocks are used and both blocks have the
Don't Bridge value.
Bridge media &amp; DTMF
Parties can communicate with and forward DTMF tones to each
other, but if one party disconnects, call does not terminate.
CCSP Designer Help - Tenant - 7.4
128</p><p>Call Maturity/Priority
This block modifies the arrival time bias for the current call. The lower the value, the higher you move the call in
the queue.
Usually, the system computes call maturity. The Call Maturity/Priority block enables you to set your own value
for call maturity.
Note
The system interprets a call maturity of 0 literally. A call maturity value of zero implies that the default
TQoS of a queue is used as the call maturity.
You can separately assign Call Priority in your scripts. Priority overrides maturity. Calls with a higher priority
are handled before calls with a lower priority, regardless of the maturity of calls. For calls with the same
priority, maturity determines the order in which calls are handled.
Properties
Values
Description
Call Maturity
Integer
Number of seconds to use for the time bias.
Note
This replaces the current value. It is not added to it.
Call Priority
Integer
A number between 0 and 99, where 99 is the highest priority. The default is 49.
For more information on the following topics, see the CCSP Tenant Administrator Guide:
l
TQoS — Target Quality of Service
l
Call Priority
l
Routing of calls
CCSP Designer Help - Tenant - 7.4
129</p><p>Caller Message
This block displays a message to the agent about the caller.
Properties
Values
Description
callerMessage
String
Can display any message about the caller.
Caution
l
This message must not exceed 30K characters.
l
This message overwrites any previously configured Caller Message unless
set to $CallData.CallerMessage$  New Message, for example.
Caller Name
This block set the caller's name.
Properties
Values
Description
Caller Name
String
The name of the caller. This is displayed to the agent when the call is answered.
For a phone call, this can be populated by a database lookup, or from the Caller
ID, if available.
Note
Outbound dialing campaigns only. If this string is set to $callData.CampaignName$, then the name
of the campaign appears is in the Caller Name field in the agent applications.
CCSP Designer Help - Tenant - 7.4
130</p><p>Caller URL
This block sets the caller's URL.
Properties
Values
Description
URL
String
This can be any URL related to the call or caller. For a Web call or email it is
typically the website the caller was viewing when they requested CCSP.
Check Date
This block routes calls based on the date criteria you select.
Properties
Values
Description
Time Zone
Local
The current local date for the connection server is used.
GMT
The current GMT date is used.
Configure the Check Date block
1.
Right-click the block and click Add case.
2.
Click one of the following options and follow the corresponding instructions:
o
Date
o
Day of week
o
Holiday
3.
Connect the Case branch
to the appropriate block in the script.
4.
Connect the Else branch
to the appropriate block in the script.
CCSP Designer Help - Tenant - 7.4
131</p><p>Configure date
1.
In the Date dialog, select a single date or a block of dates.
2.
Optionally, in Label, type an alternative description.
3.
Click OK. The Case branch
appears.
Configure day of week
1.
In the Day-Of-Week dialog, select one or more days.
CCSP Designer Help - Tenant - 7.4
132</p><p>2.
Optionally, in Label, type an alternative description.
3.
Click OK. The Case branch
appears.
Configure holiday
1.
In the Holiday dialog, select one or more holidays.
2.
Optionally, in Label, type an alternative description.
3.
Click OK. The Case branch
appears.
Note
l
The information for this file is contained in the file Holiday.xml. The default location of this file is:
&lt;installation directory&gt;/CosmoCom/Server Components/Designer
l
This file can be edited with a text editor and should be updated on a yearly basis, or as often as needed.
CCSP Designer Help - Tenant - 7.4
133</p></section></article></body></html>